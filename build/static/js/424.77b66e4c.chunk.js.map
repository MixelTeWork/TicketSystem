{"version":3,"file":"static/js/424.77b66e4c.chunk.js","mappings":"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","sources":["api/apiError.ts","api/user.ts","api/operations.ts","utils/scrollToTop.tsx","webpack://ticket_system/./src/components/HeaderBack/styles.module.css?464d","components/HeaderBack/index.tsx","utils/classNames.ts","webpack://ticket_system/./src/components/Header/styles.module.css?07e3","utils/fetchPost.ts","api/auth.ts","webpack://ticket_system/./src/components/Spinner/styles.module.css?6126","components/Spinner/index.tsx","components/Header/index.tsx","webpack://ticket_system/./src/components/Layout/styles.module.css?6939","components/Layout/index.tsx","pages/NotFoundPage/index.tsx","pages/NoPermissionPage/index.tsx","webpack://ticket_system/./src/pages/AuthPage/styles.module.css?7367","utils/useTtile.ts","webpack://ticket_system/./src/components/Form/styles.module.css?5f34","components/Form/index.tsx","pages/AuthPage/index.tsx","pages/IndexPage/index.tsx","webpack://ticket_system/./src/pages/ScannerPage/styles.module.css?d401","webpack://ticket_system/./src/components/Scanner/styles.module.css?0297","components/Scanner/index.tsx","utils/nums.ts","utils/dates.ts","webpack://ticket_system/./src/pages/ScannerPage/ScannerHeader/styles.module.css?d047","pages/ScannerPage/ScannerHeader/index.tsx","api/events.ts","webpack://ticket_system/./src/components/Popup/styles.module.css?f1d6","components/Popup/index.tsx","api/tickets.ts","api/checkTicket.ts","utils/useSound.ts","utils/getTicketPrefix.ts","pages/ScannerPage/index.tsx","webpack://ticket_system/./src/pages/EventsPage/styles.module.css?6236","components/create/CreateEventForm.tsx","pages/EventsPage/index.tsx","pages/StaffPage/index.tsx","webpack://ticket_system/./src/pages/EventPage/styles.module.css?2091","api/ticketTypes.ts","components/create/CreateTicketForm.tsx","webpack://ticket_system/./src/components/ViewTicket/styles.module.css?3dc1","components/ViewTicket/index.tsx","components/edit/EditTicketTypesForm.tsx","pages/EventPage/index.tsx","webpack://ticket_system/./src/pages/TicketsPage/styles.module.css?e67a","pages/TicketsPage/index.tsx","webpack://ticket_system/./src/pages/PrintTicketsPage/styles.module.css?1c5e","pages/PrintTicketsPage/index.tsx","App.tsx"],"sourcesContent":["export default class ApiError extends Error {}","import { useQuery } from \"react-query\";\nimport ApiError from \"./apiError\";\nimport { ResponseMsg, User } from \"./dataTypes\";\n\nexport default function useUser()\n{\n\treturn useQuery(\"user\", getUser);\n}\n\nasync function getUser(): Promise<User>\n{\n\tconst res = await fetch(\"/api/user\");\n\tconst data = await res.json();\n\n\tif (res.status == 401) return { auth: false, id: -1, login: \"\", name: \"\", operations: [] };\n\tif (!res.ok) throw new ApiError((data as ResponseMsg).msg);\n\n\tconst user = data as User;\n\tuser.auth = true;\n\treturn user;\n}\n","import { UseQueryResult } from \"react-query\";\nimport { User } from \"./dataTypes\";\nimport useUser from \"./user\";\n\nconst Operations = {\n\tpage_events: \"page_events\",\n\tpage_staff: \"page_staff\",\n\tadd_event: \"add_event\",\n\tadd_ticket: \"add_ticket\",\n}\n\nexport type Operation = keyof typeof Operations;\n\nexport default function hasPermission(user: UseQueryResult<User, unknown>, operation: Operation)\n{\n\treturn !!(user.data?.auth && user.data?.operations.includes(operation));\n}\n\nexport function useHasPermission(operation: Operation)\n{\n\tconst user = useUser();\n\treturn !!(user.data?.auth && user.data?.operations.includes(operation));\n}\n","import { useEffect } from \"react\";\nimport { useLocation } from \"react-router-dom\";\n\nexport default function ScrollToTop()\n{\n\tconst { pathname } = useLocation();\n\n\tuseEffect(() =>\n\t{\n\t\twindow.scrollTo(0, 0);\n\t}, [pathname]);\n\n\treturn null;\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"styles_root__4DGhY\"};","import { useNavigate } from \"react-router-dom\";\nimport styles from \"./styles.module.css\"\n\nexport default function HeaderBack()\n{\n\tconst navigate = useNavigate();\n\treturn (\n\t\t<div className={styles.root}>\n\t\t\t<button onClick={() => navigate(-1)}>\n\t\t\t\tНазад\n\t\t\t</button>\n\t\t</div>\n\t);\n}\n","export default function classNames(...names: (string | undefined | null | false)[])\n{\n\treturn names.filter(v => !!v).join(\" \");\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"styles_root__Zvl9c\",\"home\":\"styles_home__o+-s7\",\"block\":\"styles_block__a1SM7\"};","export default function fetchPost(input: RequestInfo | URL, body?: any)\n{\n\treturn fetch(input, {\n\t\tmethod: \"POST\",\n\t\theaders: {\n\t\t\t\"Content-Type\": \"application/json\"\n\t\t},\n\t\tbody: body === undefined ? null : JSON.stringify(body),\n\t});\n}\n","import { useMutation, useQueryClient } from \"react-query\";\nimport fetchPost from \"../utils/fetchPost\"\nimport ApiError from \"./apiError\";\nimport { ResponseMsg, User } from \"./dataTypes\";\n\nexport function useMutationAuth(onError?: (msg: string) => void)\n{\n\tconst queryClient = useQueryClient();\n\tconst mutation = useMutation({\n\t\tmutationFn: postAuth,\n\t\tonSuccess: (data) =>\n\t\t{\n\t\t\tqueryClient.setQueryData(\"user\", () => data);\n\t\t},\n\t\tonError: (error) =>\n\t\t{\n\t\t\tonError?.(error instanceof ApiError ? error.message : \"Произошла ошибка, попробуйте ещё раз\");\n\t\t}\n\t});\n\treturn mutation;\n}\n\nasync function postAuth(authData: AuthData)\n{\n\tconst res = await fetchPost(\"/api/auth\", authData);\n\tconst data = await res.json();\n\tif (!res.ok) throw new ApiError((data as ResponseMsg).msg);\n\n\tconst user = data as User;\n\tuser.auth = true;\n\treturn user;\n}\n\nexport async function postLogout()\n{\n\tawait fetchPost(\"/api/logout\");\n}\n\ninterface AuthData\n{\n\tlogin: string,\n\tpassword: string,\n}\n\nexport function useMutationLogout()\n{\n\tconst queryClient = useQueryClient();\n\tconst mutation = useMutation({\n\t\tmutationFn: postLogout,\n\t\tonSuccess: () =>\n\t\t{\n\t\t\tqueryClient.invalidateQueries(\"user\");\n\t\t}\n\t});\n\treturn mutation;\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"styles_root__BdzzK\",\"spinner\":\"styles_spinner__rlI86\",\"lds-ring\":\"styles_lds-ring__jnLuB\"};","import styles from \"./styles.module.css\"\n\nexport default function Spinner({ color, zIndex }: SpinnerProps)\n{\n\treturn (\n\t\t<div className={styles.root}>\n\t\t\t<div className={styles.spinner} style={{ \"--color\": color, zIndex } as React.CSSProperties}><div></div><div></div><div></div><div></div></div>\n\t\t</div>\n\t);\n}\n\ninterface SpinnerProps\n{\n\tcolor?: string,\n\tzIndex?: number,\n}","import { Link, useLocation, useNavigate } from \"react-router-dom\";\nimport styles from \"./styles.module.css\"\nimport logo from \"./logo64.png\"\nimport { useMutationLogout } from \"../../api/auth\";\nimport useUser from \"../../api/user\";\nimport Spinner from \"../Spinner\";\n\nexport default function Header()\n{\n\tconst location = useLocation();\n\tconst navigate = useNavigate();\n\tconst mutation = useMutationLogout();\n\tconst user = useUser();\n\n\treturn (\n\t\t<div className={styles.root}>\n\t\t\t<span className={styles.block}>\n\t\t\t\t<Link to=\"/\" className={styles.home}>\n\t\t\t\t\t<img src={logo} alt=\"На главную\" />\n\t\t\t\t</Link>\n\t\t\t\t{location.pathname != \"/\" && <button onClick={() => navigate(-1)}>Назад</button>}\n\t\t\t</span>\n\t\t\t<span className={styles.block}>\n\t\t\t\t<span>{user.data?.name}</span>\n\t\t\t\t<button onClick={() => mutation.mutate()} disabled={mutation.status != \"idle\"}>\n\t\t\t\t\tВыйти\n\t\t\t\t</button>\n\t\t\t</span>\n\t\t\t{mutation.status != \"idle\" && <Spinner />}\n\t\t</div>\n\t);\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"styles_root__xvR2N\",\"body\":\"styles_body__S-p4X\",\"body_centered\":\"styles_body_centered__NzRPU\",\"body_centeredPage\":\"styles_body_centeredPage__R-EzO\"};","import classNames from \"../../utils/classNames\";\nimport Header from \"../Header\";\nimport styles from \"./styles.module.css\"\n\nexport default function Layout({ children, className, centered = false, centeredPage = false, height100 = false, gap = 0, header = <Header /> }: LayoutProps)\n{\n\treturn (\n\t\t<div className={styles.root} style={{ maxHeight: height100 ? \"100dvh\" : \"\" }}>\n\t\t\t{header || <div></div>}\n\t\t\t<div\n\t\t\t\tclassName={classNames(\n\t\t\t\t\tstyles.body, className,\n\t\t\t\t\tcentered && styles.body_centered,\n\t\t\t\t\tcenteredPage && styles.body_centeredPage,\n\t\t\t\t)}\n\t\t\t\tstyle={{ gap, maxHeight: height100 ? \"100%\" : \"\" }}\n\t\t\t>\n\t\t\t\t{children}\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\ninterface LayoutProps extends React.PropsWithChildren\n{\n\tcenteredPage?: boolean,\n\tcentered?: boolean,\n\theight100?: boolean,\n\tgap?: number | string,\n\tclassName?: string,\n\theader?: React.ReactNode,\n}\n","import HeaderBack from \"../../components/HeaderBack\";\nimport Layout from \"../../components/Layout\";\n\nexport default function NotFoundPage()\n{\n\treturn (\n\t\t<Layout centered header={<HeaderBack />}>\n\t\t\tТакой страницы нет\n\t\t</Layout>\n\t);\n}\n","import HeaderBack from \"../../components/HeaderBack\";\nimport Layout from \"../../components/Layout\";\n\nexport default function NoPermissionPage()\n{\n\treturn (\n\t\t<Layout centered header={<HeaderBack />}>\n\t\t\tУ вас недостатточно прав на просмотр этой страницы\n\t\t</Layout>\n\t);\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"form\":\"styles_form__n7Rcu\"};","import { useEffect } from \"react\"\n\nexport function useTitle(title: string | (string | undefined | null | false)[], prefis = \"Билетная система\")\n{\n\tuseEffect(() =>\n\t{\n\t\tconst prevTitle = document.title;\n\t\tconst t = typeof title != \"object\" ? [title] : title;\n\t\tdocument.title = [prefis, ...t].filter(v => !!v).join(\" | \");\n\t\treturn () => { document.title = prevTitle; }\n\t}, [title, prefis]);\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"form\":\"styles_form__cFFCH\",\"field\":\"styles_field__5rpBk\"};","import classNames from \"../../utils/classNames\";\nimport styles from \"./styles.module.css\"\n\nexport function Form({ className, style, onSubmit, children }: FormProps)\n{\n\treturn (\n\t\t<form\n\t\t\tclassName={classNames(styles.form, className)}\n\t\t\tstyle={style}\n\t\t\tonSubmit={e =>\n\t\t\t{\n\t\t\t\te.preventDefault();\n\t\t\t\tonSubmit();\n\t\t\t}}\n\t\t>\n\t\t\t{children}\n\t\t</form>\n\t);\n}\n\ninterface FormProps extends React.PropsWithChildren\n{\n\tonSubmit: () => void,\n\tclassName?: string,\n\tstyle?: React.StyleHTMLAttributes<HTMLFormElement>,\n}\n\n\nexport function FormField({ label, className, style, children }: FormFieldProps)\n{\n\treturn (\n\t\t<label className={classNames(styles.field, className)} style={style}>\n\t\t\t<span>{label}</span>\n\t\t\t{children}\n\t\t</label>\n\t);\n}\n\ninterface FormFieldProps extends React.PropsWithChildren\n{\n\tlabel?: string,\n\tclassName?: string,\n\tstyle?: React.StyleHTMLAttributes<HTMLLabelElement>,\n}\n","import { useRef, useState } from \"react\";\nimport styles from \"./styles.module.css\"\nimport { useMutationAuth } from \"../../api/auth\";\nimport Layout from \"../../components/Layout\";\nimport { useTitle } from \"../../utils/useTtile\";\nimport { Form, FormField } from \"../../components/Form\";\nimport Spinner from \"../../components/Spinner\";\n\nexport default function AuthPage()\n{\n\tuseTitle(\"Авторизация\");\n\tconst [error, setError] = useState(\"\");\n\tconst inp_login = useRef<HTMLInputElement>(null);\n\tconst inp_password = useRef<HTMLInputElement>(null);\n\tconst mutation = useMutationAuth(setError);\n\n\tfunction onSubmit()\n\t{\n\t\tconst login = inp_login.current?.value || \"\";\n\t\tconst password = inp_password.current?.value || \"\";\n\t\tmutation.mutate({ login, password });\n\t}\n\n\treturn (\n\t\t<Layout header={null} centered centeredPage gap=\"2em\">\n\t\t\t<h1>Билетная Система</h1>\n\t\t\t{error && <h3>{error}</h3>}\n\t\t\t{mutation.isLoading && <Spinner />}\n\t\t\t<Form className={styles.form} onSubmit={onSubmit}>\n\t\t\t\t<FormField label=\"Логин\">\n\t\t\t\t\t<input ref={inp_login} type=\"text\" name=\"login\" required />\n\t\t\t\t</FormField>\n\t\t\t\t<FormField label=\"Пароль\">\n\t\t\t\t\t<input ref={inp_password} type=\"password\" name=\"password\" required />\n\t\t\t\t</FormField>\n\t\t\t\t<button type=\"submit\" disabled={mutation.status == \"loading\"}>Войти</button>\n\t\t\t</Form>\n\t\t\t<div>\n\t\t\t\t<div>Для сканирования билетов получите ссылку у управляющего.</div>\n\t\t\t\t<div>Если вы попали сюда, перейдите по полученной ссылке ещё раз.</div>\n\t\t\t</div>\n\t\t</Layout>\n\t);\n}\n","import { Link } from \"react-router-dom\";\nimport hasPermission from \"../../api/operations\";\nimport useUser from \"../../api/user\";\nimport Layout from \"../../components/Layout\";\n\nexport default function IndexPage()\n{\n\tconst user = useUser();\n\n\treturn (\n\t\t<Layout centered gap=\"1em\">\n\t\t\t{hasPermission(user, \"page_events\") && <Link to=\"/events\" className=\"button button_large\">Мероприятия</Link>}\n\t\t\t{/* {hasPermission(user, \"page_staff\") && <Link to=\"/staff\" className=\"button button_large\">Сотрудники</Link>} */}\n\t\t</Layout>\n\t);\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"scanner\":\"styles_scanner__+xzXT\",\"scannerRect\":\"styles_scannerRect__zwl3N\",\"scannerVideo\":\"styles_scannerVideo__ZCceC\",\"scanner_scanned\":\"styles_scanner_scanned__lX+Yf\",\"scanned_anim\":\"styles_scanned_anim__UmXGC\",\"scanResult\":\"styles_scanResult__35K03\",\"big\":\"styles_big__bcOVH\",\"success\":\"styles_success__dlqOt\",\"result_desc\":\"styles_result_desc__oS+OA\",\"error\":\"styles_error__0ctGO\",\"alreadyScanned\":\"styles_alreadyScanned__OI-PM\",\"alreadyScanned_visible\":\"styles_alreadyScanned_visible__keU3C\"};","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"styles_root__QdJnV\"};","import { useEffect, useRef, useState } from \"react\";\nimport styles from \"./styles.module.css\"\nimport QrScanner from \"qr-scanner\";\nimport classNames from \"../../utils/classNames\";\n\n\nexport default function Scanner({ active = true, className, onScan, onCameraError }: ScannerProps)\n{\n\tconst [qrScanner, setQrScanner] = useState<QrScanner>();\n\tconst videoRef = useRef<HTMLVideoElement | null>(null)\n\n\tuseEffect(() =>\n\t{\n\t\tif (!videoRef.current) return;\n\t\tconst scanner = new QrScanner(\n\t\t\tvideoRef.current,\n\t\t\tresult => onScan(result.data),\n\t\t\t{\n\t\t\t\thighlightScanRegion: true,\n\t\t\t\tmaxScansPerSecond: 10,\n\t\t\t},\n\t\t)\n\t\tsetQrScanner((old: QrScanner | undefined) =>\n\t\t{\n\t\t\told?.stop();\n\t\t\told?.destroy();\n\t\t\treturn scanner;\n\t\t});\n\t\tscanner.start().catch(() => onCameraError());\n\n\t\treturn () =>\n\t\t{\n\t\t\tscanner.stop();\n\t\t\tscanner.destroy();\n\t\t}\n\t}, [videoRef, onScan]);\n\n\tuseEffect(() =>\n\t{\n\t\tif (!qrScanner) return;\n\t\tif (active) qrScanner.start().catch(() => onCameraError());\n\t\telse qrScanner.pause(false);\n\t}, [active, qrScanner])\n\n\treturn (\n\t\t<video className={classNames(styles.root, className)} ref={videoRef}></video>\n\t);\n}\n\ninterface ScannerProps\n{\n\tclassName?: string\n\tactive?: boolean,\n\tonScan: (result: string) => void,\n\tonCameraError: () => void,\n}","export function padNum(num: number, len: number)\n{\n\treturn `${num}`.padStart(len, \"0\");\n}\n\nexport function countWord(num: number, one: string, two: string, five: string)\n{\n\tconst numS = `${num}`;\n\tif (numS.at(-1) == \"1\" && numS.at(-2) != \"1\")\n\t\treturn one;\n\tif ([\"2\", \"3\", \"4\"].includes(numS.at(-1) || \"\") && numS.at(-2) != \"1\")\n\t\treturn two;\n\treturn five;\n}\n","import { padNum, countWord } from \"./nums\";\n\nexport function dateToString(date: Date | null | undefined)\n{\n\tif (!date) return \"\";\n\treturn `${padNum(date.getDate(), 2)}.${padNum(date.getMonth() + 1, 2)}.${date.getFullYear()}`;\n}\n\nexport function timeToString(date: Date, seconds = false)\n{\n\tlet dateStr = `${padNum(date.getHours(), 2)}:${padNum(date.getMinutes(), 2)}`;\n\tif (seconds) return dateStr + `:${padNum(date.getSeconds(), 2)}`;\n\treturn dateStr;\n}\n\nexport function datetimeToString(date: Date, seconds = false)\n{\n\treturn dateToString(date) + \" \" + timeToString(date, seconds);\n}\n\nexport function relativeDate(date: Date, nowBreak: \"second\" | \"minute\" | \"hour\" | \"day\" = \"second\")\n{\n\tconst now = new Date();\n\n\tconst delta = date.getTime() - now.getTime();\n\tlet d = Math.floor(Math.abs(delta) / 1000);\n\n\tconst dY = Math.floor(d / (60 * 60 * 24 * 30 * 12)); d -= dY * 60 * 60 * 24 * 30 * 12;\n\tconst dM = Math.floor(d / (60 * 60 * 24 * 30)); d -= dM * 60 * 60 * 24 * 30;\n\tconst dD = Math.floor(d / (60 * 60 * 24)); d -= dD * 60 * 60 * 24;\n\tconst dh = Math.floor(d / (60 * 60)) % 24; d -= dh * 60 * 60;\n\tconst dm = Math.floor(d / 60) % 60; d -= dm * 60;\n\tconst ds = d % 60;\n\n\tfunction getChange(): [string | number, [string, string, string]]\n\t{\n\t\tconst sv = (v: string) => [v, [\"\", \"\", \"\"]] as [string, [string, string, string]];\n\t\tif (dY != 0) return [dY, [\"год\", \"года\", \"лет\"]];\n\t\tif (dM != 0) return [dM, [\"месяц\", \"месяца\", \"месяцов\"]];\n\t\tif (dD != 0) return [dD, [\"день\", \"дня\", \"дней\"]];\n\t\tif (nowBreak == \"day\") return sv(\"Сегодня\");\n\t\tif (dh != 0) return [dh, [\"час\", \"часа\", \"часов\"]];\n\t\tif (nowBreak == \"hour\") return sv(\"Сейчас\");\n\t\tif (dm != 0) return [dm, [\"минута\", \"минуты\", \"минут\"]];\n\t\tif (nowBreak == \"minute\") return sv(\"Сейчас\");\n\t\tif (ds != 0) return [ds, [\"секунда\", \"секунды\", \"секунд\"]];\n\t\treturn sv(\"Только что\");\n\t}\n\tlet [vChange, vNames] = getChange();\n\n\tif (typeof vChange == \"string\")\n\t\treturn vChange;\n\n\tlet relative = `${countWord(vChange, ...vNames)}`\n\tif (Math.abs(vChange) > 1) relative = Math.abs(vChange) + \" \" + relative;\n\tif (delta > 0) relative = \"Через \" + relative;\n\telse relative += \" назад\";\n\n\treturn relative;\n}\n\nexport function secondsPast(date: Date)\n{\n\tconst now = new Date();\n\treturn (now.getTime() - date.getTime()) / 1000;\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"styles_root__E-Z+Q\",\"top\":\"styles_top__r6L7-\",\"bottom\":\"styles_bottom__GMtUi\"};","import { EventData } from \"../../../api/dataTypes\";\nimport { dateToString } from \"../../../utils/dates\";\nimport styles from \"./styles.module.css\"\n\nexport default function ScannerHeader({ event, onInputBtn }: ScannerHeaderProps)\n{\n\treturn (\n\t\t<div className={styles.root}>\n\t\t\t<div className={styles.top}>\n\t\t\t\t<button onClick={onInputBtn}>Ручной ввод</button>\n\t\t\t</div>\n\t\t\t<div className={styles.bottom}>\n\t\t\t\t<span>{event.name}</span>\n\t\t\t\t<span>|</span>\n\t\t\t\t<span>{dateToString(event.date)}</span>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\ninterface ScannerHeaderProps\n{\n\tevent: EventData,\n\tonInputBtn: () => void,\n}\n","import { useMutation, useQuery, useQueryClient } from \"react-query\";\nimport { EventData, ResponseEvent, ResponseMsg } from \"./dataTypes\";\nimport ApiError from \"./apiError\";\nimport fetchPost from \"../utils/fetchPost\";\n\nexport function useEvents()\n{\n\tconst queryClient = useQueryClient();\n\tconst query = useQuery(\"events\", getEvents, {\n\t\tonSuccess: data =>\n\t\t{\n\t\t\tdata.forEach(v => queryClient.setQueryData([\"event\", `${v.id}`], v));\n\t\t}\n\t});\n\treturn query;\n}\n\nasync function getEvents(): Promise<EventData[]>\n{\n\tconst res = await fetch(\"/api/events\");\n\tconst data = await res.json();\n\tif (!res.ok) throw new ApiError((data as ResponseMsg).msg);\n\tconst events = data as ResponseEvent[];\n\treturn events.map(parseEventResponse);\n}\n\nexport function useEvent(eventId: number | string)\n{\n\treturn useQuery([\"event\", `${eventId}`], () => getEvent(eventId));\n}\n\nasync function getEvent(eventId: number | string): Promise<EventData>\n{\n\tconst res = await fetch(\"/api/events/\" + eventId);\n\tconst data = await res.json();\n\tif (!res.ok) throw new ApiError((data as ResponseMsg).msg);\n\treturn parseEventResponse(data as ResponseEvent);\n}\n\nexport function useScannerEvent(eventId: number | string)\n{\n\treturn useQuery([\"event\", `${eventId}`], () => getScannerEvent(eventId));\n}\n\nasync function getScannerEvent(eventId: number | string): Promise<EventData | typeof NaN>\n{\n\tconst res = await fetch(\"/api/scanner_event/\" + eventId);\n\tconst data = await res.json();\n\tif (!res.ok) return NaN;\n\treturn parseEventResponse(data as ResponseEvent);\n}\n\nexport function parseEventResponse(responseEvent: ResponseEvent)\n{\n\tconst event = responseEvent as unknown as EventData;\n\tevent.date = new Date(responseEvent.date);\n\treturn event;\n}\n\nexport function useMutationNewEvent(onSuccess?: () => void)\n{\n\tconst queryClient = useQueryClient();\n\tconst mutation = useMutation({\n\t\tmutationFn: postNewEvent,\n\t\tonSuccess: (data) =>\n\t\t{\n\t\t\tqueryClient.setQueryData([\"event\", data.id], () => data);\n\t\t\tif (queryClient.getQueryState(\"events\")?.status == \"success\")\n\t\t\t\tqueryClient.setQueryData(\"events\", (events?: EventData[]) => events ? [...events, data] : [data]);\n\t\t\tonSuccess?.();\n\t\t},\n\t});\n\treturn mutation;\n}\n\nasync function postNewEvent(eventData: NewEventData)\n{\n\tconst res = await fetchPost(\"/api/event\", eventData);\n\tconst data = await res.json();\n\tif (!res.ok) throw new ApiError((data as ResponseMsg).msg);\n\treturn parseEventResponse(data as ResponseEvent);\n}\n\ninterface NewEventData\n{\n\tname: string,\n\tdate: Date | string,\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"styles_root__O0923\",\"open\":\"styles_open__35Vcu\",\"popup\":\"styles_popup__L-0H0\",\"header\":\"styles_header__o87wG\",\"close\":\"styles_close__w0Yhz\",\"body\":\"styles_body__t75Nd\"};","import classNames from \"../../utils/classNames\";\nimport styles from \"./styles.module.css\"\n\nexport default function Popup({ children, open = false, close, title = \"\" }: CustomPopupProps)\n{\n\treturn (\n\t\t<div className={classNames(styles.root, open && styles.open)}>\n\t\t\t<div className={styles.popup}>\n\t\t\t\t{\n\t\t\t\t\t(title || close) &&\n\t\t\t\t\t<div className={styles.header}>\n\t\t\t\t\t\t<h3>{title}</h3>\n\t\t\t\t\t\t{close && <button className={styles.close} onClick={close}>✖</button>}\n\t\t\t\t\t</div>\n\t\t\t\t}\n\t\t\t\t<div className={styles.body}>\n\t\t\t\t\t{children}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport interface PopupProps\n{\n\topen?: boolean,\n\tclose?: () => void,\n}\n\ninterface CustomPopupProps extends PopupProps, React.PropsWithChildren\n{\n\ttitle?: string,\n}","import { useMutation, useQuery, useQueryClient } from \"react-query\";\nimport { ResponseMsg, ResponseTicket, Ticket } from \"./dataTypes\";\nimport ApiError from \"./apiError\";\nimport fetchPost from \"../utils/fetchPost\";\n\nexport default function useTickets(eventId: number | string)\n{\n\treturn useQuery([\"tickets\", eventId], () => getTickets(eventId));\n}\n\nasync function getTickets(eventId: number | string): Promise<Ticket[]>\n{\n\tconst res = await fetch(\"/api/tickets/\" + eventId);\n\tconst data = await res.json();\n\tif (!res.ok) throw new ApiError((data as ResponseMsg).msg);\n\n\treturn (data as ResponseTicket[]).map(parseTicketResponse);\n}\n\nexport function parseTicketResponse(responseTicket: ResponseTicket)\n{\n\tconst ticket = responseTicket as unknown as Ticket;\n\tif (responseTicket.scannedDate)\n\t\tticket.scannedDate = new Date(responseTicket.scannedDate);\n\tif (responseTicket.createdDate)\n\t\tticket.createdDate = new Date(responseTicket.createdDate);\n\treturn ticket;\n}\n\nexport function useMutationNewTicket(onSuccess?: (ticket: Ticket) => void)\n{\n\tconst queryClient = useQueryClient();\n\tconst mutation = useMutation({\n\t\tmutationFn: postNewTicket,\n\t\tonSuccess: (data) =>\n\t\t{\n\t\t\tif (queryClient.getQueryState([\"tickets\", `${data.eventId}`])?.status == \"success\")\n\t\t\t\tqueryClient.setQueryData([\"tickets\", `${data.eventId}`], (tickets?: Ticket[]) => tickets ? [...tickets, data] : [data]);\n\t\t\tonSuccess?.(data);\n\t\t},\n\t});\n\treturn mutation;\n}\n\nasync function postNewTicket(eventData: NewTicketData)\n{\n\tconst res = await fetchPost(\"/api/ticket\", eventData);\n\tconst data = await res.json();\n\tif (!res.ok) throw new ApiError((data as ResponseMsg).msg);\n\treturn parseTicketResponse(data as ResponseTicket);\n}\n\ninterface NewTicketData\n{\n\ttypeId: number,\n\teventId: number,\n\tpersonName: string,\n\tpersonLink: string,\n\tpromocode: string,\n\tcode: string,\n}\n","import { useMutation } from \"react-query\";\nimport fetchPost from \"../utils/fetchPost\"\nimport ApiError from \"./apiError\";\nimport { CheckTicketResult, ResponseCheckTicket, ResponseMsg } from \"./dataTypes\";\nimport { parseEventResponse } from \"./events\";\nimport { parseTicketResponse } from \"./tickets\";\n\n\nexport default function useMutationCheckTicket(onSuccess?: (res: CheckTicketResult) => void, onError?: (msg: string) => void)\n{\n\tconst mutation = useMutation({\n\t\tmutationFn: postCheckTicket,\n\t\tonSuccess: (data) =>\n\t\t{\n\t\t\tonSuccess?.(data);\n\t\t},\n\t\tonError: (error) =>\n\t\t{\n\t\t\tonError?.(error instanceof ApiError ? error.message : \"Произошла ошибка\")\n\t\t\tmutation.reset();\n\t\t}\n\t});\n\treturn mutation;\n}\n\n\nasync function postCheckTicket(ticketData: TicketData): Promise<CheckTicketResult>\n{\n\tconst res = await fetchPost(\"/api/check_ticket\", ticketData);\n\tconst data = await res.json();\n\tif (!res.ok) throw new ApiError((data as ResponseMsg).msg);\n\n\tconst apiResult = data as ResponseCheckTicket;\n\tconst result = data as CheckTicketResult;\n\tif (apiResult.ticket)\n\t\tresult.ticket = parseTicketResponse(apiResult.ticket)\n\tif (apiResult.event)\n\t\tresult.event = parseEventResponse(apiResult.event)\n\treturn result\n}\n\ninterface TicketData\n{\n\tcode: string,\n\teventId: number,\n}\n","import { useState } from \"react\";\n\nexport default function useSound(url: string)\n{\n\tconst [audio] = useState(() =>\n\t{\n\t\tconst audio = new Audio(url)\n\t\taudio.preload = \"auto\";\n\t\treturn audio;\n\t});\n\n\tconst play = () =>\n\t{\n\t\taudio.currentTime = 0;\n\t\taudio.play();\n\t};\n\n\treturn [play];\n};\n","import { padNum } from \"./nums\";\n\nexport default function getTicketPrefix(id: number, date: Date)\n{\n\treturn `${padNum(id, 3)}-${date.getFullYear().toString().at(-1)}${padNum(date.getMonth() + 1, 2)}${padNum(date.getDate(), 2)}-`;\n}","import { useCallback, useEffect, useRef, useState } from \"react\";\nimport Layout from \"../../components/Layout\";\nimport styles from \"./styles.module.css\"\nimport { CheckTicketResult } from \"../../api/dataTypes\";\nimport Scanner from \"../../components/Scanner\";\nimport ScannerHeader from \"./ScannerHeader\";\nimport classNames from \"../../utils/classNames\";\nimport { useScannerEvent } from \"../../api/events\";\nimport { dateToString, relativeDate, secondsPast, timeToString } from \"../../utils/dates\";\nimport Popup from \"../../components/Popup\";\nimport { useParams } from \"react-router-dom\";\nimport { useTitle } from \"../../utils/useTtile\";\nimport useMutationCheckTicket from \"../../api/checkTicket\";\nimport Spinner from \"../../components/Spinner\";\nimport useSound from \"../../utils/useSound\";\nimport beep from \"./beep.mp3\";\nimport beepError from \"./beepError.mp3\";\nimport getTicketPrefix from \"../../utils/getTicketPrefix\";\n\nexport default function ScannerPage()\n{\n\tuseTitle(\"Сканер\");\n\tconst urlParams = useParams();\n\tconst [qrScanResult, setQrScanResult] = useState<string | null>(null);\n\tconst [ticketCode, setTicketCode] = useState<string | null>(null);\n\tconst [error, setError] = useState<string | null>(null);\n\tconst [checkTicketResult, setCheckTicketResult] = useState<CheckTicketResult | null>(null);\n\tconst [startHintOpen, setStartHintOpen] = useState(true);\n\tconst [inputOpen, setInputOpen] = useState(false);\n\tconst [alreadyScanned, setAlreadyScanned] = useState(false);\n\tconst [cameraError, setCameraError] = useState(false);\n\tconst inputRef = useRef<HTMLInputElement>(null);\n\tconst event = useScannerEvent(urlParams[\"eventId\"]!);\n\n\tconst [playBeep] = useSound(beep);\n\tconst [playBeepError] = useSound(beepError);\n\n\tconst handleScan = useCallback((res: string) => setQrScanResult(res), []);\n\tconst handleOpenInput = useCallback(() =>\n\t{\n\t\tsetInputOpen(true);\n\t\tif (inputRef.current && event.data && typeof event.data != \"number\")\n\t\t\tinputRef.current.value = getTicketPrefix(event.data.id, event.data.date);\n\t}, [inputRef, event.data]);\n\tconst handleCloseInput = useCallback(() => setInputOpen(false), []);\n\n\tconst mutation = useMutationCheckTicket(\n\t\tresult =>\n\t\t{\n\t\t\tsetCheckTicketResult(result);\n\t\t\tif (!result.success) playBeepError();\n\t\t},\n\t\terror =>\n\t\t{\n\t\t\tsetCheckTicketResult(null);\n\t\t\tsetError(error);\n\t\t}\n\t);\n\n\tuseEffect(() =>\n\t{\n\t\tif (qrScanResult && event.data && mutation.status == \"idle\" && typeof event.data != \"number\")\n\t\t{\n\t\t\tplayBeep();\n\t\t\tif (ticketCode == qrScanResult)\n\t\t\t{\n\t\t\t\tsetQrScanResult(null);\n\t\t\t\tsetAlreadyScanned(true);\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tsetAlreadyScanned(false);\n\t\t\tsetTicketCode(qrScanResult);\n\t\t\tsetError(null);\n\t\t\tsetCheckTicketResult(null);\n\t\t\tmutation.mutate({ code: qrScanResult, eventId: event.data.id });\n\t\t}\n\t}, [qrScanResult, event.data, mutation.status]);\n\n\tuseEffect(() =>\n\t{\n\t\tif (!mutation.isSuccess) return;\n\t\tconst timeout = setTimeout(() =>\n\t\t{\n\t\t\tsetQrScanResult(null);\n\t\t\tmutation.reset();\n\t\t}, 1000);\n\t\treturn () => clearTimeout(timeout);\n\t}, [mutation.isSuccess]);\n\n\tuseEffect(() =>\n\t{\n\t\tif (!alreadyScanned) return;\n\t\tconst timeout = setTimeout(() => setAlreadyScanned(false), 500);\n\t\treturn () => clearTimeout(timeout);\n\t}, [alreadyScanned]);\n\n\treturn (\n\t\t<>\n\t\t\t{event.isLoading && <Spinner />}\n\t\t\t{event.error && <Layout centered gap=\"1em\" header={null}>Произошла ошибка</Layout>}\n\t\t\t{typeof event.data == \"number\" && <Layout centered centeredPage gap=\"1em\" header={null}>\n\t\t\t\t<div>Это событие ещё не началось или уже кончилось</div>\n\t\t\t\t<div>Если это не так, управляющий должен включить приём билетов</div>\n\t\t\t</Layout>}\n\t\t\t{typeof event.data != \"number\" && event.data &&\n\t\t\t\t<Layout height100 header={<ScannerHeader event={event.data} onInputBtn={handleOpenInput} />}>\n\t\t\t\t\t<div className={classNames(styles.scanner, !mutation.isIdle && styles.scanner_scanned)}>\n\t\t\t\t\t\t<div className={styles.scannerRect}>\n\t\t\t\t\t\t\t<Scanner onScan={handleScan} onCameraError={() => setCameraError(true)} className={styles.scannerVideo} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{/* <button onClick={() => handleScan(\"001-30809-03-0008\")}>Scan!</button> */}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className={styles.scanResult}>\n\t\t\t\t\t\t<div className={classNames(styles.alreadyScanned, alreadyScanned && styles.alreadyScanned_visible)}>Тот же билет</div>\n\t\t\t\t\t\t{ticketCode && <div>Код билета: {ticketCode}</div>}\n\t\t\t\t\t\t{error && <div>{error}</div>}\n\t\t\t\t\t\t{checkTicketResult?.success && <>\n\t\t\t\t\t\t\t<div className={classNames(styles.success, styles.big)}>Действителен</div>\n\t\t\t\t\t\t\t<div className={styles.result_desc}>\n\t\t\t\t\t\t\t\t<div>Посетитель: {checkTicketResult.ticket.personName}</div>\n\t\t\t\t\t\t\t\t<div>Тип билета: {checkTicketResult.ticket.type}</div>\n\t\t\t\t\t\t\t\t<div>Промокод: {checkTicketResult.ticket.promocode}</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</>}\n\t\t\t\t\t\t{checkTicketResult?.errorCode == \"notExist\" && <div className={classNames(styles.error, styles.big)}>Не найден</div>}\n\t\t\t\t\t\t{checkTicketResult?.errorCode == \"event\" && <>\n\t\t\t\t\t\t\t<div className={classNames(styles.error, styles.big)}>Другое мероприятие</div>\n\t\t\t\t\t\t\t<div className={styles.result_desc}>\n\t\t\t\t\t\t\t\t{(() =>\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\treturn <>\n\t\t\t\t\t\t\t\t\t\t<div>Мероприятие: {checkTicketResult.event.name}</div>\n\t\t\t\t\t\t\t\t\t\t<div>Его дата: {dateToString(checkTicketResult.event.date)} ({relativeDate(checkTicketResult.event.date, \"day\")})</div>\n\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t})()}\n\t\t\t\t\t\t\t\t<div>Посетитель: {checkTicketResult.ticket.personName}</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</>}\n\t\t\t\t\t\t{checkTicketResult?.errorCode == \"scanned\" && <>\n\t\t\t\t\t\t\t<div className={classNames(styles.error, styles.big)}>Использованный</div>\n\t\t\t\t\t\t\t<div className={styles.result_desc}>\n\t\t\t\t\t\t\t\t{/* <div>\n\t\t\t\t\t\t\t\t\t<span>Кем: </span>\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tcheckTicketResult.ticket.scannedById == user.data?.id ?\n\t\t\t\t\t\t\t\t\t\t<span>Вами</span> : <>\n\t\t\t\t\t\t\t\t\t\t\t<span>{checkTicketResult.ticket.scannedBy} </span>\n\t\t\t\t\t\t\t\t\t\t\t<span className={styles.error}>(Не вами)</span>\n\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t</div> */}\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<span>Когда: </span>\n\t\t\t\t\t\t\t\t\t<span>{timeToString(checkTicketResult.ticket.scannedDate, true)} </span>\n\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\t\tclassName={classNames(secondsPast(checkTicketResult.ticket.scannedDate) > 30 && styles.error)}\n\t\t\t\t\t\t\t\t\t>({relativeDate(checkTicketResult.ticket.scannedDate)})</span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div style={{ marginTop: \"0.5rem\" }}>Посетитель: {checkTicketResult.ticket.personName}</div>\n\t\t\t\t\t\t\t\t<div>Тип билета: {checkTicketResult.ticket.type}</div>\n\t\t\t\t\t\t\t\t<div>Промокод: {checkTicketResult.ticket.promocode}</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</>}\n\t\t\t\t\t</div>\n\t\t\t\t\t<Popup title=\"Введите код билета\" open={inputOpen} close={handleCloseInput}>\n\t\t\t\t\t\t<input type=\"text\" ref={inputRef} />\n\t\t\t\t\t\t<button disabled={mutation.status != \"idle\"} onClick={() =>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tif (inputRef.current)\n\t\t\t\t\t\t\t\tsetQrScanResult(inputRef.current?.value);\n\t\t\t\t\t\t\thandleCloseInput();\n\t\t\t\t\t\t}}>Проверить</button>\n\t\t\t\t\t</Popup>\n\t\t\t\t\t<Popup open={cameraError}>\n\t\t\t\t\t\t<h1>Нет доступа к камере</h1>\n\t\t\t\t\t\t<p>Разрешите использование камеры этому сайту и браузеру, который вы используте.</p>\n\t\t\t\t\t\t<p>После перезагрузите страницу.</p>\n\t\t\t\t\t</Popup>\n\t\t\t\t\t<Popup title=\"Сканер билетов\" open={startHintOpen} close={() => setStartHintOpen(false)}>\n\t\t\t\t\t\t<h2>{event.data.name}</h2>\n\t\t\t\t\t\t<p>Для сканирования билета наведите камеру на QR код так, чтобы он поместился в мигающую рамку.</p>\n\t\t\t\t\t\t<p><strong>Включите звук</strong>, чтобы слышать сигнал при сканировании.</p>\n\t\t\t\t\t</Popup>\n\t\t\t\t</Layout>\n\t\t\t}\n\t\t</>\n\t);\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"space_between\":\"styles_space_between__AD+M6\"};","import { useRef } from \"react\";\nimport { Form, FormField } from \"../Form\";\nimport Popup, { PopupProps } from \"../Popup\";\nimport { useMutationNewEvent } from \"../../api/events\";\nimport Spinner from \"../Spinner\";\n\nexport default function CreateEventForm({ open, close }: PopupProps)\n{\n\tconst inp_title = useRef<HTMLInputElement>(null);\n\tconst inp_date = useRef<HTMLInputElement>(null);\n\tconst mutation = useMutationNewEvent(close);\n\n\treturn (\n\t\t<Popup open={open} close={close} title=\"Добавление меропрятия\">\n\t\t\t{mutation.isError && <h3 style={{ color: \"tomato\", textAlign: \"center\" }}>Ошибка</h3>}\n\t\t\t<Form onSubmit={() =>\n\t\t\t{\n\t\t\t\tconst title = inp_title.current?.value;\n\t\t\t\tconst date = inp_date.current?.value;\n\t\t\t\tif (title && date)\n\t\t\t\t\tmutation.mutate({ date: date, name: title });\n\t\t\t}}>\n\t\t\t\t<FormField label=\"Название\">\n\t\t\t\t\t<input ref={inp_title} type=\"text\" required />\n\t\t\t\t</FormField>\n\t\t\t\t<FormField label=\"Дата\">\n\t\t\t\t\t<input ref={inp_date} type=\"datetime-local\" required />\n\t\t\t\t</FormField>\n\t\t\t\t<button type=\"submit\">Создать</button>\n\t\t\t</Form>\n\t\t\t{mutation.isLoading && <Spinner />}\n\t\t</Popup>\n\t);\n}\n","import { Link } from \"react-router-dom\";\nimport { useEvents } from \"../../api/events\";\nimport Layout from \"../../components/Layout\";\nimport styles from \"./styles.module.css\"\nimport classNames from \"../../utils/classNames\";\nimport { dateToString } from \"../../utils/dates\";\nimport { useTitle } from \"../../utils/useTtile\";\nimport CreateEventForm from \"../../components/create/CreateEventForm\";\nimport { useState } from \"react\";\nimport { useHasPermission } from \"../../api/operations\";\nimport Spinner from \"../../components/Spinner\";\n\nexport default function EventsPage()\n{\n\tuseTitle(\"Мероприятия\");\n\tconst [createFormOpen, setCreateFormOpen] = useState(false);\n\tconst events = useEvents();\n\n\treturn (\n\t\t<Layout centeredPage gap=\"1rem\">\n\t\t\t<h1>Мероприятия</h1>\n\t\t\t{events.isLoading && <Spinner/>}\n\t\t\t{events.isError && <div>Ошибка</div>}\n\t\t\t{events.data?.map(e =>\n\t\t\t\t<Link\n\t\t\t\t\tto={`/events/${e.id}`}\n\t\t\t\t\tclassName={classNames(\"button button_large\", styles.space_between)}\n\t\t\t\t\tkey={e.id}\n\t\t\t\t>\n\t\t\t\t\t<span>{e.name}</span>\n\t\t\t\t\t<span>{dateToString(e.date)}</span>\n\t\t\t\t</Link>\n\t\t\t)}\n\t\t\t{useHasPermission(\"add_event\") &&\n\t\t\t\t<div className={styles.space_between}>\n\t\t\t\t\t<span></span>\n\t\t\t\t\t<button className=\"button\" onClick={() => setCreateFormOpen(true)}>Добавить</button>\n\t\t\t\t</div>\n\t\t\t}\n\t\t\t<CreateEventForm open={createFormOpen} close={() => setCreateFormOpen(false)} />\n\t\t</Layout>\n\t);\n}\n","import Layout from \"../../components/Layout\";\nimport { useTitle } from \"../../utils/useTtile\";\n// import styles from \"./styles.module.css\"\n\nexport default function StaffPage()\n{\n\tuseTitle(\"Сотрудники\");\n\n\treturn (\n\t\t<Layout centered>\n\t\t\tТут будет страница настройки сотрудников\n\t\t</Layout>\n\t);\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"card\":\"styles_card__1zOYj\",\"card__header\":\"styles_card__header__o4cfX\",\"card__body\":\"styles_card__body__KU56x\",\"gap\":\"styles_gap__Z5dnR\",\"right\":\"styles_right__fxm89\"};","import { useMutation, useQuery, useQueryClient } from \"react-query\";\nimport { ResponseMsg, TicketType } from \"./dataTypes\";\nimport ApiError from \"./apiError\";\nimport fetchPost from \"../utils/fetchPost\";\n\nexport function useTicketTypes(eventId: number | string)\n{\n\treturn useQuery([\"ticket_types\", eventId], () => getTicketTypes(eventId));\n}\n\nasync function getTicketTypes(eventId: number | string): Promise<TicketType[]>\n{\n\tconst res = await fetch(\"/api/ticket_types/\" + eventId);\n\tconst data = await res.json();\n\tif (!res.ok) throw new ApiError((data as ResponseMsg).msg);\n\treturn data as TicketType[];\n}\n\nexport function useMutationUpdateTicketTypes(eventId: number | string, onSuccess?: (ticket: TicketType[]) => void)\n{\n\tconst queryClient = useQueryClient();\n\tconst mutation = useMutation({\n\t\tmutationFn: (data: UpdateTicketTypesData[]) => postUpdateTicketTypes(eventId, data),\n\t\tonSuccess: (data) =>\n\t\t{\n\t\t\tqueryClient.setQueryData([\"ticket_types\", `${eventId}`], () => data);\n\t\t\tonSuccess?.(data);\n\t\t},\n\t});\n\treturn mutation;\n}\n\nasync function postUpdateTicketTypes(eventId: number | string, updateTicketTypesData: UpdateTicketTypesData[])\n{\n\tconst res = await fetchPost(\"/api/ticket_types/\" + eventId, updateTicketTypesData);\n\tconst data = await res.json();\n\tif (!res.ok) throw new ApiError((data as ResponseMsg).msg);\n\treturn data as TicketType[];\n}\n\nexport interface UpdateTicketTypesData\n{\n\tname: string,\n\tid?: number,\n\taction: \"add\" | \"update\" | \"delete\",\n}\n","import { useRef } from \"react\";\nimport { Form, FormField } from \"../Form\";\nimport Popup, { PopupProps } from \"../Popup\";\nimport { useMutationNewTicket } from \"../../api/tickets\";\nimport Spinner from \"../Spinner\";\nimport { useTicketTypes } from \"../../api/ticketTypes\";\nimport { Ticket } from \"../../api/dataTypes\";\n\nexport default function CreateTicketForm({ open, eventId, close, setTicet }: CreateTicketFormProps)\n{\n\tconst inp_typeId = useRef<HTMLSelectElement>(null);\n\tconst inp_personName = useRef<HTMLInputElement>(null);\n\tconst inp_personLink = useRef<HTMLInputElement>(null);\n\tconst inp_promocode = useRef<HTMLInputElement>(null);\n\tconst inp_code = useRef<HTMLInputElement>(null);\n\tconst mutation = useMutationNewTicket(ticket =>\n\t{\n\t\tsetTicet(ticket);\n\t\tclose?.();\n\t});\n\tconst ticketTypes = useTicketTypes(eventId);\n\n\treturn (\n\t\t<Popup open={open} close={close} title=\"Добавление билета\">\n\t\t\t{mutation.isError && <h3 style={{ color: \"tomato\", textAlign: \"center\" }}>Ошибка</h3>}\n\t\t\t{ticketTypes.isLoading && <Spinner />}\n\t\t\t<Form onSubmit={() =>\n\t\t\t{\n\t\t\t\tconst typeId = inp_typeId.current?.value;\n\t\t\t\tconst personName = inp_personName.current?.value;\n\t\t\t\tconst personLink = inp_personLink.current?.value || \"\";\n\t\t\t\tconst promocode = inp_promocode.current?.value || \"\";\n\t\t\t\tconst code = inp_code.current?.value || \"\";\n\t\t\t\tif (typeId && personName)\n\t\t\t\t\tmutation.mutate({\n\t\t\t\t\t\teventId: parseInt(`${eventId}`, 10),\n\t\t\t\t\t\ttypeId: parseInt(typeId, 10),\n\t\t\t\t\t\tpersonName,\n\t\t\t\t\t\tpersonLink,\n\t\t\t\t\t\tpromocode,\n\t\t\t\t\t\tcode,\n\t\t\t\t\t});\n\t\t\t}}>\n\t\t\t\t<FormField label=\"Тип билета\">\n\t\t\t\t\t<select ref={inp_typeId} disabled={ticketTypes.data?.length == 0} required>\n\t\t\t\t\t\t{ticketTypes.data?.map(v => <option key={v.id} value={v.id}>{v.name}</option>)}\n\t\t\t\t\t</select>\n\t\t\t\t\t{ticketTypes.data?.length == 0 && <h4>Добавьте типы билетов</h4>}\n\t\t\t\t</FormField>\n\t\t\t\t<FormField label=\"Посетитель\">\n\t\t\t\t\t<input ref={inp_personName} type=\"text\" required />\n\t\t\t\t</FormField>\n\t\t\t\t<FormField label=\"Ссылка на посетителя\">\n\t\t\t\t\t<input ref={inp_personLink} type=\"text\" />\n\t\t\t\t</FormField>\n\t\t\t\t<FormField label=\"Промокод\">\n\t\t\t\t\t<input ref={inp_promocode} type=\"text\" />\n\t\t\t\t</FormField>\n\t\t\t\t{/* <FormField label=\"code\">\n\t\t\t\t\t<input ref={inp_code} type=\"text\" />\n\t\t\t\t</FormField> */}\n\t\t\t\t<button type=\"submit\" disabled={!ticketTypes.data || ticketTypes.data.length == 0}>Создать</button>\n\t\t\t</Form>\n\t\t\t{mutation.isLoading && <Spinner />}\n\t\t</Popup>\n\t);\n}\n\ninterface CreateTicketFormProps extends PopupProps\n{\n\teventId: number | string,\n\tsetTicet: (ticket: Ticket) => void,\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"styles_root__Lo44K\",\"visible\":\"styles_visible__icoL+\",\"center\":\"styles_center__w1Z-q\"};","import { useEffect, useRef, useState } from \"react\";\nimport { EventData, Ticket } from \"../../api/dataTypes\";\nimport classNames from \"../../utils/classNames\";\nimport styles from \"./styles.module.css\"\nimport QRCode from \"qrcode\"\nimport { dateToString } from \"../../utils/dates\";\nimport html2canvas from \"html2canvas\";\nimport Popup from \"../Popup\";\n\nexport default function ViewTicket({ event, ticket, setTicket }: ViewTicketProps)\n{\n\tconst [res, setRes] = useState<HTMLCanvasElement | null>(null);\n\tconst [qrcode, setQrcode] = useState(\"\");\n\tconst ticketRef = useRef<HTMLDivElement>(null);\n\tuseEffect(() =>\n\t{\n\t\tif (!ticket) return;\n\t\tsetRes(null);\n\t\tsetQrcode(\"\")\n\t\tQRCode.toDataURL(ticket.code, { errorCorrectionLevel: \"H\", scale: 8 }, (e, url) => setQrcode(url));\n\t}, [ticket]);\n\n\tuseEffect(() =>\n\t{\n\t\tif (!qrcode || !ticketRef.current) return;\n\t\tconst timeout = setTimeout(() =>\n\t\t{\n\t\t\tif (!qrcode || !ticketRef.current) return;\n\t\t\thtml2canvas(ticketRef.current).then(canvas => setRes(canvas));\n\t\t}, 10)\n\t\treturn () => clearTimeout(timeout);\n\t}, [qrcode, ticketRef])\n\n\treturn (\n\t\t<Popup open={!!ticket} close={() => setTicket(null)} title=\"Просмотр билета\">\n\t\t\t<div ref={ticketRef} className={classNames(styles.root, !res && styles.visible)}>\n\t\t\t\t<h1>Билет</h1>\n\t\t\t\t<div className={styles.center} style={{ marginTop: \"1rem\" }}>\n\t\t\t\t\t<img src={qrcode} alt={ticket?.code} />\n\t\t\t\t</div>\n\t\t\t\t<div className={styles.center} style={{ marginBottom: \"1rem\" }}>{ticket?.code}</div>\n\t\t\t\t<div>\n\t\t\t\t\t<div>Мероприятие: {event?.name}</div>\n\t\t\t\t\t<div>Дата: {dateToString(event?.date)}</div>\n\t\t\t\t\t<div>Тип билета: {ticket?.type}</div>\n\t\t\t\t\t<div>Посетитель: {ticket?.personName}</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t{res && <div ref={ref =>\n\t\t\t{\n\t\t\t\tif (!ref) return;\n\t\t\t\tref.innerHTML = \"\";\n\t\t\t\tref.appendChild(res);\n\t\t\t}}></div>}\n\t\t\t{res && <div className={styles.center}>Это картинка, можно копировать</div>}\n\t\t</Popup>\n\t);\n}\n\ninterface ViewTicketProps\n{\n\tevent: EventData | undefined,\n\tticket: Ticket | null,\n\tsetTicket: (ticket: Ticket | null) => void,\n}","import { useState } from \"react\";\nimport { Form, FormField } from \"../Form\";\nimport Popup, { PopupProps } from \"../Popup\";\nimport Spinner from \"../Spinner\";\nimport { UpdateTicketTypesData, useMutationUpdateTicketTypes, useTicketTypes } from \"../../api/ticketTypes\";\n\nexport default function EditTicketTypesForm({ eventId, open, close }: EditTicketTypesFormProps)\n{\n\tconst [update, setUpdate] = useState(0);\n\tconst [changes, setChanges] = useState<Map<number, UpdateTicketTypesData>>(new Map());\n\tconst [newTypes, setNewTypes] = useState<UpdateTicketTypesData[]>([]);\n\tconst ticketTypes = useTicketTypes(eventId);\n\tconst mutation = useMutationUpdateTicketTypes(eventId, close);\n\n\treturn (\n\t\t<Popup open={open} close={close} title=\"Изменение видов билетов\">\n\t\t\t{mutation.isError && <h3 style={{ color: \"tomato\", textAlign: \"center\" }}>Ошибка</h3>}\n\t\t\t{ticketTypes.isLoading && <Spinner />}\n\t\t\t{mutation.isLoading && <Spinner />}\n\t\t\t<Form onSubmit={() =>\n\t\t\t{\n\t\t\t\tif (changes.size > 0)\n\t\t\t\t\tmutation.mutate([...newTypes.filter(v => v.action == \"add\"), ...Array.from(changes.values())]);\n\t\t\t}}>\n\t\t\t\t{ticketTypes.data?.filter(v => changes.get(v.id)?.action != \"delete\")?.map(v =>\n\t\t\t\t\t<FormField key={v.id}>\n\t\t\t\t\t\t<input type=\"text\" required value={changes.get(v.id)?.name || v.name} onChange={e =>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tchanges.set(v.id, { id: v.id, name: e.target.value, action: \"update\" });\n\t\t\t\t\t\t\tsetUpdate(v => v + 1);\n\t\t\t\t\t\t}} />\n\t\t\t\t\t\t<button type=\"button\" onClick={() =>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tchanges.set(v.id, { id: v.id, name: \"\", action: \"delete\" });\n\t\t\t\t\t\t\tsetUpdate(v => v + 1);\n\t\t\t\t\t\t}}>Удалить</button>\n\t\t\t\t\t</FormField>\n\t\t\t\t)}\n\t\t\t\t{newTypes.filter(v => v.action == \"add\").map((v, i) =>\n\t\t\t\t\t<FormField key={\"new\" + i}>\n\t\t\t\t\t\t<input type=\"text\" required onChange={e =>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tnewTypes[i].name = e.target.value;\n\t\t\t\t\t\t\tsetUpdate(v => v + 1);\n\t\t\t\t\t\t}} />\n\t\t\t\t\t\t<button type=\"button\" onClick={() =>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tnewTypes[i].action = \"delete\";\n\t\t\t\t\t\t\tsetUpdate(v => v + 1);\n\t\t\t\t\t\t}}>Удалить</button>\n\t\t\t\t\t</FormField>\n\t\t\t\t)}\n\t\t\t\t<button onClick={() =>\n\t\t\t\t{\n\t\t\t\t\tnewTypes.push({ name: \"\", action: \"add\" });\n\t\t\t\t\tsetUpdate(v => v + 1);\n\t\t\t\t}}>Добавить</button>\n\t\t\t\t<button type=\"submit\">Подтвердить</button>\n\t\t\t</Form>\n\t\t</Popup>\n\t);\n}\n\ninterface EditTicketTypesFormProps extends PopupProps\n{\n\teventId: number | string,\n}\n","import { Link, useParams } from \"react-router-dom\";\nimport Layout from \"../../components/Layout\";\nimport styles from \"./styles.module.css\"\nimport { useEvent } from \"../../api/events\";\nimport { dateToString } from \"../../utils/dates\";\nimport { useTicketTypes } from \"../../api/ticketTypes\";\nimport { useTitle } from \"../../utils/useTtile\";\nimport Spinner from \"../../components/Spinner\";\nimport CreateTicketForm from \"../../components/create/CreateTicketForm\";\nimport { useState } from \"react\";\nimport { useHasPermission } from \"../../api/operations\";\nimport ViewTicket from \"../../components/ViewTicket\";\nimport { Ticket } from \"../../api/dataTypes\";\nimport EditTicketTypesForm from \"../../components/edit/EditTicketTypesForm\";\n\nexport default function EventPage()\n{\n\tconst [createFormOpen, setCreateFormOpen] = useState(false);\n\tconst [editTypesFormOpen, setEditTypesFormOpen] = useState(false);\n\tconst [ticketOpen, setTicketOpen] = useState<Ticket | null>(null);\n\tconst urlParams = useParams();\n\tconst eventId = urlParams[\"eventId\"]!;\n\tconst event = useEvent(eventId);\n\tconst ticketTypes = useTicketTypes(eventId);\n\tconst hasAddPermission = useHasPermission(\"add_ticket\");\n\tuseTitle(event.data?.name || \"Мероприятие\");\n\n\treturn (\n\t\t<>\n\t\t\t{event.isLoading && <Layout><Spinner /></Layout>}\n\t\t\t{event.isError && <Layout centered>Ошибка</Layout>}\n\t\t\t{event.data &&\n\t\t\t\t<Layout centeredPage gap=\"1rem\">\n\t\t\t\t\t<h1>Мероприятие: {event.data.name}</h1>\n\t\t\t\t\t<div className={styles.card}>\n\t\t\t\t\t\t<div className={styles.card__header}>\n\t\t\t\t\t\t\t<h2>Мероприятие</h2>\n\t\t\t\t\t\t\t<button className=\"button\" onClick={() => alert(\"Пока не работает\")}>Редактировать</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className={styles.card__body}>\n\t\t\t\t\t\t\t<div>Название: {event.data.name}</div>\n\t\t\t\t\t\t\t<div>Дата проведения: {dateToString(event.data.date)}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className={styles.card}>\n\t\t\t\t\t\t<div className={styles.card__header}>\n\t\t\t\t\t\t\t<h2>Виды билетов</h2>\n\t\t\t\t\t\t\t<button className=\"button\" onClick={() => setEditTypesFormOpen(true)}>Редактировать</button>\n\t\t\t\t\t\t\t<EditTicketTypesForm eventId={eventId} open={editTypesFormOpen} close={() => setEditTypesFormOpen(false)} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className={styles.card__body}>\n\t\t\t\t\t\t\t{ticketTypes.isLoading && <div>Загрузка</div>}\n\t\t\t\t\t\t\t{ticketTypes.isError && <div>Ошибка</div>}\n\t\t\t\t\t\t\t{ticketTypes.data?.map(v => <div key={v.id}>{v.name}</div>)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<Link to={`/scanner/${eventId}`} className=\"button\">Ссылка на сканер</Link>\n\n\t\t\t\t\t{hasAddPermission && <button className=\"button\" onClick={() => setCreateFormOpen(true)}>Добавить билет</button>}\n\t\t\t\t\t<CreateTicketForm eventId={eventId} open={createFormOpen} close={() => setCreateFormOpen(false)} setTicet={setTicketOpen} />\n\t\t\t\t\t<ViewTicket ticket={ticketOpen} event={event.data} setTicket={setTicketOpen} />\n\n\t\t\t\t\t<Link to={`/events/${eventId}/tickets`} className=\"button\">Список билетов</Link>\n\t\t\t\t\t<div className={styles.gap}></div>\n\t\t\t\t\t<div className={styles.right}>\n\t\t\t\t\t\t<button className=\"button\" onClick={() => alert(\"Пока не работает\")}>Удалить</button>\n\t\t\t\t\t</div>\n\t\t\t\t</Layout>\n\t\t\t}\n\t\t</>\n\t);\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"center\":\"styles_center__9dZ9p\",\"right\":\"styles_right__Zz+YX\"};","import { Link, useParams } from \"react-router-dom\";\nimport Layout from \"../../components/Layout\";\nimport styles from \"./styles.module.css\"\nimport { useEvent } from \"../../api/events\";\nimport useTickets from \"../../api/tickets\";\nimport ViewTicket from \"../../components/ViewTicket\";\nimport { useState } from \"react\";\nimport { Ticket } from \"../../api/dataTypes\";\nimport { useTitle } from \"../../utils/useTtile\";\nimport Spinner from \"../../components/Spinner\";\nimport CreateTicketForm from \"../../components/create/CreateTicketForm\";\nimport { useHasPermission } from \"../../api/operations\";\n\nexport default function TicketsPage()\n{\n\tconst [createFormOpen, setCreateFormOpen] = useState(false);\n\tconst [ticketOpen, setTicketOpen] = useState<Ticket | null>(null);\n\tconst urlParams = useParams();\n\tconst eventId = urlParams[\"eventId\"]!;\n\tconst event = useEvent(eventId);\n\tconst tickets = useTickets(eventId);\n\tconst hasAddPermission = useHasPermission(\"add_ticket\");\n\tuseTitle([event.data?.name, \"Билеты\"]);\n\n\treturn (\n\t\t<>\n\t\t\t{(event.isLoading || tickets.isLoading) && <Layout><Spinner /></Layout>}\n\t\t\t{(event.isError || tickets.isError) && <Layout centered>Ошибка</Layout>}\n\t\t\t{event.data && tickets.isSuccess &&\n\t\t\t\t<Layout centeredPage gap=\"1rem\">\n\t\t\t\t\t<h1>Билеты: {event.data.name}</h1>\n\t\t\t\t\t<div className={styles.right}>\n\t\t\t\t\t\t<Link target=\"_blank\" to={`/events/${eventId}/print_tickets`} className=\"button\">Распечатать</Link>\n\t\t\t\t\t\t{hasAddPermission && <button className=\"button\" onClick={() => setCreateFormOpen(true)}>Добавить</button>}\n\t\t\t\t\t\t<CreateTicketForm eventId={eventId} open={createFormOpen} close={() => setCreateFormOpen(false)} setTicet={setTicketOpen} />\n\t\t\t\t\t</div>\n\t\t\t\t\t<table>\n\t\t\t\t\t\t<thead>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<th style={{ width: \"11em\" }}>Код</th>\n\t\t\t\t\t\t\t\t<th>Посетитель</th>\n\t\t\t\t\t\t\t\t<th>Тип билета</th>\n\t\t\t\t\t\t\t\t<th>Промокод</th>\n\t\t\t\t\t\t\t\t<th><div>Исполь</div><div>зован</div></th>\n\t\t\t\t\t\t\t\t<th>Билет</th>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t</thead>\n\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t{tickets.data?.map(v => <tr key={v.id}>\n\t\t\t\t\t\t\t\t<td>{v.code}</td>\n\t\t\t\t\t\t\t\t<td>{v.personName}</td>\n\t\t\t\t\t\t\t\t<td>{v.type}</td>\n\t\t\t\t\t\t\t\t<td>{v.promocode}</td>\n\t\t\t\t\t\t\t\t<td className={styles.center}>{v.scanned ? \"✓\" : \"✖\"}</td>\n\t\t\t\t\t\t\t\t<td className={styles.center}>\n\t\t\t\t\t\t\t\t\t<button onClick={() => setTicketOpen(v)}>Билет</button>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>)}\n\t\t\t\t\t\t</tbody>\n\t\t\t\t\t</table>\n\t\t\t\t\t<ViewTicket ticket={ticketOpen} event={event.data} setTicket={setTicketOpen} />\n\t\t\t\t</Layout>\n\t\t\t}\n\t\t</>\n\t);\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"styles_root__QCWgG\",\"table\":\"styles_table__Klrj7\",\"center\":\"styles_center__pcMYz\",\"mark\":\"styles_mark__4aU1o\"};","import { useParams } from \"react-router-dom\";\nimport styles from \"./styles.module.css\"\nimport { useEvent } from \"../../api/events\";\nimport useTickets from \"../../api/tickets\";\nimport { useTitle } from \"../../utils/useTtile\";\nimport Spinner from \"../../components/Spinner\";\nimport { useEffect, useMemo } from \"react\";\nimport getTicketPrefix from \"../../utils/getTicketPrefix\";\n\nexport default function PrintTicketsPage()\n{\n\tconst urlParams = useParams();\n\tconst eventId = urlParams[\"eventId\"]!;\n\tconst event = useEvent(eventId);\n\tconst tickets = useTickets(eventId);\n\tuseTitle([event.data?.name, \"Билеты\"]);\n\n\tconst [isCorrectCodes, prefix] = useMemo(() =>\n\t{\n\t\tif (!tickets.data || !event.data) return [false, \"\"];\n\t\tconst codePref = getTicketPrefix(event.data.id, event.data.date);\n\t\treturn [tickets.data.every(v => v.code.startsWith(codePref)), codePref];\n\t}, [tickets.data, event.data]);\n\n\tuseEffect(() =>\n\t{\n\t\tif (event.isSuccess && tickets.isSuccess)\n\t\t{\n\t\t\tconst timeout = setTimeout(() => window.print(), 1000);\n\t\t\treturn () => clearTimeout(timeout);\n\t\t}\n\t}, [event.isSuccess, tickets.isSuccess]);\n\n\treturn (\n\t\t<>\n\t\t\t{(event.isLoading || tickets.isLoading) && <Spinner />}\n\t\t\t{(event.isError || tickets.isError) && <h1>Ошибка</h1>}\n\t\t\t{event.isSuccess && tickets.isSuccess &&\n\t\t\t\t<div className={styles.root}>\n\t\t\t\t\t<table className={styles.table}>\n\t\t\t\t\t\t<thead>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<th colSpan={5}>\n\t\t\t\t\t\t\t\t\t<span>{event.data.name}</span>\n\t\t\t\t\t\t\t\t\t{isCorrectCodes && <span style={{ marginLeft: \"1rem\" }}>|</span>}\n\t\t\t\t\t\t\t\t\t{isCorrectCodes && <span style={{ marginLeft: \"1rem\" }}>Все коды дожны начинаться с {prefix}</span>}\n\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<th>Код</th>\n\t\t\t\t\t\t\t\t<th>Посетитель</th>\n\t\t\t\t\t\t\t\t<th>Тип билета</th>\n\t\t\t\t\t\t\t\t<th>Промокод</th>\n\t\t\t\t\t\t\t\t<th><div>Исполь</div><div>зован</div></th>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t</thead>\n\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t{tickets.data\n\t\t\t\t\t\t\t\t.map(v => isCorrectCodes\n\t\t\t\t\t\t\t\t\t? { ...v, code: v.code.slice(prefix.length), sortV: v.code.slice(v.code.lastIndexOf(\"-\")) }\n\t\t\t\t\t\t\t\t\t: { ...v, sortV: v.code })\n\t\t\t\t\t\t\t\t.sort((a, b) => a.sortV > b.sortV ? 1 : -1)\n\t\t\t\t\t\t\t\t.map(v => <tr key={v.id}>\n\t\t\t\t\t\t\t\t\t<td>{v.code}</td>\n\t\t\t\t\t\t\t\t\t<td>{v.personName}</td>\n\t\t\t\t\t\t\t\t\t<td>{v.type}</td>\n\t\t\t\t\t\t\t\t\t<td>{v.promocode}</td>\n\t\t\t\t\t\t\t\t\t<td className={styles.center}><span className={styles.mark}>{v.scanned && \"✓\"}</span></td>\n\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</tbody>\n\t\t\t\t\t</table>\n\t\t\t\t</div>\n\t\t\t}\n\t\t</>\n\t);\n}\n","import { Navigate, Route, Routes } from \"react-router-dom\";\nimport useUser from \"./api/user\";\nimport hasPermission, { Operation } from \"./api/operations\";\nimport Preloader from \"./components/Preloader\";\nimport ScrollToTop from \"./utils/scrollToTop\";\n\nimport NotFoundPage from \"./pages/NotFoundPage\";\nimport NoPermissionPage from \"./pages/NoPermissionPage\";\nimport AuthPage from \"./pages/AuthPage\";\nimport IndexPage from \"./pages/IndexPage\";\nimport ScannerPage from \"./pages/ScannerPage\";\nimport EventsPage from \"./pages/EventsPage\";\nimport StaffPage from \"./pages/StaffPage\";\nimport EventPage from \"./pages/EventPage\";\nimport TicketsPage from \"./pages/TicketsPage\";\nimport PrintTicketsPage from \"./pages/PrintTicketsPage\";\n\n\nexport default function App()\n{\n\tconst user = useUser();\n\n\tfunction ProtectedRoute(permission: Operation | null, path: string, element: JSX.Element)\n\t{\n\t\treturn <Route path={path} element={\n\t\t\t!user.data?.auth ? <Navigate to=\"/auth\" /> : (\n\t\t\t\tpermission == null || hasPermission(user, permission) ? element : <NoPermissionPage />\n\t\t\t)\n\t\t} />\n\t}\n\n\treturn <div className=\"root\">\n\t\t<ScrollToTop />\n\n\t\t{user.isLoading && <Preloader />}\n\t\t{user.isError && \"Ошибка\"}\n\t\t{user.isSuccess &&\n\t\t\t<Routes>\n\t\t\t\t<Route path=\"/auth\" element={!user.data?.auth ? <AuthPage /> : <Navigate to=\"/\" />} />\n\t\t\t\t<Route path=\"/scanner/:eventId\" element={<ScannerPage />} />\n\t\t\t\t{ProtectedRoute(null, \"/\", <IndexPage />)}\n\t\t\t\t{ProtectedRoute(\"page_events\", \"/events\", <EventsPage />)}\n\t\t\t\t{ProtectedRoute(\"page_events\", \"/events/:eventId\", <EventPage />)}\n\t\t\t\t{ProtectedRoute(\"page_events\", \"/events/:eventId/tickets\", <TicketsPage />)}\n\t\t\t\t{ProtectedRoute(\"page_events\", \"/events/:eventId/print_tickets\", <PrintTicketsPage />)}\n\t\t\t\t{ProtectedRoute(\"page_staff\", \"/staff\", <StaffPage />)}\n\t\t\t\t{ProtectedRoute(null, \"*\", <NotFoundPage />)}\n\t\t\t</Routes>\n\t\t}\n\t</div>\n}\n"],"names":["ApiError","_Error","_inherits","_super","_createSuper","_classCallCheck","apply","arguments","_createClass","_wrapNativeSuper","Error","useUser","useQuery","getUser","_getUser","_asyncToGenerator","_regeneratorRuntime","mark","_callee","res","data","user","wrap","_context","prev","next","fetch","sent","json","status","abrupt","auth","id","login","name","operations","ok","msg","stop","hasPermission","operation","_user$data","_user$data2","includes","useHasPermission","_user$data3","_user$data4","ScrollToTop","pathname","useLocation","useEffect","window","scrollTo","HeaderBack","navigate","useNavigate","_jsx","className","styles","root","children","onClick","classNames","_len","length","names","Array","_key","filter","v","join","fetchPost","input","body","method","headers","undefined","JSON","stringify","postAuth","_x","_postAuth","authData","postLogout","_postLogout","_callee2","_context2","Spinner","_ref","color","zIndex","_jsxs","spinner","style","Header","location","mutation","queryClient","useQueryClient","useMutation","mutationFn","onSuccess","invalidateQueries","useMutationLogout","block","Link","to","home","src","logo","alt","mutate","disabled","Layout","_ref$centered","centered","_ref$centeredPage","centeredPage","_ref$height","height100","_ref$gap","gap","_ref$header","header","maxHeight","body_centered","body_centeredPage","NotFoundPage","NoPermissionPage","useTitle","title","prefis","prevTitle","document","t","concat","_toConsumableArray","Form","onSubmit","form","e","preventDefault","FormField","_ref2","label","field","AuthPage","_useState","useState","_useState2","_slicedToArray","error","setError","inp_login","useRef","inp_password","onError","setQueryData","message","useMutationAuth","isLoading","_inp_login$current","_inp_password$current","current","value","password","ref","type","required","IndexPage","Scanner","_ref$active","active","onScan","onCameraError","qrScanner","setQrScanner","videoRef","scanner","QrScanner","result","highlightScanRegion","maxScansPerSecond","old","destroy","start","catch","pause","padNum","num","len","padStart","countWord","one","two","five","numS","at","dateToString","date","getDate","getMonth","getFullYear","timeToString","seconds","dateStr","getHours","getMinutes","getSeconds","relativeDate","nowBreak","now","Date","delta","getTime","d","Math","floor","abs","dY","dM","dD","dh","dm","ds","_getChange","sv","getChange","_getChange2","vChange","vNames","relative","ScannerHeader","event","onInputBtn","top","bottom","getEvents","_getEvents","events","map","parseEventResponse","useEvent","eventId","_getEvent","getEvent","useScannerEvent","_x2","_getScannerEvent","getScannerEvent","_callee3","_context3","NaN","responseEvent","postNewEvent","_x3","_postNewEvent","_callee4","eventData","_context4","Popup","_ref$open","open","close","_ref$title","popup","useTickets","_getTickets","getTickets","parseTicketResponse","responseTicket","ticket","scannedDate","createdDate","postNewTicket","_postNewTicket","postCheckTicket","_postCheckTicket","ticketData","apiResult","useSound","url","audio","Audio","preload","currentTime","play","getTicketPrefix","toString","ScannerPage","urlParams","useParams","qrScanResult","setQrScanResult","_useState3","_useState4","ticketCode","setTicketCode","_useState5","_useState6","_useState7","_useState8","checkTicketResult","setCheckTicketResult","_useState9","_useState10","startHintOpen","setStartHintOpen","_useState11","_useState12","inputOpen","setInputOpen","_useState13","_useState14","alreadyScanned","setAlreadyScanned","_useState15","_useState16","cameraError","setCameraError","inputRef","_useSound","beep","playBeep","_useSound3","beepError","playBeepError","handleScan","useCallback","handleOpenInput","handleCloseInput","reset","useMutationCheckTicket","success","code","isSuccess","timeout","setTimeout","clearTimeout","_Fragment","isIdle","scanner_scanned","scannerRect","scannerVideo","scanResult","alreadyScanned_visible","big","result_desc","personName","promocode","errorCode","marginTop","_inputRef$current","CreateEventForm","inp_title","inp_date","_queryClient$getQuery","getQueryState","useMutationNewEvent","isError","textAlign","_inp_title$current","_inp_date$current","EventsPage","_events$data","createFormOpen","setCreateFormOpen","forEach","useEvents","space_between","StaffPage","useTicketTypes","_getTicketTypes","getTicketTypes","useMutationUpdateTicketTypes","_postUpdateTicketTypes","postUpdateTicketTypes","updateTicketTypesData","CreateTicketForm","_ticketTypes$data","_ticketTypes$data2","_ticketTypes$data3","setTicet","inp_typeId","inp_personName","inp_personLink","inp_promocode","inp_code","tickets","useMutationNewTicket","ticketTypes","_inp_typeId$current","_inp_personName$curre","_inp_personLink$curre","_inp_promocode$curren","_inp_code$current","typeId","personLink","parseInt","ViewTicket","setTicket","setRes","qrcode","setQrcode","ticketRef","QRCode","errorCorrectionLevel","scale","html2canvas","then","canvas","visible","center","marginBottom","innerHTML","appendChild","EditTicketTypesForm","_ticketTypes$data$fil","setUpdate","Map","changes","newTypes","size","action","from","values","_changes$get","get","_changes$get2","onChange","set","target","i","push","EventPage","_event$data","editTypesFormOpen","setEditTypesFormOpen","ticketOpen","setTicketOpen","hasAddPermission","card","card__header","alert","card__body","right","TicketsPage","_tickets$data","width","scanned","PrintTicketsPage","_useMemo","useMemo","codePref","every","startsWith","_useMemo2","isCorrectCodes","prefix","print","table","colSpan","marginLeft","_objectSpread","slice","sortV","lastIndexOf","sort","a","b","App","ProtectedRoute","permission","path","element","Route","Navigate","Preloader","Routes"],"sourceRoot":""}