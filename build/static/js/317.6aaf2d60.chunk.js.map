{"version":3,"file":"static/js/317.6aaf2d60.chunk.js","mappings":"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","sources":["api/apiError.ts","utils/fetchPost.ts","api/user.ts","api/operations.ts","utils/scrollToTop.tsx","webpack://ticket_system/./src/components/HeaderBack/styles.module.css?464d","components/HeaderBack/index.tsx","utils/classNames.ts","webpack://ticket_system/./src/components/Header/styles.module.css?07e3","api/auth.ts","webpack://ticket_system/./src/components/Spinner/styles.module.css?6126","components/Spinner/index.tsx","components/Header/index.tsx","webpack://ticket_system/./src/components/Layout/styles.module.css?6939","components/Layout/index.tsx","pages/NotFoundPage/index.tsx","pages/NoPermissionPage/index.tsx","webpack://ticket_system/./src/pages/AuthPage/styles.module.css?7367","utils/useTtile.ts","webpack://ticket_system/./src/components/Form/styles.module.css?5f34","components/Form/index.tsx","pages/AuthPage/index.tsx","pages/IndexPage/index.tsx","webpack://ticket_system/./src/pages/ScannerPage/styles.module.css?d401","webpack://ticket_system/./src/components/Scanner/styles.module.css?0297","components/Scanner/index.tsx","utils/nums.ts","utils/dates.ts","webpack://ticket_system/./src/pages/ScannerPage/ScannerHeader/styles.module.css?d047","pages/ScannerPage/ScannerHeader/index.tsx","utils/fetchDelete.ts","api/events.ts","webpack://ticket_system/./src/components/Popup/styles.module.css?f1d6","components/Popup/index.tsx","api/tickets.ts","api/checkTicket.ts","utils/useSound.ts","utils/getTicketPrefix.ts","pages/ScannerPage/index.tsx","webpack://ticket_system/./src/pages/EventsPage/styles.module.css?6236","utils/displayError.tsx","components/create/CreateEventForm.tsx","pages/EventsPage/index.tsx","api/staff.ts","webpack://ticket_system/./src/pages/StaffPage/styles.module.css?0cf2","components/create/CreateStaffForm.tsx","components/PopupConfirmDeletion/index.tsx","pages/StaffPage/index.tsx","webpack://ticket_system/./src/pages/EventPage/styles.module.css?2091","api/ticketTypes.ts","components/create/CreateTicketForm.tsx","webpack://ticket_system/./src/components/ViewTicket/styles.module.css?3dc1","components/ViewTicket/index.tsx","components/edit/EditTicketTypesForm.tsx","components/edit/EditEventForm.tsx","pages/EventPage/index.tsx","webpack://ticket_system/./src/pages/TicketsPage/styles.module.css?e67a","pages/TicketsPage/index.tsx","webpack://ticket_system/./src/pages/PrintTicketsPage/styles.module.css?1c5e","pages/PrintTicketsPage/index.tsx","pages/DebugPage/index.tsx","webpack://ticket_system/./src/pages/UsersPage/styles.module.css?2339","pages/UsersPage/index.tsx","webpack://ticket_system/./src/pages/ProfilePage/styles.module.css?79a0","components/edit/ChangePasswordForm.tsx","pages/ProfilePage/index.tsx","App.tsx"],"sourcesContent":["export default class ApiError extends Error {}","export default function fetchPost(input: RequestInfo | URL, body?: any)\n{\n\treturn fetch(input, {\n\t\tmethod: \"POST\",\n\t\theaders: {\n\t\t\t\"Content-Type\": \"application/json\"\n\t\t},\n\t\tbody: body === undefined ? null : JSON.stringify(body),\n\t});\n}\n","import { useMutation, useQuery, useQueryClient } from \"react-query\";\nimport ApiError from \"./apiError\";\nimport { ResponseMsg, User, UserFull } from \"./dataTypes\";\nimport fetchPost from \"../utils/fetchPost\";\n\nexport default function useUser()\n{\n\treturn useQuery(\"user\", getUser);\n}\n\nasync function getUser(): Promise<User>\n{\n\tconst res = await fetch(\"/api/user\");\n\tconst data = await res.json();\n\n\tif (res.status == 401) return { auth: false, id: -1, login: \"\", role: \"\", name: \"\", operations: [] };\n\tif (!res.ok) throw new ApiError((data as ResponseMsg).msg);\n\n\tconst user = data as User;\n\tuser.auth = true;\n\treturn user;\n}\n\nexport function useUsers()\n{\n\treturn useQuery(\"users\", getUsers);\n}\n\nasync function getUsers(): Promise<UserFull[]>\n{\n\tconst res = await fetch(\"/api/users\");\n\tconst data = await res.json();\n\tif (!res.ok) throw new ApiError((data as ResponseMsg).msg);\n\n\treturn data as UserFull[];\n}\n\nexport function useMutationChangePassword(onSuccess?: () => void)\n{\n\tconst mutation = useMutation({\n\t\tmutationFn: postChangePassword,\n\t\tonSuccess: onSuccess,\n\t});\n\treturn mutation;\n}\n\nasync function postChangePassword(data: ChangePasswordData)\n{\n\tconst res = await fetchPost(\"/api/user/change_password\", data);\n\tif (!res.ok) throw new ApiError((await res.json() as ResponseMsg).msg);\n}\n\ninterface ChangePasswordData\n{\n\tpassword: string;\n}\n\nexport function useMutationChangeName(onSuccess?: () => void)\n{\n\tconst queryClient = useQueryClient();\n\tconst mutation = useMutation({\n\t\tmutationFn: postChangeName,\n\t\tonSuccess: (data: ChangeName) =>\n\t\t{\n\t\t\tif (queryClient.getQueryState(\"user\")?.status == \"success\")\n\t\t\t\tqueryClient.setQueryData(\"user\", (user?: User) => ({ ...user!, name: data.name }));\n\t\t\tonSuccess?.();\n\t\t},\n\t});\n\treturn mutation;\n}\n\nasync function postChangeName(data: ChangeName)\n{\n\tconst res = await fetchPost(\"/api/user/change_name\", data);\n\tif (!res.ok) throw new ApiError((await res.json() as ResponseMsg).msg);\n\treturn data;\n}\n\ninterface ChangeName\n{\n\tname: string;\n}","import { UseQueryResult } from \"react-query\";\nimport { User } from \"./dataTypes\";\nimport useUser from \"./user\";\n\nconst Operations = {\n\tpage_events: \"page_events\",\n\tpage_staff: \"page_staff\",\n\tpage_debug: \"page_debug\",\n\tpage_users: \"page_users\",\n\tadd_event: \"add_event\",\n\tadd_ticket: \"add_ticket\",\n\tadd_staff: \"add_staff\",\n\tchange_ticket_types: \"change_ticket_types\",\n\tchange_event: \"change_event\",\n\tchange_staff: \"change_staff\",\n\tdelete_event: \"delete_event\",\n\tdelete_staff: \"delete_staff\",\n}\n\nexport type Operation = keyof typeof Operations;\n\nexport default function hasPermission(user: UseQueryResult<User, unknown>, operation: Operation)\n{\n\treturn !!(user.data?.auth && user.data?.operations.includes(operation));\n}\n\nexport function useHasPermission(operation: Operation)\n{\n\tconst user = useUser();\n\treturn !!(user.data?.auth && user.data?.operations.includes(operation));\n}\n","import { useEffect } from \"react\";\nimport { useLocation } from \"react-router-dom\";\n\nexport default function ScrollToTop()\n{\n\tconst { pathname } = useLocation();\n\n\tuseEffect(() =>\n\t{\n\t\twindow.scrollTo(0, 0);\n\t}, [pathname]);\n\n\treturn null;\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"styles_root__4DGhY\"};","import { useNavigate } from \"react-router-dom\";\nimport styles from \"./styles.module.css\"\n\nexport default function HeaderBack()\n{\n\tconst navigate = useNavigate();\n\treturn (\n\t\t<div className={styles.root}>\n\t\t\t<button onClick={() => navigate(-1)}>\n\t\t\t\tНазад\n\t\t\t</button>\n\t\t</div>\n\t);\n}\n","export default function classNames(...names: (string | undefined | null | false)[])\n{\n\treturn names.filter(v => !!v).join(\" \");\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"styles_root__Zvl9c\",\"home\":\"styles_home__o+-s7\",\"block\":\"styles_block__a1SM7\",\"menu\":\"styles_menu__WWgPh\",\"menuVisible\":\"styles_menuVisible__mMGZn\"};","import { useMutation, useQueryClient } from \"react-query\";\nimport fetchPost from \"../utils/fetchPost\"\nimport ApiError from \"./apiError\";\nimport { ResponseMsg, User } from \"./dataTypes\";\n\nexport function useMutationAuth(onError?: (msg: string) => void)\n{\n\tconst queryClient = useQueryClient();\n\tconst mutation = useMutation({\n\t\tmutationFn: postAuth,\n\t\tonSuccess: (data) =>\n\t\t{\n\t\t\tqueryClient.setQueryData(\"user\", () => data);\n\t\t},\n\t\tonError: (error) =>\n\t\t{\n\t\t\tonError?.(error instanceof ApiError ? error.message : \"Произошла ошибка, попробуйте ещё раз\");\n\t\t}\n\t});\n\treturn mutation;\n}\n\nasync function postAuth(authData: AuthData)\n{\n\tconst res = await fetchPost(\"/api/auth\", authData);\n\tconst data = await res.json();\n\tif (!res.ok) throw new ApiError((data as ResponseMsg).msg);\n\n\tconst user = data as User;\n\tuser.auth = true;\n\treturn user;\n}\n\nexport async function postLogout()\n{\n\tawait fetchPost(\"/api/logout\");\n}\n\ninterface AuthData\n{\n\tlogin: string,\n\tpassword: string,\n}\n\nexport function useMutationLogout()\n{\n\tconst queryClient = useQueryClient();\n\tconst mutation = useMutation({\n\t\tmutationFn: postLogout,\n\t\tonSuccess: () =>\n\t\t{\n\t\t\tqueryClient.invalidateQueries(\"user\");\n\t\t}\n\t});\n\treturn mutation;\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"styles_root__BdzzK\",\"spinner\":\"styles_spinner__rlI86\",\"lds-ring\":\"styles_lds-ring__jnLuB\"};","import styles from \"./styles.module.css\"\n\nexport default function Spinner({ color, zIndex }: SpinnerProps)\n{\n\treturn (\n\t\t<div className={styles.root}>\n\t\t\t<div className={styles.spinner} style={{ \"--color\": color, zIndex } as React.CSSProperties}><div></div><div></div><div></div><div></div></div>\n\t\t</div>\n\t);\n}\n\ninterface SpinnerProps\n{\n\tcolor?: string,\n\tzIndex?: number,\n}","import { Link, useLocation, useNavigate } from \"react-router-dom\";\nimport styles from \"./styles.module.css\"\nimport logo from \"./logo64.png\"\nimport { useMutationLogout } from \"../../api/auth\";\nimport useUser from \"../../api/user\";\nimport Spinner from \"../Spinner\";\nimport { useState } from \"react\";\nimport classNames from \"../../utils/classNames\";\n\nexport default function Header({ backLink }: HeaderProps)\n{\n\tconst [menuOpen, setMenuOpen] = useState(false);\n\tconst location = useLocation();\n\tconst navigate = useNavigate();\n\tconst mutation = useMutationLogout();\n\tconst user = useUser();\n\n\treturn (\n\t\t<div className={styles.root}>\n\t\t\t<span className={styles.block}>\n\t\t\t\t<Link to=\"/\" className={styles.home}>\n\t\t\t\t\t<img src={logo} alt=\"На главную\" />\n\t\t\t\t</Link>\n\t\t\t\t{backLink && <Link to={backLink}><button className=\"button button_light\">Назад</button></Link>}\n\t\t\t\t{location.pathname != \"/\" && !backLink && <button onClick={() => backLink ? navigate(backLink) : navigate(-1)} className=\"button button_light\">Назад</button>}\n\t\t\t</span>\n\t\t\t<span className={styles.block}>\n\t\t\t\t<button onClick={() => setMenuOpen(v => !v)} className=\"button button_light\">\n\t\t\t\t\t<span>{user.data?.name}</span>\n\t\t\t\t</button>\n\t\t\t\t<div className={classNames(styles.menu, menuOpen && styles.menuVisible)}>\n\t\t\t\t\t<button onClick={() => navigate(\"/profile\")} className=\"button button_light\">\n\t\t\t\t\t\tПрофиль\n\t\t\t\t\t</button>\n\t\t\t\t\t<button onClick={() => mutation.mutate()} disabled={mutation.status != \"idle\"} className=\"button button_light\">\n\t\t\t\t\t\tВыйти\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</span>\n\t\t\t{mutation.status != \"idle\" && <Spinner />}\n\t\t</div>\n\t);\n}\n\ninterface HeaderProps\n{\n\tbackLink?: string,\n}","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"styles_root__xvR2N\",\"body\":\"styles_body__S-p4X\",\"body_centered\":\"styles_body_centered__NzRPU\",\"body_centeredPage\":\"styles_body_centeredPage__R-EzO\"};","import classNames from \"../../utils/classNames\";\nimport Header from \"../Header\";\nimport styles from \"./styles.module.css\"\n\nexport default function Layout({ children, className, backLink, centered = false, centeredPage = false, height100 = false, gap = 0, header }: LayoutProps)\n{\n\tif (header === undefined) header = <Header backLink={backLink} />\n\t\n\treturn (\n\t\t<div className={styles.root} style={{ maxHeight: height100 ? \"100dvh\" : \"\" }}>\n\t\t\t{header || <div></div>}\n\t\t\t<div\n\t\t\t\tclassName={classNames(\n\t\t\t\t\tstyles.body, className,\n\t\t\t\t\tcentered && styles.body_centered,\n\t\t\t\t\tcenteredPage && styles.body_centeredPage,\n\t\t\t\t)}\n\t\t\t\tstyle={{ gap, maxHeight: height100 ? \"100%\" : \"\" }}\n\t\t\t>\n\t\t\t\t{children}\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\ninterface LayoutProps extends React.PropsWithChildren\n{\n\tbackLink?: string,\n\tcenteredPage?: boolean,\n\tcentered?: boolean,\n\theight100?: boolean,\n\tgap?: number | string,\n\tclassName?: string,\n\theader?: React.ReactNode,\n}\n","import HeaderBack from \"../../components/HeaderBack\";\nimport Layout from \"../../components/Layout\";\n\nexport default function NotFoundPage()\n{\n\treturn (\n\t\t<Layout centered header={<HeaderBack />}>\n\t\t\tТакой страницы нет\n\t\t</Layout>\n\t);\n}\n","import HeaderBack from \"../../components/HeaderBack\";\nimport Layout from \"../../components/Layout\";\n\nexport default function NoPermissionPage()\n{\n\treturn (\n\t\t<Layout centered header={<HeaderBack />}>\n\t\t\tУ вас недостатточно прав на просмотр этой страницы\n\t\t</Layout>\n\t);\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"form\":\"styles_form__n7Rcu\"};","import { useEffect } from \"react\"\n\nexport function useTitle(title: string | (string | undefined | null | false)[], prefis = \"Билетная система\")\n{\n\tuseEffect(() =>\n\t{\n\t\tconst prevTitle = document.title;\n\t\tconst t = typeof title != \"object\" ? [title] : title;\n\t\tdocument.title = [prefis, ...t].filter(v => !!v).join(\" | \");\n\t\treturn () => { document.title = prevTitle; }\n\t}, [title, prefis]);\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"form\":\"styles_form__cFFCH\",\"field\":\"styles_field__5rpBk\"};","import classNames from \"../../utils/classNames\";\nimport styles from \"./styles.module.css\"\n\nexport function Form({ className, style, onSubmit, children }: FormProps)\n{\n\treturn (\n\t\t<form\n\t\t\tclassName={classNames(styles.form, className)}\n\t\t\tstyle={style}\n\t\t\tonSubmit={e =>\n\t\t\t{\n\t\t\t\te.preventDefault();\n\t\t\t\tonSubmit();\n\t\t\t}}\n\t\t>\n\t\t\t{children}\n\t\t</form>\n\t);\n}\n\ninterface FormProps extends React.PropsWithChildren\n{\n\tonSubmit: () => void,\n\tclassName?: string,\n\tstyle?: React.StyleHTMLAttributes<HTMLFormElement>,\n}\n\n\nexport function FormField({ label, className, style, children }: FormFieldProps)\n{\n\treturn (\n\t\t<label className={classNames(styles.field, className)} style={style}>\n\t\t\t<span>{label}</span>\n\t\t\t{children}\n\t\t</label>\n\t);\n}\n\ninterface FormFieldProps extends React.PropsWithChildren\n{\n\tlabel?: string,\n\tclassName?: string,\n\tstyle?: React.StyleHTMLAttributes<HTMLLabelElement>,\n}\n","import { useRef, useState } from \"react\";\nimport styles from \"./styles.module.css\"\nimport { useMutationAuth } from \"../../api/auth\";\nimport Layout from \"../../components/Layout\";\nimport { useTitle } from \"../../utils/useTtile\";\nimport { Form, FormField } from \"../../components/Form\";\nimport Spinner from \"../../components/Spinner\";\n\nexport default function AuthPage()\n{\n\tuseTitle(\"Авторизация\");\n\tconst [error, setError] = useState(\"\");\n\tconst inp_login = useRef<HTMLInputElement>(null);\n\tconst inp_password = useRef<HTMLInputElement>(null);\n\tconst mutation = useMutationAuth(setError);\n\n\tfunction onSubmit()\n\t{\n\t\tconst login = inp_login.current?.value || \"\";\n\t\tconst password = inp_password.current?.value || \"\";\n\t\tmutation.mutate({ login, password });\n\t}\n\n\treturn (\n\t\t<Layout header={null} centered centeredPage gap=\"2em\">\n\t\t\t<h1>Билетная Система</h1>\n\t\t\t{error && <h3>{error}</h3>}\n\t\t\t{mutation.isLoading && <Spinner />}\n\t\t\t<Form className={styles.form} onSubmit={onSubmit}>\n\t\t\t\t<FormField label=\"Логин\">\n\t\t\t\t\t<input ref={inp_login} type=\"text\" name=\"login\" required />\n\t\t\t\t</FormField>\n\t\t\t\t<FormField label=\"Пароль\">\n\t\t\t\t\t<input ref={inp_password} type=\"password\" name=\"password\" required />\n\t\t\t\t</FormField>\n\t\t\t\t<button type=\"submit\" disabled={mutation.status == \"loading\"}>Войти</button>\n\t\t\t</Form>\n\t\t\t<div>\n\t\t\t\t<div>Для сканирования билетов получите ссылку у управляющего.</div>\n\t\t\t\t<div>Если вы попали сюда, перейдите по полученной ссылке ещё раз.</div>\n\t\t\t</div>\n\t\t</Layout>\n\t);\n}\n","import { Link } from \"react-router-dom\";\nimport hasPermission from \"../../api/operations\";\nimport useUser from \"../../api/user\";\nimport Layout from \"../../components/Layout\";\n\nexport default function IndexPage()\n{\n\tconst user = useUser();\n\n\treturn (\n\t\t<Layout centered gap=\"1em\">\n\t\t\t{hasPermission(user, \"page_events\") && <Link to=\"/events\" className=\"button button_large\">Мероприятия</Link>}\n\t\t\t{hasPermission(user, \"page_staff\") && <Link to=\"/staff\" className=\"button button_large\">Сотрудники</Link>}\n\t\t\t{hasPermission(user, \"page_debug\") && <Link to=\"/debug\" className=\"button button_large\">{`</>`}</Link>}\n\t\t\t{hasPermission(user, \"page_users\") && <Link to=\"/users\" className=\"button button_large\">Пользователи</Link>}\n\t\t</Layout>\n\t);\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"scanner\":\"styles_scanner__+xzXT\",\"scannerRect\":\"styles_scannerRect__zwl3N\",\"scannerVideo\":\"styles_scannerVideo__ZCceC\",\"scanner_scanned\":\"styles_scanner_scanned__lX+Yf\",\"scanned_anim\":\"styles_scanned_anim__UmXGC\",\"scanResult\":\"styles_scanResult__35K03\",\"big\":\"styles_big__bcOVH\",\"success\":\"styles_success__dlqOt\",\"result_desc\":\"styles_result_desc__oS+OA\",\"error\":\"styles_error__0ctGO\",\"alreadyScanned\":\"styles_alreadyScanned__OI-PM\",\"alreadyScanned_visible\":\"styles_alreadyScanned_visible__keU3C\"};","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"styles_root__QdJnV\"};","import { useEffect, useRef, useState } from \"react\";\nimport styles from \"./styles.module.css\"\nimport QrScanner from \"qr-scanner\";\nimport classNames from \"../../utils/classNames\";\n\n\nexport default function Scanner({ active = true, className, onScan, onCameraError }: ScannerProps)\n{\n\tconst [qrScanner, setQrScanner] = useState<QrScanner>();\n\tconst videoRef = useRef<HTMLVideoElement | null>(null)\n\n\tuseEffect(() =>\n\t{\n\t\tif (!videoRef.current) return;\n\t\tconst scanner = new QrScanner(\n\t\t\tvideoRef.current,\n\t\t\tresult => onScan(result.data),\n\t\t\t{\n\t\t\t\thighlightScanRegion: true,\n\t\t\t\tmaxScansPerSecond: 10,\n\t\t\t},\n\t\t)\n\t\tsetQrScanner((old: QrScanner | undefined) =>\n\t\t{\n\t\t\told?.stop();\n\t\t\told?.destroy();\n\t\t\treturn scanner;\n\t\t});\n\t\tscanner.start().catch(() => onCameraError());\n\n\t\treturn () =>\n\t\t{\n\t\t\tscanner.stop();\n\t\t\tscanner.destroy();\n\t\t}\n\t}, [videoRef, onScan]);\n\n\tuseEffect(() =>\n\t{\n\t\tif (!qrScanner) return;\n\t\tif (active) qrScanner.start().catch(() => onCameraError());\n\t\telse qrScanner.pause(false);\n\t}, [active, qrScanner])\n\n\treturn (\n\t\t<video className={classNames(styles.root, className)} ref={videoRef}></video>\n\t);\n}\n\ninterface ScannerProps\n{\n\tclassName?: string\n\tactive?: boolean,\n\tonScan: (result: string) => void,\n\tonCameraError: () => void,\n}","export function padNum(num: number, len: number)\n{\n\treturn `${num}`.padStart(len, \"0\");\n}\n\nexport function countWord(num: number, one: string, two: string, five: string)\n{\n\tconst numS = `${num}`;\n\tif (numS.at(-1) == \"1\" && numS.at(-2) != \"1\")\n\t\treturn one;\n\tif ([\"2\", \"3\", \"4\"].includes(numS.at(-1) || \"\") && numS.at(-2) != \"1\")\n\t\treturn two;\n\treturn five;\n}\n","import { padNum, countWord } from \"./nums\";\n\nexport function dateToString(date: Date | null | undefined)\n{\n\tif (!date) return \"\";\n\treturn `${padNum(date.getDate(), 2)}.${padNum(date.getMonth() + 1, 2)}.${date.getFullYear()}`;\n}\n\nexport function timeToString(date: Date, seconds = false)\n{\n\tlet dateStr = `${padNum(date.getHours(), 2)}:${padNum(date.getMinutes(), 2)}`;\n\tif (seconds) return dateStr + `:${padNum(date.getSeconds(), 2)}`;\n\treturn dateStr;\n}\n\nexport function datetimeToString(date: Date, seconds = false)\n{\n\treturn dateToString(date) + \" \" + timeToString(date, seconds);\n}\n\nexport function relativeDate(date: Date, nowBreak: \"second\" | \"minute\" | \"hour\" | \"day\" = \"second\")\n{\n\tconst now = new Date();\n\n\tconst delta = date.getTime() - now.getTime();\n\tlet d = Math.floor(Math.abs(delta) / 1000);\n\n\tconst dY = Math.floor(d / (60 * 60 * 24 * 30 * 12)); d -= dY * 60 * 60 * 24 * 30 * 12;\n\tconst dM = Math.floor(d / (60 * 60 * 24 * 30)); d -= dM * 60 * 60 * 24 * 30;\n\tconst dD = Math.floor(d / (60 * 60 * 24)); d -= dD * 60 * 60 * 24;\n\tconst dh = Math.floor(d / (60 * 60)) % 24; d -= dh * 60 * 60;\n\tconst dm = Math.floor(d / 60) % 60; d -= dm * 60;\n\tconst ds = d % 60;\n\n\tfunction getChange(): [string | number, [string, string, string]]\n\t{\n\t\tconst sv = (v: string) => [v, [\"\", \"\", \"\"]] as [string, [string, string, string]];\n\t\tif (dY != 0) return [dY, [\"год\", \"года\", \"лет\"]];\n\t\tif (dM != 0) return [dM, [\"месяц\", \"месяца\", \"месяцов\"]];\n\t\tif (dD != 0) return [dD, [\"день\", \"дня\", \"дней\"]];\n\t\tif (nowBreak == \"day\") return sv(\"Сегодня\");\n\t\tif (dh != 0) return [dh, [\"час\", \"часа\", \"часов\"]];\n\t\tif (nowBreak == \"hour\") return sv(\"Сейчас\");\n\t\tif (dm != 0) return [dm, [\"минута\", \"минуты\", \"минут\"]];\n\t\tif (nowBreak == \"minute\") return sv(\"Сейчас\");\n\t\tif (ds != 0) return [ds, [\"секунда\", \"секунды\", \"секунд\"]];\n\t\treturn sv(\"Только что\");\n\t}\n\tlet [vChange, vNames] = getChange();\n\n\tif (typeof vChange == \"string\")\n\t\treturn vChange;\n\n\tlet relative = `${countWord(vChange, ...vNames)}`\n\tif (Math.abs(vChange) > 1) relative = Math.abs(vChange) + \" \" + relative;\n\tif (delta > 0) relative = \"Через \" + relative;\n\telse relative += \" назад\";\n\n\treturn relative;\n}\n\nexport function secondsPast(date: Date)\n{\n\tconst now = new Date();\n\treturn (now.getTime() - date.getTime()) / 1000;\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"styles_root__E-Z+Q\",\"top\":\"styles_top__r6L7-\",\"bottom\":\"styles_bottom__GMtUi\"};","import { EventData } from \"../../../api/dataTypes\";\nimport { dateToString } from \"../../../utils/dates\";\nimport styles from \"./styles.module.css\"\n\nexport default function ScannerHeader({ event, onInputBtn }: ScannerHeaderProps)\n{\n\treturn (\n\t\t<div className={styles.root}>\n\t\t\t<div className={styles.top}>\n\t\t\t\t<button onClick={onInputBtn}>Ручной ввод</button>\n\t\t\t</div>\n\t\t\t<div className={styles.bottom}>\n\t\t\t\t<span>{event.name}</span>\n\t\t\t\t<span>|</span>\n\t\t\t\t<span>{dateToString(event.date)}</span>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\ninterface ScannerHeaderProps\n{\n\tevent: EventData,\n\tonInputBtn: () => void,\n}\n","export default function fetchDelete(input: RequestInfo | URL)\n{\n\treturn fetch(input, {\n\t\tmethod: \"DELETE\",\n\t});\n}\n","import { useMutation, useQuery, useQueryClient } from \"react-query\";\nimport { EventData, ResponseEvent, ResponseMsg } from \"./dataTypes\";\nimport ApiError from \"./apiError\";\nimport fetchPost from \"../utils/fetchPost\";\nimport fetchDelete from \"../utils/fetchDelete\";\n\nexport function useEvents()\n{\n\tconst queryClient = useQueryClient();\n\tconst query = useQuery(\"events\", getEvents, {\n\t\tonSuccess: data =>\n\t\t{\n\t\t\tdata.forEach(v => queryClient.setQueryData([\"event\", `${v.id}`], v));\n\t\t}\n\t});\n\treturn query;\n}\n\nasync function getEvents(): Promise<EventData[]>\n{\n\tconst res = await fetch(\"/api/events\");\n\tconst data = await res.json();\n\tif (!res.ok) throw new ApiError((data as ResponseMsg).msg);\n\tconst events = data as ResponseEvent[];\n\treturn events.map(parseEventResponse);\n}\n\nexport function useEvent(eventId: number | string)\n{\n\treturn useQuery([\"event\", `${eventId}`], () => getEvent(eventId));\n}\n\nasync function getEvent(eventId: number | string): Promise<EventData>\n{\n\tconst res = await fetch(\"/api/events/\" + eventId);\n\tconst data = await res.json();\n\tif (!res.ok) throw new ApiError((data as ResponseMsg).msg);\n\treturn parseEventResponse(data as ResponseEvent);\n}\n\nexport function useScannerEvent(eventId: number | string)\n{\n\treturn useQuery([\"event\", `${eventId}`], () => getScannerEvent(eventId), { retry: 3 });\n}\n\nasync function getScannerEvent(eventId: number | string): Promise<EventData | typeof NaN>\n{\n\tconst res = await fetch(\"/api/scanner_event/\" + eventId);\n\tconst data = await res.json();\n\tif (!res.ok) return NaN;\n\treturn parseEventResponse(data as ResponseEvent);\n}\n\nexport function parseEventResponse(responseEvent: ResponseEvent)\n{\n\tconst event = responseEvent as unknown as EventData;\n\tevent.date = new Date(responseEvent.date);\n\treturn event;\n}\n\nexport function useMutationNewEvent(onSuccess?: () => void)\n{\n\tconst queryClient = useQueryClient();\n\tconst mutation = useMutation({\n\t\tmutationFn: postNewEvent,\n\t\tonSuccess: (data) =>\n\t\t{\n\t\t\tqueryClient.setQueryData([\"event\", `${data.id}`], () => data);\n\t\t\tif (queryClient.getQueryState(\"events\")?.status == \"success\")\n\t\t\t\tqueryClient.setQueryData(\"events\", (events?: EventData[]) => events ? [...events, data] : [data]);\n\t\t\tonSuccess?.();\n\t\t},\n\t});\n\treturn mutation;\n}\n\nasync function postNewEvent(eventData: NewEventData)\n{\n\tconst res = await fetchPost(\"/api/event\", eventData);\n\tconst data = await res.json();\n\tif (!res.ok) throw new ApiError((data as ResponseMsg).msg);\n\treturn parseEventResponse(data as ResponseEvent);\n}\n\ninterface NewEventData\n{\n\tname: string,\n\tdate: Date | string,\n}\n\nexport function useMutationUpdateEvent(eventId: number | string, onSuccess?: () => void)\n{\n\tconst queryClient = useQueryClient();\n\tconst mutation = useMutation({\n\t\tmutationFn: (eventData: NewEventData) => postUpdateEvent(eventId, eventData),\n\t\tonSuccess: (data) =>\n\t\t{\n\t\t\tqueryClient.setQueryData([\"event\", `${data.id}`], () => data);\n\t\t\tif (queryClient.getQueryState(\"events\")?.status == \"success\")\n\t\t\t\tqueryClient.setQueryData(\"events\", (events?: EventData[]) => events ? [...events.filter(v => v.id != data.id), data] : [data]);\n\t\t\tonSuccess?.();\n\t\t},\n\t});\n\treturn mutation;\n}\n\nasync function postUpdateEvent(eventId: number | string, eventData: NewEventData)\n{\n\tconst res = await fetchPost(\"/api/event/\" + eventId, eventData);\n\tconst data = await res.json();\n\tif (!res.ok) throw new ApiError((data as ResponseMsg).msg);\n\treturn parseEventResponse(data as ResponseEvent);\n}\n\ninterface NewEventData\n{\n\tname: string,\n\tdate: Date | string,\n}\n\n\nexport function useMutationDeleteEvent(eventId: number | string, onSuccess?: () => void)\n{\n\tconst queryClient = useQueryClient();\n\tconst mutation = useMutation({\n\t\tmutationFn: () => postDeleteEvent(eventId),\n\t\tonSuccess: () =>\n\t\t{\n\t\t\tqueryClient.removeQueries([\"event\", `${eventId}`], { exact: true });\n\t\t\tif (queryClient.getQueryState(\"events\")?.status == \"success\")\n\t\t\t\tqueryClient.setQueryData(\"events\", (events?: EventData[]) => events ? events.filter(v => v.id != eventId) : []);\n\t\t\tonSuccess?.();\n\t\t},\n\t});\n\treturn mutation;\n}\n\nasync function postDeleteEvent(eventId: number | string)\n{\n\tconst res = await fetchDelete(\"/api/event/\" + eventId);\n\tif (!res.ok) throw new ApiError((await res.json() as ResponseMsg).msg);\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"styles_root__O0923\",\"open\":\"styles_open__35Vcu\",\"popup\":\"styles_popup__L-0H0\",\"header\":\"styles_header__o87wG\",\"close\":\"styles_close__w0Yhz\",\"body\":\"styles_body__t75Nd\"};","import classNames from \"../../utils/classNames\";\nimport styles from \"./styles.module.css\"\n\nexport default function Popup({ children, open = false, close, title = \"\" }: CustomPopupProps)\n{\n\treturn (\n\t\t<div className={classNames(styles.root, open && styles.open)}>\n\t\t\t<div className={styles.popup}>\n\t\t\t\t{\n\t\t\t\t\t(title || close) &&\n\t\t\t\t\t<div className={styles.header}>\n\t\t\t\t\t\t<h3>{title}</h3>\n\t\t\t\t\t\t{close && <button className={styles.close} onClick={close}>✖</button>}\n\t\t\t\t\t</div>\n\t\t\t\t}\n\t\t\t\t<div className={styles.body}>\n\t\t\t\t\t{children}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport interface PopupProps\n{\n\topen?: boolean,\n\tclose?: () => void,\n}\n\ninterface CustomPopupProps extends PopupProps, React.PropsWithChildren\n{\n\ttitle?: string,\n}","import { useMutation, useQuery, useQueryClient } from \"react-query\";\nimport { ResponseMsg, ResponseTicket, Ticket } from \"./dataTypes\";\nimport ApiError from \"./apiError\";\nimport fetchPost from \"../utils/fetchPost\";\n\nexport default function useTickets(eventId: number | string)\n{\n\treturn useQuery([\"tickets\", eventId], () => getTickets(eventId));\n}\n\nasync function getTickets(eventId: number | string): Promise<Ticket[]>\n{\n\tconst res = await fetch(\"/api/tickets/\" + eventId);\n\tconst data = await res.json();\n\tif (!res.ok) throw new ApiError((data as ResponseMsg).msg);\n\n\treturn (data as ResponseTicket[]).map(parseTicketResponse);\n}\n\nexport function parseTicketResponse(responseTicket: ResponseTicket)\n{\n\tconst ticket = responseTicket as unknown as Ticket;\n\tif (responseTicket.scannedDate)\n\t\tticket.scannedDate = new Date(responseTicket.scannedDate);\n\tif (responseTicket.createdDate)\n\t\tticket.createdDate = new Date(responseTicket.createdDate);\n\treturn ticket;\n}\n\nexport function useMutationNewTicket(onSuccess?: (ticket: Ticket) => void)\n{\n\tconst queryClient = useQueryClient();\n\tconst mutation = useMutation({\n\t\tmutationFn: postNewTicket,\n\t\tonSuccess: (data) =>\n\t\t{\n\t\t\tif (queryClient.getQueryState([\"tickets\", `${data.eventId}`])?.status == \"success\")\n\t\t\t\tqueryClient.setQueryData([\"tickets\", `${data.eventId}`], (tickets?: Ticket[]) => tickets ? [...tickets, data] : [data]);\n\t\t\tonSuccess?.(data);\n\t\t},\n\t});\n\treturn mutation;\n}\n\nasync function postNewTicket(eventData: NewTicketData)\n{\n\tconst res = await fetchPost(\"/api/ticket\", eventData);\n\tconst data = await res.json();\n\tif (!res.ok) throw new ApiError((data as ResponseMsg).msg);\n\treturn parseTicketResponse(data as ResponseTicket);\n}\n\ninterface NewTicketData\n{\n\ttypeId: number,\n\teventId: number,\n\tpersonName: string,\n\tpersonLink: string,\n\tpromocode: string,\n\tcode: string,\n}\n","import { useMutation } from \"react-query\";\nimport fetchPost from \"../utils/fetchPost\"\nimport ApiError from \"./apiError\";\nimport { CheckTicketResult, ResponseCheckTicket, ResponseMsg } from \"./dataTypes\";\nimport { parseEventResponse } from \"./events\";\nimport { parseTicketResponse } from \"./tickets\";\n\n\nexport default function useMutationCheckTicket(onSuccess?: (res: CheckTicketResult) => void, onError?: (msg: string) => void)\n{\n\tconst mutation = useMutation({\n\t\tmutationFn: postCheckTicket,\n\t\tonSuccess: (data) =>\n\t\t{\n\t\t\tonSuccess?.(data);\n\t\t},\n\t\tonError: (error) =>\n\t\t{\n\t\t\tonError?.(error instanceof ApiError ? error.message : \"Произошла ошибка\")\n\t\t\tmutation.reset();\n\t\t}\n\t});\n\treturn mutation;\n}\n\n\nasync function postCheckTicket(ticketData: TicketData): Promise<CheckTicketResult>\n{\n\tconst res = await fetchPost(\"/api/check_ticket\", ticketData);\n\tconst data = await res.json();\n\tif (!res.ok) throw new ApiError((data as ResponseMsg).msg);\n\n\tconst apiResult = data as ResponseCheckTicket;\n\tconst result = data as CheckTicketResult;\n\tif (apiResult.ticket)\n\t\tresult.ticket = parseTicketResponse(apiResult.ticket)\n\tif (apiResult.event)\n\t\tresult.event = parseEventResponse(apiResult.event)\n\treturn result\n}\n\ninterface TicketData\n{\n\tcode: string,\n\teventId: number,\n}\n","import { useState } from \"react\";\n\nexport default function useSound(url: string)\n{\n\tconst [audio] = useState(() =>\n\t{\n\t\tconst audio = new Audio(url)\n\t\taudio.preload = \"auto\";\n\t\treturn audio;\n\t});\n\n\tconst play = () =>\n\t{\n\t\taudio.currentTime = 0;\n\t\taudio.play();\n\t};\n\n\treturn [play];\n};\n","import { padNum } from \"./nums\";\n\nexport default function getTicketPrefix(id: number, date: Date)\n{\n\treturn `${padNum(id, 3)}-${date.getFullYear().toString().at(-1)}${padNum(date.getMonth() + 1, 2)}${padNum(date.getDate(), 2)}-`;\n}","import { useCallback, useEffect, useRef, useState } from \"react\";\nimport Layout from \"../../components/Layout\";\nimport styles from \"./styles.module.css\"\nimport { CheckTicketResult } from \"../../api/dataTypes\";\nimport Scanner from \"../../components/Scanner\";\nimport ScannerHeader from \"./ScannerHeader\";\nimport classNames from \"../../utils/classNames\";\nimport { useScannerEvent } from \"../../api/events\";\nimport { dateToString, relativeDate, secondsPast, timeToString } from \"../../utils/dates\";\nimport Popup from \"../../components/Popup\";\nimport { useParams } from \"react-router-dom\";\nimport { useTitle } from \"../../utils/useTtile\";\nimport useMutationCheckTicket from \"../../api/checkTicket\";\nimport Spinner from \"../../components/Spinner\";\nimport useSound from \"../../utils/useSound\";\nimport beep from \"./beep.mp3\";\nimport beepError from \"./beepError.mp3\";\nimport getTicketPrefix from \"../../utils/getTicketPrefix\";\n\nexport default function ScannerPage()\n{\n\tuseTitle(\"Сканер\");\n\tconst urlParams = useParams();\n\tconst [qrScanResult, setQrScanResult] = useState<string | null>(null);\n\tconst [ticketCode, setTicketCode] = useState<string | null>(null);\n\tconst [error, setError] = useState<string | null>(null);\n\tconst [checkTicketResult, setCheckTicketResult] = useState<CheckTicketResult | null>(null);\n\tconst [startHintOpen, setStartHintOpen] = useState(true);\n\tconst [inputOpen, setInputOpen] = useState(false);\n\tconst [alreadyScanned, setAlreadyScanned] = useState(false);\n\tconst [cameraError, setCameraError] = useState(false);\n\tconst inputRef = useRef<HTMLInputElement>(null);\n\tconst event = useScannerEvent(urlParams[\"eventId\"]!);\n\n\tconst [playBeep] = useSound(beep);\n\tconst [playBeepError] = useSound(beepError);\n\n\tconst handleScan = useCallback((res: string) => setQrScanResult(res), []);\n\tconst handleOpenInput = useCallback(() =>\n\t{\n\t\tsetInputOpen(true);\n\t\tif (inputRef.current && event.data && typeof event.data != \"number\")\n\t\t{\n\t\t\tsetTimeout(() =>\n\t\t\t{\n\t\t\t\tif (inputRef.current)\n\t\t\t\t\tinputRef.current.focus();\n\t\t\t}, 50);\n\t\t\tinputRef.current.value = getTicketPrefix(event.data.id, event.data.date);\n\t\t}\n\t}, [inputRef, event.data]);\n\tconst handleCloseInput = useCallback(() => setInputOpen(false), []);\n\n\tconst mutation = useMutationCheckTicket(\n\t\tresult =>\n\t\t{\n\t\t\tsetCheckTicketResult(result);\n\t\t\tif (!result.success) playBeepError();\n\t\t},\n\t\terror =>\n\t\t{\n\t\t\tsetCheckTicketResult(null);\n\t\t\tsetError(error);\n\t\t}\n\t);\n\n\tuseEffect(() =>\n\t{\n\t\tif (qrScanResult && event.data && mutation.status == \"idle\" && typeof event.data != \"number\")\n\t\t{\n\t\t\tplayBeep();\n\t\t\tif (ticketCode == qrScanResult && !error)\n\t\t\t{\n\t\t\t\tsetQrScanResult(null);\n\t\t\t\tsetAlreadyScanned(true);\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tsetQrScanResult(null);\n\t\t\tsetAlreadyScanned(false);\n\t\t\tsetTicketCode(qrScanResult);\n\t\t\tsetError(null);\n\t\t\tsetCheckTicketResult(null);\n\t\t\tmutation.mutate({ code: qrScanResult, eventId: event.data.id });\n\t\t}\n\t}, [qrScanResult, event.data, mutation.status]);\n\n\tuseEffect(() =>\n\t{\n\t\tif (!mutation.isSuccess) return;\n\t\tconst timeout = setTimeout(() =>\n\t\t{\n\t\t\tsetQrScanResult(null);\n\t\t\tmutation.reset();\n\t\t}, 1000);\n\t\treturn () => clearTimeout(timeout);\n\t}, [mutation.isSuccess]);\n\n\tuseEffect(() =>\n\t{\n\t\tif (!alreadyScanned) return;\n\t\tconst timeout = setTimeout(() => setAlreadyScanned(false), 500);\n\t\treturn () => clearTimeout(timeout);\n\t}, [alreadyScanned]);\n\n\treturn (\n\t\t<>\n\t\t\t{event.isLoading && <Spinner />}\n\t\t\t{event.error && <Layout centered gap=\"1em\" header={null}>Произошла ошибка</Layout>}\n\t\t\t{typeof event.data == \"number\" && <Layout centered centeredPage gap=\"1em\" header={null}>\n\t\t\t\t<div>Это событие ещё не началось или уже кончилось</div>\n\t\t\t\t<div>Если это не так, управляющий должен включить приём билетов</div>\n\t\t\t</Layout>}\n\t\t\t{typeof event.data != \"number\" && event.data &&\n\t\t\t\t<Layout height100 header={<ScannerHeader event={event.data} onInputBtn={handleOpenInput} />}>\n\t\t\t\t\t<div className={classNames(styles.scanner, !mutation.isIdle && styles.scanner_scanned)}>\n\t\t\t\t\t\t<div className={styles.scannerRect}>\n\t\t\t\t\t\t\t<Scanner onScan={handleScan} onCameraError={() => setCameraError(true)} className={styles.scannerVideo} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{/* <button onClick={() => handleScan(\"001-30809-03-0008\")}>Scan!</button> */}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className={styles.scanResult}>\n\t\t\t\t\t\t<div className={classNames(styles.alreadyScanned, alreadyScanned && styles.alreadyScanned_visible)}>Тот же билет</div>\n\t\t\t\t\t\t{ticketCode && <div>Код билета: {ticketCode}</div>}\n\t\t\t\t\t\t{error && <div>{error}</div>}\n\t\t\t\t\t\t{checkTicketResult?.success && <>\n\t\t\t\t\t\t\t<div className={classNames(styles.success, styles.big)}>Действителен</div>\n\t\t\t\t\t\t\t<div className={styles.result_desc}>\n\t\t\t\t\t\t\t\t<div>Посетитель: {checkTicketResult.ticket.personName}</div>\n\t\t\t\t\t\t\t\t<div>Тип билета: {checkTicketResult.ticket.type}</div>\n\t\t\t\t\t\t\t\t<div>Промокод: {checkTicketResult.ticket.promocode}</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</>}\n\t\t\t\t\t\t{checkTicketResult?.errorCode == \"notExist\" && <div className={classNames(styles.error, styles.big)}>Не найден</div>}\n\t\t\t\t\t\t{checkTicketResult?.errorCode == \"event\" && <>\n\t\t\t\t\t\t\t<div className={classNames(styles.error, styles.big)}>Другое мероприятие</div>\n\t\t\t\t\t\t\t<div className={styles.result_desc}>\n\t\t\t\t\t\t\t\t{(() =>\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\treturn <>\n\t\t\t\t\t\t\t\t\t\t<div>Мероприятие: {checkTicketResult.event.name}</div>\n\t\t\t\t\t\t\t\t\t\t<div>Его дата: {dateToString(checkTicketResult.event.date)} ({relativeDate(checkTicketResult.event.date, \"day\")})</div>\n\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t})()}\n\t\t\t\t\t\t\t\t<div>Посетитель: {checkTicketResult.ticket.personName}</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</>}\n\t\t\t\t\t\t{checkTicketResult?.errorCode == \"scanned\" && <>\n\t\t\t\t\t\t\t<div className={classNames(styles.error, styles.big)}>Использованный</div>\n\t\t\t\t\t\t\t<div className={styles.result_desc}>\n\t\t\t\t\t\t\t\t{/* <div>\n\t\t\t\t\t\t\t\t\t<span>Кем: </span>\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tcheckTicketResult.ticket.scannedById == user.data?.id ?\n\t\t\t\t\t\t\t\t\t\t<span>Вами</span> : <>\n\t\t\t\t\t\t\t\t\t\t\t<span>{checkTicketResult.ticket.scannedBy} </span>\n\t\t\t\t\t\t\t\t\t\t\t<span className={styles.error}>(Не вами)</span>\n\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t</div> */}\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<span>Когда: </span>\n\t\t\t\t\t\t\t\t\t<span>{timeToString(checkTicketResult.ticket.scannedDate, true)} </span>\n\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\t\tclassName={classNames(secondsPast(checkTicketResult.ticket.scannedDate) > 30 && styles.error)}\n\t\t\t\t\t\t\t\t\t>({relativeDate(checkTicketResult.ticket.scannedDate)})</span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div style={{ marginTop: \"0.5rem\" }}>Посетитель: {checkTicketResult.ticket.personName}</div>\n\t\t\t\t\t\t\t\t<div>Тип билета: {checkTicketResult.ticket.type}</div>\n\t\t\t\t\t\t\t\t<div>Промокод: {checkTicketResult.ticket.promocode}</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</>}\n\t\t\t\t\t</div>\n\t\t\t\t\t<Popup title=\"Введите код билета\" open={inputOpen} close={handleCloseInput}>\n\t\t\t\t\t\t<input type=\"text\" ref={inputRef} />\n\t\t\t\t\t\t<button disabled={mutation.status != \"idle\"} onClick={() =>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tif (inputRef.current)\n\t\t\t\t\t\t\t\tsetQrScanResult(inputRef.current?.value);\n\t\t\t\t\t\t\thandleCloseInput();\n\t\t\t\t\t\t}}>Проверить</button>\n\t\t\t\t\t</Popup>\n\t\t\t\t\t<Popup open={cameraError}>\n\t\t\t\t\t\t<h1>Нет доступа к камере</h1>\n\t\t\t\t\t\t<p>Разрешите использование камеры этому сайту и браузеру, который вы используте.</p>\n\t\t\t\t\t\t<p>После перезагрузите страницу.</p>\n\t\t\t\t\t</Popup>\n\t\t\t\t\t<Popup title=\"Сканер билетов\" open={startHintOpen} close={() => setStartHintOpen(false)}>\n\t\t\t\t\t\t<h2>{event.data.name}</h2>\n\t\t\t\t\t\t<p>Для сканирования билета наведите камеру на QR код так, чтобы он поместился в мигающую рамку.</p>\n\t\t\t\t\t\t<p><strong>Включите звук</strong>, чтобы слышать сигнал при сканировании.</p>\n\t\t\t\t\t</Popup>\n\t\t\t\t</Layout>\n\t\t\t}\n\t\t</>\n\t);\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"space_between\":\"styles_space_between__AD+M6\"};","import { ReactNode } from \"react\";\nimport { UseMutationResult, UseQueryResult } from \"react-query\";\nimport ApiError from \"../api/apiError\";\n\nexport default function displayError(requestRes: UseMutationResult<any, any, any, any> | UseQueryResult<any, any>, render?: (error: string) => ReactNode)\n{\n\tif (!requestRes.isError) return null;\n\n\tconst error = requestRes.error instanceof ApiError ? requestRes.error.message : \"Ошибка\";\n\n\tconst renderer = render || defaultRender;\n\treturn renderer(error);\n}\n\nfunction defaultRender(error: string)\n{\n\treturn (\n\t\t<h3 style={{ color: \"tomato\", textAlign: \"center\" }}>{error}</h3>\n\t)\n}\n","import { useEffect, useRef } from \"react\";\nimport { Form, FormField } from \"../Form\";\nimport Popup, { PopupProps } from \"../Popup\";\nimport { useMutationNewEvent } from \"../../api/events\";\nimport Spinner from \"../Spinner\";\nimport displayError from \"../../utils/displayError\";\n\nexport default function CreateEventForm({ open, close }: PopupProps)\n{\n\tconst inp_title = useRef<HTMLInputElement>(null);\n\tconst inp_date = useRef<HTMLInputElement>(null);\n\tconst mutation = useMutationNewEvent(close);\n\n\tuseEffect(() =>\n\t{\n\t\tif (!open && inp_title.current && inp_date.current)\n\t\t{\n\t\t\tinp_title.current.value = \"\";\n\t\t\tinp_date.current.value = \"\";\n\t\t}\n\t}, [open, inp_title, inp_date]);\n\n\treturn (\n\t\t<Popup open={open} close={close} title=\"Добавление меропрятия\">\n\t\t\t{displayError(mutation)}\n\t\t\t<Form onSubmit={() =>\n\t\t\t{\n\t\t\t\tconst title = inp_title.current?.value;\n\t\t\t\tconst date = inp_date.current?.value;\n\t\t\t\tif (title && date)\n\t\t\t\t\tmutation.mutate({ date: date, name: title });\n\t\t\t}}>\n\t\t\t\t<FormField label=\"Название\">\n\t\t\t\t\t<input ref={inp_title} type=\"text\" required />\n\t\t\t\t</FormField>\n\t\t\t\t<FormField label=\"Дата\">\n\t\t\t\t\t<input ref={inp_date} type=\"datetime-local\" required />\n\t\t\t\t</FormField>\n\t\t\t\t<button type=\"submit\">Создать</button>\n\t\t\t</Form>\n\t\t\t{mutation.isLoading && <Spinner />}\n\t\t</Popup>\n\t);\n}\n","import { Link } from \"react-router-dom\";\nimport { useEvents } from \"../../api/events\";\nimport Layout from \"../../components/Layout\";\nimport styles from \"./styles.module.css\"\nimport classNames from \"../../utils/classNames\";\nimport { dateToString } from \"../../utils/dates\";\nimport { useTitle } from \"../../utils/useTtile\";\nimport CreateEventForm from \"../../components/create/CreateEventForm\";\nimport { useState } from \"react\";\nimport { useHasPermission } from \"../../api/operations\";\nimport Spinner from \"../../components/Spinner\";\nimport displayError from \"../../utils/displayError\";\n\nexport default function EventsPage()\n{\n\tuseTitle(\"Мероприятия\");\n\tconst [createFormOpen, setCreateFormOpen] = useState(false);\n\tconst events = useEvents();\n\n\treturn (\n\t\t<Layout backLink=\"/\" centeredPage gap=\"1rem\">\n\t\t\t<h1>Мероприятия</h1>\n\t\t\t{events.isLoading && <Spinner/>}\n\t\t\t{displayError(events)}\n\t\t\t{events.data?.sort((a, b) => a.date < b.date ? 1 : -1)?.map(e =>\n\t\t\t\t<Link\n\t\t\t\t\tto={`/events/${e.id}`}\n\t\t\t\t\tclassName={classNames(\"button button_large\", styles.space_between)}\n\t\t\t\t\tkey={e.id}\n\t\t\t\t>\n\t\t\t\t\t<span>{e.name}</span>\n\t\t\t\t\t<span>{dateToString(e.date)}</span>\n\t\t\t\t</Link>\n\t\t\t)}\n\t\t\t{useHasPermission(\"add_event\") &&\n\t\t\t\t<div className={styles.space_between}>\n\t\t\t\t\t<span></span>\n\t\t\t\t\t<button className=\"button\" onClick={() => setCreateFormOpen(true)}>Добавить</button>\n\t\t\t\t</div>\n\t\t\t}\n\t\t\t<CreateEventForm open={createFormOpen} close={() => setCreateFormOpen(false)} />\n\t\t</Layout>\n\t);\n}\n","import { useQuery, useQueryClient, useMutation } from \"react-query\";\nimport fetchDelete from \"../utils/fetchDelete\";\nimport fetchPost from \"../utils/fetchPost\";\nimport ApiError from \"./apiError\";\nimport { Staff, ResponseMsg } from \"./dataTypes\";\n\n\nexport function useStaff()\n{\n\treturn useQuery(\"staff\", getStaff);\n}\n\nasync function getStaff(): Promise<Staff[]>\n{\n\tconst res = await fetch(\"/api/staff\");\n\tconst data = await res.json();\n\tif (!res.ok) throw new ApiError((data as ResponseMsg).msg);\n\n\treturn data as Staff[];\n}\n\nexport function useMutationNewStaff(onSuccess?: (staff: Staff) => void)\n{\n\tconst queryClient = useQueryClient();\n\tconst mutation = useMutation({\n\t\tmutationFn: postNewStaff,\n\t\tonSuccess: (data) =>\n\t\t{\n\t\t\tif (queryClient.getQueryState(\"staff\")?.status == \"success\")\n\t\t\t\tqueryClient.setQueryData(\"staff\", (staff?: Staff[]) => staff ? [...staff, data] : [data]);\n\t\t\tonSuccess?.(data);\n\t\t},\n\t});\n\treturn mutation;\n}\n\nasync function postNewStaff(eventData: NewStaffData)\n{\n\tconst res = await fetchPost(\"/api/staff\", eventData);\n\tconst data = await res.json();\n\tif (!res.ok) throw new ApiError((data as ResponseMsg).msg);\n\tif (data.exist) throw new ApiError((data as ResponseMsg).msg);\n\treturn data as Staff;\n}\ninterface NewStaffData\n{\n\tname: string;\n\tlogin: string;\n}\n\n\nexport function useMutationDeleteStaff(staffId: number | string, onSuccess?: () => void)\n{\n\tconst queryClient = useQueryClient();\n\tconst mutation = useMutation({\n\t\tmutationFn: () => postDeleteStaff(staffId),\n\t\tonSuccess: () =>\n\t\t{\n\t\t\tif (queryClient.getQueryState(\"staff\")?.status == \"success\")\n\t\t\t\tqueryClient.setQueryData(\"staff\", (staff?: Staff[]) => staff ? staff.filter(v => v.id != staffId) : []);\n\t\t\tonSuccess?.();\n\t\t},\n\t});\n\treturn mutation;\n}\n\nasync function postDeleteStaff(staffId: number | string)\n{\n\tconst res = await fetchDelete(\"/api/staff/\" + staffId);\n\tif (!res.ok) throw new ApiError((await res.json() as ResponseMsg).msg);\n}\n\nexport function useMutationResetStaffPassword(staffId: number | string, onSuccess?: (staff: Staff) => void)\n{\n\tconst queryClient = useQueryClient();\n\tconst mutation = useMutation({\n\t\tmutationFn: () => postResetStaffPassword(staffId),\n\t\tonSuccess: (data) =>\n\t\t{\n\t\t\tif (queryClient.getQueryState(\"staff\")?.status == \"success\")\n\t\t\t\tqueryClient.setQueryData(\"staff\", (staff?: Staff[]) => staff ? staff.map(v => v.id != staffId ? v : data) : []);\n\t\t\tonSuccess?.(data);\n\t\t},\n\t});\n\treturn mutation;\n}\n\nasync function postResetStaffPassword(staffId: number | string)\n{\n\tconst res = await fetchPost(\"/api/staff/reset_password/\" + staffId);\n\tconst data = await res.json();\n\tif (!res.ok) throw new ApiError((data as ResponseMsg).msg);\n\treturn data as Staff;\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"user\":\"styles_user__JQBf0\",\"title\":\"styles_title__OlEMb\",\"space_between\":\"styles_space_between__Z0Ibu\",\"toggle\":\"styles_toggle__wBqj6\",\"toggleInp\":\"styles_toggleInp__Tox8V\",\"userInfo\":\"styles_userInfo__Pveb6\"};","import { useEffect, useRef, useState } from \"react\";\nimport { Form, FormField } from \"../Form\";\nimport Popup, { PopupProps } from \"../Popup\";\nimport Spinner from \"../Spinner\";\nimport { useMutationNewStaff } from \"../../api/staff\";\nimport displayError from \"../../utils/displayError\";\nimport { Staff } from \"../../api/dataTypes\";\n\nexport default function CreateStaffForm({ open, close }: PopupProps)\n{\n\tconst [newStaff, setNewStaff] = useState<Staff | null>(null);\n\tconst inp_name = useRef<HTMLInputElement>(null);\n\tconst inp_login = useRef<HTMLInputElement>(null);\n\tconst mutation = useMutationNewStaff(staff =>\n\t{\n\t\tsetNewStaff(staff);\n\t\tclose?.()\n\t});\n\n\tuseEffect(() =>\n\t{\n\t\tif (!open && inp_name.current && inp_login.current)\n\t\t{\n\t\t\tmutation.reset();\n\t\t\tinp_name.current.value = \"\";\n\t\t\tinp_login.current.value = \"\";\n\t\t}\n\t}, [open, inp_name, inp_login]);\n\n\treturn <>\n\t\t<Popup open={open} close={close} title=\"Добавление сотрудника\">\n\t\t\t{displayError(mutation)}\n\t\t\t<Form onSubmit={() =>\n\t\t\t{\n\t\t\t\tconst name = inp_name.current?.value;\n\t\t\t\tconst login = inp_login.current?.value;\n\t\t\t\tif (name && login)\n\t\t\t\t\tmutation.mutate({ name, login });\n\t\t\t}}>\n\t\t\t\t<FormField label=\"Имя\">\n\t\t\t\t\t<input ref={inp_name} type=\"text\" required />\n\t\t\t\t</FormField>\n\t\t\t\t<FormField label=\"Логин\">\n\t\t\t\t\t<input ref={inp_login} placeholder=\"Англ. буквы, цифры и _\" type=\"text\" required\n\t\t\t\t\t\tonInput={e =>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tif (inp_login.current)\n\t\t\t\t\t\t\t\tinp_login.current.value = inp_login.current.value.replaceAll(/[^a-z_\\d]/g, \"\");\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t</FormField>\n\t\t\t\t<button type=\"submit\">Добавить</button>\n\t\t\t</Form>\n\t\t\t{mutation.isLoading && <Spinner />}\n\t\t</Popup>\n\t\t<Popup open={!!newStaff} close={() => setNewStaff(null)} title=\"Данные сотрудника\">\n\t\t\t<div>Логин: {newStaff?.login}</div>\n\t\t\t<div>Пароль: {newStaff?.password}</div>\n\t\t\t<h4 style={{ marginTop: 8 }}>Пароль нельзя посмотреть заново</h4>\n\t\t</Popup>\n\t</>\n}\n","import { UseMutationResult } from \"react-query\";\nimport displayError from \"../../utils/displayError\";\nimport { Form } from \"../Form\";\nimport Popup, { PopupProps } from \"../Popup\";\nimport Spinner from \"../Spinner\";\nimport { useEffect } from \"react\";\n\nexport default function PopupConfirmDeletion<T>({ title, mutationFn, itemId, onSuccess, open, close }: PopupConfirmDeletionProps<T>)\n{\n\tconst mutation = mutationFn(itemId, (item) =>\n\t{\n\t\tclose?.();\n\t\tonSuccess?.(item);\n\t});\n\n\tuseEffect(() =>\n\t{\n\t\tif (!open)\n\t\t\tmutation.reset();\n\t}, [open]);\n\n\treturn (\n\t\t<Popup open={open} close={close} title={title}>\n\t\t\t{displayError(mutation)}\n\t\t\t{mutation.isLoading && <Spinner />}\n\t\t\t<Form onSubmit={() =>\n\t\t\t{\n\t\t\t\tmutation.mutate();\n\t\t\t}}>\n\t\t\t\t<h1>Вы уверены?</h1>\n\t\t\t\t<button type=\"submit\">Подтвердить</button>\n\t\t\t</Form>\n\t\t</Popup>\n\t);\n}\n\ninterface PopupConfirmDeletionProps<T> extends PopupProps\n{\n\tmutationFn: (itemId: number | string, onSuccess: (item: T) => void) => UseMutationResult<T, any, void, any>,\n\titemId: number | string,\n\ttitle: string,\n\tonSuccess?: (item: T) => void,\n}\n","import { useState } from \"react\";\nimport { useHasPermission } from \"../../api/operations\";\nimport { useMutationDeleteStaff, useMutationResetStaffPassword, useStaff } from \"../../api/staff\";\nimport Layout from \"../../components/Layout\";\nimport { useTitle } from \"../../utils/useTtile\";\nimport styles from \"./styles.module.css\"\nimport CreateStaffForm from \"../../components/create/CreateStaffForm\";\nimport PopupConfirmDeletion from \"../../components/PopupConfirmDeletion\";\n\nexport default function StaffPage()\n{\n\tuseTitle(\"Сотрудники\");\n\tconst [createFormOpen, setCreateFormOpen] = useState(false);\n\tconst [delitionStaff, setDelitionStaff] = useState(-1);\n\tconst [resetPasswordStaff, setResetPasswordStaff] = useState(-1);\n\tconst staff = useStaff();\n\n\treturn (\n\t\t<Layout centeredPage gap={8}>\n\t\t\t<h1>Сотрудники</h1>\n\t\t\t{staff.data?.length == 0 && <h2>У вас нет сотрудников</h2>}\n\t\t\t{staff.data?.map(v => <div className={styles.user} key={v.id}>\n\t\t\t\t<input type=\"checkbox\" className={styles.toggleInp} id={`user${v.id}`} />\n\t\t\t\t<label className={styles.title} htmlFor={`user${v.id}`}>\n\t\t\t\t\t<div>{v.name}</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<span>{v.role}</span>\n\t\t\t\t\t\t<div className={styles.toggle}></div>\n\t\t\t\t\t</div>\n\t\t\t\t</label>\n\t\t\t\t<div className={styles.userInfo}>\n\t\t\t\t\t<div>Логин: {v.login}</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<span>Пароль: </span>\n\t\t\t\t\t\t{v.password || <button className=\"button button_light button_small\" onClick={() => setResetPasswordStaff(v.id)}>Сбросить пароль</button>}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className={styles.space_between}>\n\t\t\t\t\t\t<span></span>\n\t\t\t\t\t\t<button className=\"button button_danger button_small\" onClick={() => setDelitionStaff(v.id)}>Уволить</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>)}\n\t\t\t{useHasPermission(\"add_staff\") &&\n\t\t\t\t<div className={styles.space_between}>\n\t\t\t\t\t<span></span>\n\t\t\t\t\t<button className=\"button\" onClick={() => setCreateFormOpen(true)}>Добавить</button>\n\t\t\t\t</div>\n\t\t\t}\n\t\t\t<CreateStaffForm open={createFormOpen} close={() => setCreateFormOpen(false)} />\n\t\t\t<PopupConfirmDeletion itemId={delitionStaff} title=\"Увольнение сотрудника\" mutationFn={useMutationDeleteStaff} open={delitionStaff >= 0} close={() => setDelitionStaff(-1)} />\n\t\t\t<PopupConfirmDeletion itemId={resetPasswordStaff} title=\"Сброс пароля сотрудника\" mutationFn={useMutationResetStaffPassword} open={resetPasswordStaff >= 0} close={() => setResetPasswordStaff(-1)} />\n\t\t</Layout>\n\t);\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"card\":\"styles_card__1zOYj\",\"card__header\":\"styles_card__header__o4cfX\",\"card__body\":\"styles_card__body__KU56x\",\"gap\":\"styles_gap__Z5dnR\",\"right\":\"styles_right__fxm89\"};","import { useMutation, useQuery, useQueryClient } from \"react-query\";\nimport { ResponseMsg, TicketType } from \"./dataTypes\";\nimport ApiError from \"./apiError\";\nimport fetchPost from \"../utils/fetchPost\";\n\nexport function useTicketTypes(eventId: number | string)\n{\n\treturn useQuery([\"ticket_types\", eventId], () => getTicketTypes(eventId));\n}\n\nasync function getTicketTypes(eventId: number | string): Promise<TicketType[]>\n{\n\tconst res = await fetch(\"/api/ticket_types/\" + eventId);\n\tconst data = await res.json();\n\tif (!res.ok) throw new ApiError((data as ResponseMsg).msg);\n\treturn data as TicketType[];\n}\n\nexport function useMutationUpdateTicketTypes(eventId: number | string, onSuccess?: (ticket: TicketType[]) => void)\n{\n\tconst queryClient = useQueryClient();\n\tconst mutation = useMutation({\n\t\tmutationFn: (data: UpdateTicketTypesData[]) => postUpdateTicketTypes(eventId, data),\n\t\tonSuccess: (data, inp) =>\n\t\t{\n\t\t\tconst someTypeChanged = inp.some(v => v.action == \"delete\" || v.action == \"update\")\n\t\t\tif (someTypeChanged)\n\t\t\t\tqueryClient.invalidateQueries([\"tickets\", `${eventId}`], { exact: true });\n\t\t\telse\n\t\t\t\tqueryClient.setQueryData([\"ticket_types\", `${eventId}`], () => data);\n\t\t\tonSuccess?.(data);\n\t\t},\n\t});\n\treturn mutation;\n}\n\nasync function postUpdateTicketTypes(eventId: number | string, updateTicketTypesData: UpdateTicketTypesData[])\n{\n\tconst res = await fetchPost(\"/api/ticket_types/\" + eventId, updateTicketTypesData);\n\tconst data = await res.json();\n\tif (!res.ok) throw new ApiError((data as ResponseMsg).msg);\n\treturn data as TicketType[];\n}\n\nexport interface UpdateTicketTypesData\n{\n\tname: string,\n\tid?: number,\n\taction: \"add\" | \"update\" | \"delete\",\n}\n","import { useEffect, useRef } from \"react\";\nimport { Form, FormField } from \"../Form\";\nimport Popup, { PopupProps } from \"../Popup\";\nimport { useMutationNewTicket } from \"../../api/tickets\";\nimport Spinner from \"../Spinner\";\nimport { useTicketTypes } from \"../../api/ticketTypes\";\nimport { Ticket } from \"../../api/dataTypes\";\nimport displayError from \"../../utils/displayError\";\n\nexport default function CreateTicketForm({ open, eventId, close, setTicet }: CreateTicketFormProps)\n{\n\tconst inp_typeId = useRef<HTMLSelectElement>(null);\n\tconst inp_personName = useRef<HTMLInputElement>(null);\n\tconst inp_personLink = useRef<HTMLInputElement>(null);\n\tconst inp_promocode = useRef<HTMLInputElement>(null);\n\tconst inp_code = useRef<HTMLInputElement>(null);\n\tconst mutation = useMutationNewTicket(ticket =>\n\t{\n\t\tsetTicet(ticket);\n\t\tclose?.();\n\t});\n\tconst ticketTypes = useTicketTypes(eventId);\n\n\tuseEffect(() =>\n\t{\n\t\tif (!open && inp_personName.current && inp_personLink.current && inp_promocode.current)\n\t\t{\n\t\t\tinp_personName.current.value = \"\";\n\t\t\tinp_personLink.current.value = \"\";\n\t\t\tinp_promocode.current.value = \"\";\n\t\t\t// inp_code.current.value = \"\";\n\t\t}\n\t}, [open, inp_personName, inp_personLink, inp_promocode]);\n\n\treturn (\n\t\t<Popup open={open} close={close} title=\"Добавление билета\">\n\t\t\t{displayError(mutation)}\n\t\t\t{ticketTypes.isLoading && <Spinner />}\n\t\t\t<Form onSubmit={() =>\n\t\t\t{\n\t\t\t\tconst typeId = inp_typeId.current?.value;\n\t\t\t\tconst personName = inp_personName.current?.value;\n\t\t\t\tconst personLink = inp_personLink.current?.value || \"\";\n\t\t\t\tconst promocode = inp_promocode.current?.value || \"\";\n\t\t\t\tconst code = inp_code.current?.value || \"\";\n\t\t\t\tif (typeId && personName)\n\t\t\t\t\tmutation.mutate({\n\t\t\t\t\t\teventId: parseInt(`${eventId}`, 10),\n\t\t\t\t\t\ttypeId: parseInt(typeId, 10),\n\t\t\t\t\t\tpersonName,\n\t\t\t\t\t\tpersonLink,\n\t\t\t\t\t\tpromocode,\n\t\t\t\t\t\tcode,\n\t\t\t\t\t});\n\t\t\t}}>\n\t\t\t\t<FormField label=\"Тип билета\">\n\t\t\t\t\t<select ref={inp_typeId} disabled={ticketTypes.data?.length == 0} required>\n\t\t\t\t\t\t{ticketTypes.data?.map(v => <option key={v.id} value={v.id}>{v.name}</option>)}\n\t\t\t\t\t</select>\n\t\t\t\t\t{ticketTypes.data?.length == 0 && <h4>Добавьте типы билетов</h4>}\n\t\t\t\t</FormField>\n\t\t\t\t<FormField label=\"Посетитель\">\n\t\t\t\t\t<input ref={inp_personName} type=\"text\" required />\n\t\t\t\t</FormField>\n\t\t\t\t<FormField label=\"Ссылка на посетителя\">\n\t\t\t\t\t<input ref={inp_personLink} type=\"text\" />\n\t\t\t\t</FormField>\n\t\t\t\t<FormField label=\"Промокод\">\n\t\t\t\t\t<input ref={inp_promocode} type=\"text\" />\n\t\t\t\t</FormField>\n\t\t\t\t{/* <FormField label=\"code\">\n\t\t\t\t\t<input ref={inp_code} type=\"text\" />\n\t\t\t\t</FormField> */}\n\t\t\t\t<button type=\"submit\" disabled={!ticketTypes.data || ticketTypes.data.length == 0}>Создать</button>\n\t\t\t</Form>\n\t\t\t{mutation.isLoading && <Spinner />}\n\t\t</Popup>\n\t);\n}\n\ninterface CreateTicketFormProps extends PopupProps\n{\n\teventId: number | string,\n\tsetTicet: (ticket: Ticket) => void,\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"styles_root__Lo44K\",\"visible\":\"styles_visible__icoL+\",\"center\":\"styles_center__w1Z-q\"};","import { useEffect, useRef, useState } from \"react\";\nimport { EventData, Ticket } from \"../../api/dataTypes\";\nimport classNames from \"../../utils/classNames\";\nimport styles from \"./styles.module.css\"\nimport QRCode from \"qrcode\"\nimport { dateToString } from \"../../utils/dates\";\nimport html2canvas from \"html2canvas\";\nimport Popup from \"../Popup\";\n\nexport default function ViewTicket({ event, ticket, setTicket }: ViewTicketProps)\n{\n\tconst [res, setRes] = useState<HTMLCanvasElement | null>(null);\n\tconst [qrcode, setQrcode] = useState(\"\");\n\tconst ticketRef = useRef<HTMLDivElement>(null);\n\tuseEffect(() =>\n\t{\n\t\tif (!ticket) return;\n\t\tsetRes(null);\n\t\tsetQrcode(\"\")\n\t\tQRCode.toDataURL(ticket.code, { errorCorrectionLevel: \"H\", scale: 8 }, (e, url) => setQrcode(url));\n\t}, [ticket]);\n\n\tuseEffect(() =>\n\t{\n\t\tif (!qrcode || !ticketRef.current) return;\n\t\tconst timeout = setTimeout(() =>\n\t\t{\n\t\t\tif (!qrcode || !ticketRef.current) return;\n\t\t\thtml2canvas(ticketRef.current).then(canvas => setRes(canvas));\n\t\t}, 10)\n\t\treturn () => clearTimeout(timeout);\n\t}, [qrcode, ticketRef])\n\n\treturn (\n\t\t<Popup open={!!ticket} close={() => setTicket(null)} title=\"Просмотр билета\">\n\t\t\t<div ref={ticketRef} className={classNames(styles.root, !res && styles.visible)}>\n\t\t\t\t<h1>Билет</h1>\n\t\t\t\t<div className={styles.center} style={{ marginTop: \"1rem\" }}>\n\t\t\t\t\t<img src={qrcode} alt={ticket?.code} />\n\t\t\t\t</div>\n\t\t\t\t<div className={styles.center} style={{ marginBottom: \"1rem\" }}>{ticket?.code}</div>\n\t\t\t\t<div>\n\t\t\t\t\t<div>Мероприятие: {event?.name}</div>\n\t\t\t\t\t<div>Дата: {dateToString(event?.date)}</div>\n\t\t\t\t\t<div>Тип билета: {ticket?.type}</div>\n\t\t\t\t\t<div>Посетитель: {ticket?.personName}</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t{res && <div ref={ref =>\n\t\t\t{\n\t\t\t\tif (!ref) return;\n\t\t\t\tref.innerHTML = \"\";\n\t\t\t\tref.appendChild(res);\n\t\t\t}}></div>}\n\t\t\t{res && <div className={styles.center}>Это картинка, можно копировать</div>}\n\t\t</Popup>\n\t);\n}\n\ninterface ViewTicketProps\n{\n\tevent: EventData | undefined,\n\tticket: Ticket | null,\n\tsetTicket: (ticket: Ticket | null) => void,\n}","import { useEffect, useState } from \"react\";\nimport { Form, FormField } from \"../Form\";\nimport Popup, { PopupProps } from \"../Popup\";\nimport Spinner from \"../Spinner\";\nimport { UpdateTicketTypesData, useMutationUpdateTicketTypes, useTicketTypes } from \"../../api/ticketTypes\";\nimport displayError from \"../../utils/displayError\";\n\nexport default function EditTicketTypesForm({ eventId, open, close }: EditTicketTypesFormProps)\n{\n\tconst [, setUpdate] = useState(0);\n\tconst [changes, setChanges] = useState<Map<number, UpdateTicketTypesData>>(new Map());\n\tconst [newTypes, setNewTypes] = useState<UpdateTicketTypesData[]>([]);\n\tconst ticketTypes = useTicketTypes(eventId);\n\tconst mutation = useMutationUpdateTicketTypes(eventId, close);\n\n\tuseEffect(() =>\n\t{\n\t\tsetChanges(new Map())\n\t\tsetNewTypes([]);\n\t\tsetUpdate(0);\n\t}, [open]);\n\n\treturn (\n\t\t<Popup open={open} close={close} title=\"Изменение видов билетов\">\n\t\t\t{displayError(mutation)}\n\t\t\t{ticketTypes.isLoading && <Spinner />}\n\t\t\t{mutation.isLoading && <Spinner />}\n\t\t\t<Form onSubmit={() =>\n\t\t\t{\n\t\t\t\tif (changes.size > 0 || newTypes.length > 0)\n\t\t\t\t\tmutation.mutate([...newTypes.filter(v => v.action == \"add\"), ...Array.from(changes.values())]);\n\t\t\t}}>\n\t\t\t\t{ticketTypes.data?.filter(v => changes.get(v.id)?.action != \"delete\")?.map(v =>\n\t\t\t\t\t<FormField key={v.id}>\n\t\t\t\t\t\t<input type=\"text\" required value={changes.get(v.id)?.name || v.name} onChange={e =>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tchanges.set(v.id, { id: v.id, name: e.target.value, action: \"update\" });\n\t\t\t\t\t\t\tsetUpdate(v => v + 1);\n\t\t\t\t\t\t}} />\n\t\t\t\t\t\t<button type=\"button\" onClick={() =>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tchanges.set(v.id, { id: v.id, name: \"\", action: \"delete\" });\n\t\t\t\t\t\t\tsetUpdate(v => v + 1);\n\t\t\t\t\t\t}}>Удалить</button>\n\t\t\t\t\t</FormField>\n\t\t\t\t)}\n\t\t\t\t{newTypes.filter(v => v.action == \"add\").map((v, i) =>\n\t\t\t\t\t<FormField key={\"new\" + i}>\n\t\t\t\t\t\t<input type=\"text\" required onChange={e =>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tnewTypes[i].name = e.target.value;\n\t\t\t\t\t\t\tsetUpdate(v => v + 1);\n\t\t\t\t\t\t}} />\n\t\t\t\t\t\t<button type=\"button\" onClick={() =>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tnewTypes[i].action = \"delete\";\n\t\t\t\t\t\t\tsetUpdate(v => v + 1);\n\t\t\t\t\t\t}}>Удалить</button>\n\t\t\t\t\t</FormField>\n\t\t\t\t)}\n\t\t\t\t<button onClick={() =>\n\t\t\t\t{\n\t\t\t\t\tnewTypes.push({ name: \"\", action: \"add\" });\n\t\t\t\t\tsetUpdate(v => v + 1);\n\t\t\t\t}}>Добавить</button>\n\t\t\t\t<button type=\"submit\">Подтвердить</button>\n\t\t\t</Form>\n\t\t</Popup>\n\t);\n}\n\ninterface EditTicketTypesFormProps extends PopupProps\n{\n\teventId: number | string,\n}\n","import { useRef } from \"react\";\nimport { Form, FormField } from \"../Form\";\nimport Popup, { PopupProps } from \"../Popup\";\nimport { useEvent, useMutationUpdateEvent } from \"../../api/events\";\nimport Spinner from \"../Spinner\";\nimport displayError from \"../../utils/displayError\";\n\nexport default function EditEventForm({ eventId, open, close }: EditEventFormProps)\n{\n\tconst inp_title = useRef<HTMLInputElement>(null);\n\tconst inp_date = useRef<HTMLInputElement>(null);\n\tconst mutation = useMutationUpdateEvent(eventId, close);\n\tconst event = useEvent(eventId);\n\n\treturn (\n\t\t<Popup open={open} close={close} title=\"Изменение меропрятия\">\n\t\t\t{displayError(mutation)}\n\t\t\t{event.isLoading && <Spinner />}\n\t\t\t{mutation.isLoading && <Spinner />}\n\t\t\t<Form onSubmit={() =>\n\t\t\t{\n\t\t\t\tconst title = inp_title.current?.value;\n\t\t\t\tconst date = inp_date.current?.value;\n\t\t\t\tif (title && date)\n\t\t\t\t\tmutation.mutate({ date: date, name: title });\n\t\t\t}}>\n\t\t\t\t<FormField label=\"Название\">\n\t\t\t\t\t<input ref={inp_title} type=\"text\" required defaultValue={event.data?.name} />\n\t\t\t\t</FormField>\n\t\t\t\t<FormField label=\"Дата\">\n\t\t\t\t\t<input ref={inp_date} type=\"datetime-local\" required defaultValue={event.data?.date.toISOString().slice(0, -5)} />\n\t\t\t\t</FormField>\n\t\t\t\t<button type=\"submit\">Подтвердить</button>\n\t\t\t</Form>\n\t\t</Popup>\n\t);\n}\n\ninterface EditEventFormProps extends PopupProps\n{\n\teventId: number | string,\n}\n","import { Link, useNavigate, useParams } from \"react-router-dom\";\nimport Layout from \"../../components/Layout\";\nimport styles from \"./styles.module.css\"\nimport { useEvent, useMutationDeleteEvent } from \"../../api/events\";\nimport { dateToString } from \"../../utils/dates\";\nimport { useTicketTypes } from \"../../api/ticketTypes\";\nimport { useTitle } from \"../../utils/useTtile\";\nimport Spinner from \"../../components/Spinner\";\nimport CreateTicketForm from \"../../components/create/CreateTicketForm\";\nimport { useEffect, useState } from \"react\";\nimport { useHasPermission } from \"../../api/operations\";\nimport ViewTicket from \"../../components/ViewTicket\";\nimport { Ticket } from \"../../api/dataTypes\";\nimport EditTicketTypesForm from \"../../components/edit/EditTicketTypesForm\";\nimport EditEventForm from \"../../components/edit/EditEventForm\";\nimport ApiError from \"../../api/apiError\";\nimport PopupConfirmDeletion from \"../../components/PopupConfirmDeletion\";\nimport displayError from \"../../utils/displayError\";\n\nexport default function EventPage()\n{\n\tconst [createFormOpen, setCreateFormOpen] = useState(false);\n\tconst [deleteFormOpen, setDeleteFormOpen] = useState(false);\n\tconst [editFormOpen, setEditFormOpen] = useState(false);\n\tconst [editTypesFormOpen, setEditTypesFormOpen] = useState(false);\n\tconst [ticketOpen, setTicketOpen] = useState<Ticket | null>(null);\n\tconst navigate = useNavigate();\n\tconst urlParams = useParams();\n\tconst eventId = urlParams[\"eventId\"]!;\n\tconst event = useEvent(eventId);\n\tconst ticketTypes = useTicketTypes(eventId);\n\tconst hasAddTicketPermission = useHasPermission(\"add_ticket\");\n\tconst hasEditTypesPermission = useHasPermission(\"change_ticket_types\");\n\tconst hasEditEventPermission = useHasPermission(\"change_event\");\n\tconst hasDeleteEventPermission = useHasPermission(\"delete_event\");\n\tuseTitle(event.data?.name || \"Мероприятие\");\n\n\tuseEffect(() =>\n\t{\n\t\tif (event.error instanceof ApiError && event.error.message.includes(\"not found\"))\n\t\t\tnavigate(\"/not_found\", { replace: true });\n\t}, [event.error, navigate]);\n\n\tconst backLink = \"/events\";\n\n\treturn (\n\t\t<>\n\t\t\t{event.isLoading && <Layout backLink={backLink}><Spinner /></Layout>}\n\t\t\t{displayError(event, error => <Layout backLink={backLink} centered>{error}</Layout>)}\n\t\t\t{event.data &&\n\t\t\t\t<Layout backLink={backLink} centeredPage gap=\"1rem\">\n\t\t\t\t\t<h1>Мероприятие: {event.data.name}</h1>\n\t\t\t\t\t<div className={styles.card}>\n\t\t\t\t\t\t<div className={styles.card__header}>\n\t\t\t\t\t\t\t<h2>Мероприятие</h2>\n\t\t\t\t\t\t\t{hasEditEventPermission && <button className=\"button\" onClick={() => setEditFormOpen(true)}>Редактировать</button>}\n\t\t\t\t\t\t\t<EditEventForm eventId={eventId} open={editFormOpen} close={() => setEditFormOpen(false)} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className={styles.card__body}>\n\t\t\t\t\t\t\t<div>Название: {event.data.name}</div>\n\t\t\t\t\t\t\t<div>Дата проведения: {dateToString(event.data.date)}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className={styles.card}>\n\t\t\t\t\t\t<div className={styles.card__header}>\n\t\t\t\t\t\t\t<h2>Виды билетов</h2>\n\t\t\t\t\t\t\t{hasEditTypesPermission && <button className=\"button\" onClick={() => setEditTypesFormOpen(true)}>Редактировать</button>}\n\t\t\t\t\t\t\t<EditTicketTypesForm eventId={eventId} open={editTypesFormOpen} close={() => setEditTypesFormOpen(false)} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className={styles.card__body}>\n\t\t\t\t\t\t\t{ticketTypes.isLoading && <div>Загрузка</div>}\n\t\t\t\t\t\t\t{displayError(ticketTypes, error => <div>{error}</div>)}\n\t\t\t\t\t\t\t{ticketTypes.data?.map(v => <div key={v.id}>{v.name}</div>)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<Link to={`/scanner/${eventId}`} className=\"button\">Ссылка на сканер</Link>\n\n\t\t\t\t\t{hasAddTicketPermission && <button className=\"button\" onClick={() => setCreateFormOpen(true)}>Добавить билет</button>}\n\t\t\t\t\t<CreateTicketForm eventId={eventId} open={createFormOpen} close={() => setCreateFormOpen(false)} setTicet={setTicketOpen} />\n\t\t\t\t\t<ViewTicket ticket={ticketOpen} event={event.data} setTicket={setTicketOpen} />\n\n\t\t\t\t\t<Link to={`/events/${eventId}/tickets`} className=\"button\">Список билетов</Link>\n\t\t\t\t\t<div className={styles.gap}></div>\n\t\t\t\t\t<div className={styles.right}>\n\t\t\t\t\t\t{hasDeleteEventPermission && <button className=\"button\" onClick={() => setDeleteFormOpen(true)}>Удалить</button>}\n\t\t\t\t\t</div>\n\t\t\t\t\t<PopupConfirmDeletion title=\"Удаление меропрятия\" onSuccess={() => navigate(\"/events\")} mutationFn={useMutationDeleteEvent} itemId={eventId} open={deleteFormOpen} close={() => setDeleteFormOpen(false)}/>\n\t\t\t\t</Layout>\n\t\t\t}\n\t\t</>\n\t);\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"center\":\"styles_center__9dZ9p\",\"right\":\"styles_right__Zz+YX\"};","import { Link, useNavigate, useParams } from \"react-router-dom\";\nimport Layout from \"../../components/Layout\";\nimport styles from \"./styles.module.css\"\nimport { useEvent } from \"../../api/events\";\nimport useTickets from \"../../api/tickets\";\nimport ViewTicket from \"../../components/ViewTicket\";\nimport { useEffect, useState } from \"react\";\nimport { Ticket } from \"../../api/dataTypes\";\nimport { useTitle } from \"../../utils/useTtile\";\nimport Spinner from \"../../components/Spinner\";\nimport CreateTicketForm from \"../../components/create/CreateTicketForm\";\nimport { useHasPermission } from \"../../api/operations\";\nimport ApiError from \"../../api/apiError\";\nimport displayError from \"../../utils/displayError\";\n\nexport default function TicketsPage()\n{\n\tconst [createFormOpen, setCreateFormOpen] = useState(false);\n\tconst [ticketOpen, setTicketOpen] = useState<Ticket | null>(null);\n\tconst navigate = useNavigate();\n\tconst urlParams = useParams();\n\tconst eventId = urlParams[\"eventId\"]!;\n\tconst event = useEvent(eventId);\n\tconst tickets = useTickets(eventId);\n\tconst hasAddPermission = useHasPermission(\"add_ticket\");\n\tuseTitle([event.data?.name, \"Билеты\"]);\n\n\tuseEffect(() =>\n\t{\n\t\tif (event.error instanceof ApiError && event.error.message.includes(\"not found\"))\n\t\t\tnavigate(\"/not_found\", { replace: true });\n\t}, [event.error, navigate]);\n\n\tconst backLink = `/events/${eventId}`;\n\n\treturn (\n\t\t<>\n\t\t\t{(event.isLoading || tickets.isLoading) && <Layout backLink={backLink}><Spinner /></Layout>}\n\t\t\t{displayError(event)}\n\t\t\t{displayError(tickets)}\n\t\t\t{event.data && tickets.isSuccess &&\n\t\t\t\t<Layout backLink={backLink} centeredPage gap=\"1rem\">\n\t\t\t\t\t<h1>Билеты: {event.data.name}</h1>\n\t\t\t\t\t<div className={styles.right}>\n\t\t\t\t\t\t<Link target=\"_blank\" to={`/events/${eventId}/print_tickets`} className=\"button\">Распечатать</Link>\n\t\t\t\t\t\t{hasAddPermission && <button className=\"button\" onClick={() => setCreateFormOpen(true)}>Добавить</button>}\n\t\t\t\t\t\t<CreateTicketForm eventId={eventId} open={createFormOpen} close={() => setCreateFormOpen(false)} setTicet={setTicketOpen} />\n\t\t\t\t\t</div>\n\t\t\t\t\t<table>\n\t\t\t\t\t\t<thead>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<th style={{ width: \"11em\" }}>Код</th>\n\t\t\t\t\t\t\t\t<th>Посетитель</th>\n\t\t\t\t\t\t\t\t<th>Тип билета</th>\n\t\t\t\t\t\t\t\t<th>Промокод</th>\n\t\t\t\t\t\t\t\t<th><div>Исполь</div><div>зован</div></th>\n\t\t\t\t\t\t\t\t<th>Билет</th>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t</thead>\n\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t{tickets.data?.map(v => <tr key={v.id}>\n\t\t\t\t\t\t\t\t<td>{v.code}</td>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t{v.personLink ? <a href={v.personLink}>{v.personName}</a> : v.personName}\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t<td style={{ color: v.type.startsWith(\"<Удалён>\") ? \"red\" : \"\" }}>{v.type}</td>\n\t\t\t\t\t\t\t\t<td>{v.promocode}</td>\n\t\t\t\t\t\t\t\t<td className={styles.center}>{v.scanned ? \"✓\" : \"✖\"}</td>\n\t\t\t\t\t\t\t\t<td className={styles.center}>\n\t\t\t\t\t\t\t\t\t<button onClick={() => setTicketOpen(v)}>Билет</button>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>)}\n\t\t\t\t\t\t</tbody>\n\t\t\t\t\t</table>\n\t\t\t\t\t<ViewTicket ticket={ticketOpen} event={event.data} setTicket={setTicketOpen} />\n\t\t\t\t</Layout>\n\t\t\t}\n\t\t</>\n\t);\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"styles_root__QCWgG\",\"table\":\"styles_table__Klrj7\",\"center\":\"styles_center__pcMYz\",\"mark\":\"styles_mark__4aU1o\"};","import { useParams } from \"react-router-dom\";\nimport styles from \"./styles.module.css\"\nimport { useEvent } from \"../../api/events\";\nimport useTickets from \"../../api/tickets\";\nimport { useTitle } from \"../../utils/useTtile\";\nimport Spinner from \"../../components/Spinner\";\nimport { useEffect, useMemo } from \"react\";\nimport getTicketPrefix from \"../../utils/getTicketPrefix\";\nimport displayError from \"../../utils/displayError\";\n\nexport default function PrintTicketsPage()\n{\n\tconst urlParams = useParams();\n\tconst eventId = urlParams[\"eventId\"]!;\n\tconst event = useEvent(eventId);\n\tconst tickets = useTickets(eventId);\n\tuseTitle([event.data?.name, \"Билеты\"]);\n\n\tconst [isCorrectCodes, prefix] = useMemo(() =>\n\t{\n\t\tif (!tickets.data || !event.data) return [false, \"\"];\n\t\tconst codePref = getTicketPrefix(event.data.id, event.data.date);\n\t\treturn [tickets.data.every(v => v.code.startsWith(codePref)), codePref];\n\t}, [tickets.data, event.data]);\n\n\tuseEffect(() =>\n\t{\n\t\tif (event.isSuccess && tickets.isSuccess)\n\t\t{\n\t\t\tconst timeout = setTimeout(() => window.print(), 1000);\n\t\t\treturn () => clearTimeout(timeout);\n\t\t}\n\t}, [event.isSuccess, tickets.isSuccess]);\n\n\treturn (\n\t\t<>\n\t\t\t{(event.isLoading || tickets.isLoading) && <Spinner />}\n\t\t\t{displayError(event)}\n\t\t\t{displayError(tickets)}\n\t\t\t{event.isSuccess && tickets.isSuccess &&\n\t\t\t\t<div className={styles.root}>\n\t\t\t\t\t<table className={styles.table}>\n\t\t\t\t\t\t<thead>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<th colSpan={5}>\n\t\t\t\t\t\t\t\t\t<span>{event.data.name}</span>\n\t\t\t\t\t\t\t\t\t{isCorrectCodes && <span style={{ marginLeft: \"1rem\" }}>|</span>}\n\t\t\t\t\t\t\t\t\t{isCorrectCodes && <span style={{ marginLeft: \"1rem\" }}>Все коды дожны начинаться с {prefix}</span>}\n\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<th>Код</th>\n\t\t\t\t\t\t\t\t<th>Посетитель</th>\n\t\t\t\t\t\t\t\t<th>Тип билета</th>\n\t\t\t\t\t\t\t\t<th>Промокод</th>\n\t\t\t\t\t\t\t\t<th><div>Исполь</div><div>зован</div></th>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t</thead>\n\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t{tickets.data\n\t\t\t\t\t\t\t\t.map(v => isCorrectCodes\n\t\t\t\t\t\t\t\t\t? { ...v, code: v.code.slice(prefix.length), sortV: v.code.slice(v.code.lastIndexOf(\"-\")) }\n\t\t\t\t\t\t\t\t\t: { ...v, sortV: v.code })\n\t\t\t\t\t\t\t\t.sort((a, b) => a.sortV > b.sortV ? 1 : -1)\n\t\t\t\t\t\t\t\t.map(v => <tr key={v.id}>\n\t\t\t\t\t\t\t\t\t<td>{v.code}</td>\n\t\t\t\t\t\t\t\t\t<td>{v.personName}</td>\n\t\t\t\t\t\t\t\t\t<td>{v.type.startsWith(\"<Удалён>\") ? v.type.slice(8) : v.type}</td>\n\t\t\t\t\t\t\t\t\t<td>{v.promocode}</td>\n\t\t\t\t\t\t\t\t\t<td className={styles.center}><span className={styles.mark}>{v.scanned && \"✓\"}</span></td>\n\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</tbody>\n\t\t\t\t\t</table>\n\t\t\t\t</div>\n\t\t\t}\n\t\t</>\n\t);\n}\n","import { useRef, useState } from \"react\";\nimport Layout from \"../../components/Layout\"\nimport Popup from \"../../components/Popup\";\n\nexport default function DebugPage()\n{\n\tconst [logErrors, setLogErrors] = useState(\"\");\n\tconst [log, setLog] = useState(\"\");\n\tconst refLogErrors = useRef<HTMLPreElement>(null);\n\tconst refLog = useRef<HTMLPreElement>(null);\n\n\treturn (\n\t\t<Layout centered gap=\"1rem\">\n\t\t\t<button className=\"button\" onClick={async () =>\n\t\t\t{\n\t\t\t\tsetLogErrors(\"Loading\");\n\t\t\t\ttry\n\t\t\t\t{\n\t\t\t\t\tconst res = await fetch(\"/api/debug/log_errors\");\n\t\t\t\t\tconst data = await res.text();\n\t\t\t\t\tsetLogErrors(data);\n\t\t\t\t\tsetTimeout(() => refLogErrors.current?.parentElement?.scrollTo(0, refLogErrors.current?.parentElement?.scrollHeight), 150);\n\t\t\t\t}\n\t\t\t\tcatch (x) { setLogErrors(JSON.stringify(x)); }\n\t\t\t}}>log errors</button>\n\t\t\t<button className=\"button\" onClick={async () =>\n\t\t\t{\n\t\t\t\tsetLog(\"Loading\");\n\t\t\t\ttry\n\t\t\t\t{\n\t\t\t\t\tconst res = await fetch(\"/api/debug/log\");\n\t\t\t\t\tconst data = await res.text();\n\t\t\t\t\tsetLog(data);\n\t\t\t\t\tsetTimeout(() => refLog.current?.parentElement?.scrollTo(0, refLog.current?.parentElement?.scrollHeight), 150);\n\t\t\t\t}\n\t\t\t\tcatch (x) { setLog(JSON.stringify(x)); }\n\t\t\t}}>log</button>\n\t\t\t<Popup title=\"logErrors\" open={logErrors != \"\"} close={() => setLogErrors(\"\")}>\n\t\t\t\t<pre ref={refLogErrors}>{logErrors}</pre>\n\t\t\t</Popup>\n\t\t\t<Popup title=\"log\" open={log != \"\"} close={() => setLog(\"\")}>\n\t\t\t\t<pre ref={refLog}>{log}</pre>\n\t\t\t</Popup>\n\t\t</Layout>\n\t);\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"user\":\"styles_user__WUZvf\",\"title\":\"styles_title__Gd1jL\",\"toggle\":\"styles_toggle__qlIwC\",\"toggleInp\":\"styles_toggleInp__fGE-7\",\"userInfo\":\"styles_userInfo__vgBlw\",\"operations\":\"styles_operations__MGBbv\"};","import { useUsers } from \"../../api/user\";\nimport Layout from \"../../components/Layout\";\nimport { useTitle } from \"../../utils/useTtile\";\nimport styles from \"./styles.module.css\"\n\nexport default function UsersPage()\n{\n\tuseTitle(\"Пользователи\");\n\tconst users = useUsers()\n\n\treturn (\n\t\t<Layout centeredPage gap={8}>\n\t\t\t{users.data?.map(v => <div className={styles.user} key={v.id}>\n\t\t\t\t<input type=\"checkbox\" className={styles.toggleInp} id={`user${v.id}`} />\n\t\t\t\t<label className={styles.title} htmlFor={`user${v.id}`}>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<div>{v.login}</div>\n\t\t\t\t\t\t<div>|</div>\n\t\t\t\t\t\t<div>{v.name}</div>\n\t\t\t\t\t\t{v.bossId != null && <>\n\t\t\t\t\t\t\t<div>|</div>\n\t\t\t\t\t\t\t<div style={{ color: \"#990099\" }}>{users.data.find(u => u.id == v.bossId)?.login}</div>\n\t\t\t\t\t\t</>}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<span>{v.role}</span>\n\t\t\t\t\t\t<div className={styles.toggle}></div>\n\t\t\t\t\t</div>\n\t\t\t\t</label>\n\t\t\t\t<div className={styles.userInfo}>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<h4>Operations</h4>\n\t\t\t\t\t\t<div className={styles.operations}>\n\t\t\t\t\t\t\t{v.operations.map((o, i) => <div key={i}>{colorizeOperation(o)}</div>)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<h4>Access</h4>\n\t\t\t\t\t\t<div className={styles.operations}>\n\t\t\t\t\t\t\t{v.access.map((o, i) => <div key={i}>{o}</div>)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>)}\n\t\t</Layout>\n\t);\n}\n\nfunction colorizeOperation(operation: string)\n{\n\tconst colors = {\n\t\tpage: \"#990099\",\n\t\tadd: \"#008000\",\n\t\tchange: \"#006fb3\",\n\t\tdelete: \"#b30000\",\n\t}\n\tfor (const prefix in colors)\n\t{\n\t\tif (operation.startsWith(prefix))\n\t\t\treturn <>\n\t\t\t\t<span style={{ color: colors[prefix as keyof typeof colors] }}>{prefix}</span>\n\t\t\t\t<span>{operation.slice(prefix.length)}</span>\n\t\t\t</>\n\t}\n\treturn <span>{operation}</span>\n}","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"styles_root__Rm-tG\",\"input\":\"styles_input__2tNlg\",\"password\":\"styles_password__Om-1z\"};","import { useEffect, useRef, useState } from \"react\";\nimport { Form, FormField } from \"../Form\";\nimport Popup, { PopupProps } from \"../Popup\";\nimport Spinner from \"../Spinner\";\nimport displayError from \"../../utils/displayError\";\nimport { useMutationChangePassword } from \"../../api/user\";\n\nexport default function ChangePasswordForm({ open, close }: PopupProps)\n{\n\tconst [error, setError] = useState(\"\");\n\tconst passwordRef = useRef<HTMLInputElement>(null);\n\tconst password2Ref = useRef<HTMLInputElement>(null);\n\tconst mutation = useMutationChangePassword(close);\n\n\tuseEffect(() =>\n\t{\n\t\tif (!open && passwordRef.current && password2Ref.current)\n\t\t{\n\t\t\tmutation.reset();\n\t\t\tsetError(\"\");\n\t\t\tpasswordRef.current.value = \"\";\n\t\t\tpassword2Ref.current.value = \"\";\n\t\t}\n\t}, [open, passwordRef, password2Ref]);\n\n\treturn (\n\t\t<Popup open={open} close={close} title=\"Изменение пароля\">\n\t\t\t{displayError(mutation)}\n\t\t\t{mutation.isLoading && <Spinner />}\n\t\t\t<Form onSubmit={() =>\n\t\t\t{\n\t\t\t\tconst password = passwordRef.current?.value;\n\t\t\t\tconst password2 = password2Ref.current?.value;\n\n\t\t\t\tif (!password || password.length <= 4) return setError(\"Короткий пароль\");\n\t\t\t\tif (password != password2) return setError(\"Пароли не совпадают\");\n\n\t\t\t\tmutation.mutate({ password });\n\t\t\t}}>\n\t\t\t\t<FormField label=\"Новый пароль\">\n\t\t\t\t\t<input ref={passwordRef} type=\"password\" required />\n\t\t\t\t</FormField>\n\t\t\t\t<FormField label=\"Ещё раз\">\n\t\t\t\t\t<input ref={password2Ref} type=\"password\" required />\n\t\t\t\t</FormField>\n\t\t\t\t{error != \"\" && <h4 style={{ color: \"tomato\" }}>{error}</h4>}\n\t\t\t\t<button type=\"submit\">Подтвердить</button>\n\t\t\t</Form>\n\t\t</Popup>\n\t);\n}\n","import { useRef, useState } from \"react\";\nimport useUser, { useMutationChangeName } from \"../../api/user\";\nimport Layout from \"../../components/Layout\";\nimport styles from \"./styles.module.css\"\nimport ChangePasswordForm from \"../../components/edit/ChangePasswordForm\";\nimport displayError from \"../../utils/displayError\";\nimport Spinner from \"../../components/Spinner\";\n\nexport default function ProfilePage()\n{\n\tconst user = useUser();\n\tconst nameRef = useRef<HTMLInputElement>(null);\n\tconst [userNameEditing, setUserNameEditing] = useState(false);\n\tconst [passwordEditing, setPasswordEditing] = useState(false);\n\tconst nameMutation = useMutationChangeName();\n\n\treturn (\n\t\t<Layout centered gap=\"1rem\">\n\t\t\t<div className={styles.root}>\n\t\t\t\t{displayError(nameMutation)}\n\t\t\t\t{nameMutation.isLoading && <Spinner />}\n\t\t\t\t<div>\n\t\t\t\t\t<h3>Имя</h3>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<input type=\"text\" ref={nameRef} defaultValue={user.data?.name} disabled={!userNameEditing} className={styles.input} />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t{!userNameEditing && <button onClick={() => setUserNameEditing(true)} className=\"button button_small\">Изменить</button>}\n\t\t\t\t\t\t{userNameEditing && <button onClick={() =>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tsetUserNameEditing(false);\n\t\t\t\t\t\t\tif (nameRef.current)\n\t\t\t\t\t\t\t\tnameRef.current.value = user.data?.name || \"\";\n\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tclassName=\"button button_small\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tОтмена\n\t\t\t\t\t\t</button>}\n\t\t\t\t\t\t{userNameEditing && <button\n\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tsetUserNameEditing(false);\n\t\t\t\t\t\t\t\tif (nameRef.current)\n\t\t\t\t\t\t\t\t\tnameMutation.mutate({ name: nameRef.current.value });\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tclassName=\"button button_small\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tСохранить\n\t\t\t\t\t\t</button>}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<h3>Логин</h3>\n\t\t\t\t\t{user.data?.login}\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<h3>Роль</h3>\n\t\t\t\t\t{user.data?.role}\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<button className=\"button\" onClick={() => setPasswordEditing(true)}>Сменить пароль</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<ChangePasswordForm open={passwordEditing} close={() => setPasswordEditing(false)} />\n\t\t</Layout>\n\t);\n}\n","import { Navigate, Route, Routes } from \"react-router-dom\";\nimport useUser from \"./api/user\";\nimport hasPermission, { Operation } from \"./api/operations\";\nimport Preloader from \"./components/Preloader\";\nimport ScrollToTop from \"./utils/scrollToTop\";\n\nimport NotFoundPage from \"./pages/NotFoundPage\";\nimport NoPermissionPage from \"./pages/NoPermissionPage\";\nimport AuthPage from \"./pages/AuthPage\";\nimport IndexPage from \"./pages/IndexPage\";\nimport ScannerPage from \"./pages/ScannerPage\";\nimport EventsPage from \"./pages/EventsPage\";\nimport StaffPage from \"./pages/StaffPage\";\nimport EventPage from \"./pages/EventPage\";\nimport TicketsPage from \"./pages/TicketsPage\";\nimport PrintTicketsPage from \"./pages/PrintTicketsPage\";\nimport DebugPage from \"./pages/DebugPage\";\nimport UsersPage from \"./pages/UsersPage\";\nimport displayError from \"./utils/displayError\";\nimport ProfilePage from \"./pages/ProfilePage\";\n\n\nexport default function App()\n{\n\tconst user = useUser();\n\n\tfunction ProtectedRoute(permission: Operation | null, path: string, element: JSX.Element)\n\t{\n\t\treturn <Route path={path} element={\n\t\t\t!user.data?.auth ? <Navigate to=\"/auth\" /> : (\n\t\t\t\tpermission == null || hasPermission(user, permission) ? element : <NoPermissionPage />\n\t\t\t)\n\t\t} />\n\t}\n\n\treturn <div className=\"root\">\n\t\t<ScrollToTop />\n\n\t\t{user.isLoading && <Preloader />}\n\t\t{displayError(user)}\n\t\t{user.isSuccess &&\n\t\t\t<Routes>\n\t\t\t\t<Route path=\"/auth\" element={!user.data?.auth ? <AuthPage /> : <Navigate to=\"/\" />} />\n\t\t\t\t<Route path=\"/scanner/:eventId\" element={<ScannerPage />} />\n\t\t\t\t{ProtectedRoute(null, \"/\", <IndexPage />)}\n\t\t\t\t{ProtectedRoute(null, \"/profile\", <ProfilePage />)}\n\t\t\t\t{ProtectedRoute(\"page_events\", \"/events\", <EventsPage />)}\n\t\t\t\t{ProtectedRoute(\"page_events\", \"/events/:eventId\", <EventPage />)}\n\t\t\t\t{ProtectedRoute(\"page_events\", \"/events/:eventId/tickets\", <TicketsPage />)}\n\t\t\t\t{ProtectedRoute(\"page_events\", \"/events/:eventId/print_tickets\", <PrintTicketsPage />)}\n\t\t\t\t{ProtectedRoute(\"page_staff\", \"/staff\", <StaffPage />)}\n\t\t\t\t{ProtectedRoute(\"page_debug\", \"/debug\", <DebugPage />)}\n\t\t\t\t{ProtectedRoute(\"page_users\", \"/users\", <UsersPage />)}\n\t\t\t\t{ProtectedRoute(null, \"*\", <NotFoundPage />)}\n\t\t\t</Routes>\n\t\t}\n\t</div>\n}\n"],"names":["ApiError","_Error","_inherits","_super","_createSuper","_classCallCheck","apply","arguments","_createClass","_wrapNativeSuper","Error","fetchPost","input","body","fetch","method","headers","undefined","JSON","stringify","useUser","useQuery","getUser","_getUser","_asyncToGenerator","_regeneratorRuntime","mark","_callee","res","data","user","wrap","_context","prev","next","sent","json","status","abrupt","auth","id","login","role","name","operations","ok","msg","stop","getUsers","_getUsers","_callee2","_context2","postChangePassword","_x","_postChangePassword","_callee3","_context3","t0","t1","postChangeName","_x2","_postChangeName","_callee4","_context4","hasPermission","operation","_user$data","_user$data2","includes","useHasPermission","_user$data3","_user$data4","ScrollToTop","pathname","useLocation","useEffect","window","scrollTo","HeaderBack","navigate","useNavigate","_jsx","className","styles","root","children","onClick","classNames","_len","length","names","Array","_key","filter","v","join","postAuth","_postAuth","authData","postLogout","_postLogout","Spinner","_ref","color","zIndex","_jsxs","spinner","style","Header","backLink","_useState","useState","_useState2","_slicedToArray","menuOpen","setMenuOpen","location","mutation","queryClient","useQueryClient","useMutation","mutationFn","onSuccess","invalidateQueries","useMutationLogout","block","Link","to","home","src","logo","alt","menu","menuVisible","mutate","disabled","Layout","_ref$centered","centered","_ref$centeredPage","centeredPage","_ref$height","height100","_ref$gap","gap","header","maxHeight","body_centered","body_centeredPage","NotFoundPage","NoPermissionPage","useTitle","title","prefis","prevTitle","document","t","concat","_toConsumableArray","Form","onSubmit","form","e","preventDefault","FormField","_ref2","label","field","AuthPage","error","setError","inp_login","useRef","inp_password","onError","setQueryData","message","useMutationAuth","isLoading","_inp_login$current","_inp_password$current","current","value","password","ref","type","required","IndexPage","Scanner","_ref$active","active","onScan","onCameraError","qrScanner","setQrScanner","videoRef","scanner","QrScanner","result","highlightScanRegion","maxScansPerSecond","old","destroy","start","catch","pause","padNum","num","len","padStart","countWord","one","two","five","numS","at","dateToString","date","getDate","getMonth","getFullYear","timeToString","seconds","dateStr","getHours","getMinutes","getSeconds","relativeDate","nowBreak","now","Date","delta","getTime","d","Math","floor","abs","dY","dM","dD","dh","dm","ds","_getChange","sv","getChange","_getChange2","vChange","vNames","relative","ScannerHeader","event","onInputBtn","top","bottom","fetchDelete","getEvents","_getEvents","events","map","parseEventResponse","useEvent","eventId","_getEvent","getEvent","useScannerEvent","_getScannerEvent","getScannerEvent","retry","NaN","responseEvent","postNewEvent","_x3","_postNewEvent","eventData","useMutationUpdateEvent","_x4","_x5","_postUpdateEvent","postUpdateEvent","_queryClient$getQuery2","getQueryState","_callee5","_context5","useMutationDeleteEvent","_x6","_postDeleteEvent","postDeleteEvent","_queryClient$getQuery3","removeQueries","exact","_callee6","_context6","Popup","_ref$open","open","close","_ref$title","popup","useTickets","_getTickets","getTickets","parseTicketResponse","responseTicket","ticket","scannedDate","createdDate","postNewTicket","_postNewTicket","postCheckTicket","_postCheckTicket","ticketData","apiResult","useSound","url","audio","Audio","preload","currentTime","play","getTicketPrefix","toString","ScannerPage","urlParams","useParams","qrScanResult","setQrScanResult","_useState3","_useState4","ticketCode","setTicketCode","_useState5","_useState6","_useState7","_useState8","checkTicketResult","setCheckTicketResult","_useState9","_useState10","startHintOpen","setStartHintOpen","_useState11","_useState12","inputOpen","setInputOpen","_useState13","_useState14","alreadyScanned","setAlreadyScanned","_useState15","_useState16","cameraError","setCameraError","inputRef","_useSound","beep","playBeep","_useSound3","beepError","playBeepError","handleScan","useCallback","handleOpenInput","setTimeout","focus","handleCloseInput","reset","useMutationCheckTicket","success","code","isSuccess","timeout","clearTimeout","_Fragment","isIdle","scanner_scanned","scannerRect","scannerVideo","scanResult","alreadyScanned_visible","big","result_desc","personName","promocode","errorCode","marginTop","_inputRef$current","displayError","requestRes","render","isError","defaultRender","textAlign","CreateEventForm","inp_title","inp_date","_queryClient$getQuery","useMutationNewEvent","_inp_title$current","_inp_date$current","EventsPage","_events$data","_events$data$sort","createFormOpen","setCreateFormOpen","forEach","useEvents","sort","a","b","space_between","getStaff","_getStaff","postNewStaff","_postNewStaff","exist","useMutationDeleteStaff","staffId","_postDeleteStaff","postDeleteStaff","staff","useMutationResetStaffPassword","_postResetStaffPassword","postResetStaffPassword","CreateStaffForm","newStaff","setNewStaff","inp_name","useMutationNewStaff","_inp_name$current","placeholder","onInput","replaceAll","PopupConfirmDeletion","itemId","item","StaffPage","_staff$data","_staff$data2","delitionStaff","setDelitionStaff","resetPasswordStaff","setResetPasswordStaff","toggleInp","htmlFor","toggle","userInfo","useTicketTypes","_getTicketTypes","getTicketTypes","useMutationUpdateTicketTypes","_postUpdateTicketTypes","postUpdateTicketTypes","inp","some","action","updateTicketTypesData","CreateTicketForm","_ticketTypes$data","_ticketTypes$data2","_ticketTypes$data3","setTicet","inp_typeId","inp_personName","inp_personLink","inp_promocode","inp_code","tickets","useMutationNewTicket","ticketTypes","_inp_typeId$current","_inp_personName$curre","_inp_personLink$curre","_inp_promocode$curren","_inp_code$current","typeId","personLink","parseInt","ViewTicket","setTicket","setRes","qrcode","setQrcode","ticketRef","QRCode","errorCorrectionLevel","scale","html2canvas","then","canvas","visible","center","marginBottom","innerHTML","appendChild","EditTicketTypesForm","_ticketTypes$data$fil","setUpdate","Map","changes","setChanges","newTypes","setNewTypes","size","from","values","_changes$get","get","_changes$get2","onChange","set","target","i","push","EditEventForm","_event$data","_event$data2","defaultValue","toISOString","slice","EventPage","deleteFormOpen","setDeleteFormOpen","editFormOpen","setEditFormOpen","editTypesFormOpen","setEditTypesFormOpen","ticketOpen","setTicketOpen","hasAddTicketPermission","hasEditTypesPermission","hasEditEventPermission","hasDeleteEventPermission","replace","card","card__header","card__body","right","TicketsPage","_tickets$data","hasAddPermission","width","href","startsWith","scanned","PrintTicketsPage","_useMemo","useMemo","codePref","every","_useMemo2","isCorrectCodes","prefix","print","table","colSpan","marginLeft","_objectSpread","sortV","lastIndexOf","DebugPage","logErrors","setLogErrors","log","setLog","refLogErrors","refLog","text","_refLogErrors$current","_refLogErrors$current2","_refLogErrors$current3","_refLogErrors$current4","parentElement","scrollHeight","_refLog$current","_refLog$current$paren","_refLog$current2","_refLog$current2$pare","UsersPage","_users$data","users","_users$data$find","bossId","find","u","o","colorizeOperation","access","colors","page","add","change","delete","ChangePasswordForm","passwordRef","password2Ref","_passwordRef$current","_password2Ref$current","password2","ProfilePage","nameRef","userNameEditing","setUserNameEditing","passwordEditing","setPasswordEditing","nameMutation","useMutationChangeName","App","ProtectedRoute","permission","path","element","Route","Navigate","Preloader","Routes"],"sourceRoot":""}