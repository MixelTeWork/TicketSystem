{"version":3,"file":"static/js/422.9b49a967.chunk.js","mappings":"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","sources":["api/apiError.ts","api/user.ts","api/operations.ts","utils/scrollToTop.tsx","webpack://ticket_system/./src/components/HeaderBack/styles.module.css?464d","components/HeaderBack/index.tsx","utils/classNames.ts","webpack://ticket_system/./src/components/Header/styles.module.css?07e3","utils/fetchPost.ts","api/auth.ts","webpack://ticket_system/./src/components/Spinner/styles.module.css?6126","components/Spinner/index.tsx","components/Header/index.tsx","webpack://ticket_system/./src/components/Layout/styles.module.css?6939","components/Layout/index.tsx","pages/NotFoundPage/index.tsx","pages/NoPermissionPage/index.tsx","webpack://ticket_system/./src/pages/AuthPage/styles.module.css?7367","utils/useTtile.ts","webpack://ticket_system/./src/components/Form/styles.module.css?5f34","components/Form/index.tsx","pages/AuthPage/index.tsx","pages/IndexPage/index.tsx","webpack://ticket_system/./src/pages/ScannerPage/styles.module.css?d401","webpack://ticket_system/./src/components/Scanner/styles.module.css?0297","components/Scanner/index.tsx","utils/nums.ts","utils/dates.ts","webpack://ticket_system/./src/pages/ScannerPage/ScannerHeader/styles.module.css?d047","pages/ScannerPage/ScannerHeader/index.tsx","api/events.ts","webpack://ticket_system/./src/components/Popup/styles.module.css?f1d6","components/Popup/index.tsx","api/tickets.ts","api/checkTicket.ts","pages/ScannerPage/index.tsx","webpack://ticket_system/./src/pages/EventsPage/styles.module.css?6236","components/create/CreateEventForm.tsx","pages/EventsPage/index.tsx","pages/StaffPage/index.tsx","webpack://ticket_system/./src/pages/EventPage/styles.module.css?2091","api/ticketTypes.ts","pages/EventPage/index.tsx","webpack://ticket_system/./src/pages/TicketsPage/styles.module.css?e67a","webpack://ticket_system/./src/pages/TicketsPage/ViewTicket/styles.module.css?526f","pages/TicketsPage/ViewTicket/index.tsx","pages/TicketsPage/index.tsx","App.tsx"],"sourcesContent":["export default class ApiError extends Error {}","import { useQuery } from \"react-query\";\nimport ApiError from \"./apiError\";\nimport { ResponseMsg, User } from \"./dataTypes\";\n\nexport default function useUser()\n{\n\treturn useQuery(\"user\", getUser);\n}\n\nasync function getUser(): Promise<User>\n{\n\tconst res = await fetch(\"/api/user\");\n\tconst data = await res.json();\n\n\tif (res.status == 401) return { auth: false, id: -1, login: \"\", name: \"\", operations: [] };\n\tif (!res.ok) throw new ApiError((data as ResponseMsg).msg);\n\n\tconst user = data as User;\n\tuser.auth = true;\n\treturn user;\n}\n","import { UseQueryResult } from \"react-query\";\nimport { User } from \"./dataTypes\";\nimport useUser from \"./user\";\n\nconst Operations = {\n\tpage_events: \"page_events\",\n\tpage_staff: \"page_staff\",\n\tadd_event: \"add_event\",\n}\n\nexport type Operation = keyof typeof Operations;\n\nexport default function hasPermission(user: UseQueryResult<User, unknown>, operation: Operation)\n{\n\treturn !!(user.data?.auth && user.data?.operations.includes(operation));\n}\n\nexport function useHasPermission(operation: Operation)\n{\n\tconst user = useUser();\n\treturn !!(user.data?.auth && user.data?.operations.includes(operation));\n}\n","import { useEffect } from \"react\";\nimport { useLocation } from \"react-router-dom\";\n\nexport default function ScrollToTop()\n{\n\tconst { pathname } = useLocation();\n\n\tuseEffect(() =>\n\t{\n\t\twindow.scrollTo(0, 0);\n\t}, [pathname]);\n\n\treturn null;\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"styles_root__4DGhY\"};","import { useNavigate } from \"react-router-dom\";\nimport styles from \"./styles.module.css\"\n\nexport default function HeaderBack()\n{\n\tconst navigate = useNavigate();\n\treturn (\n\t\t<div className={styles.root}>\n\t\t\t<button onClick={() => navigate(-1)}>\n\t\t\t\tНазад\n\t\t\t</button>\n\t\t</div>\n\t);\n}\n","export default function classNames(...names: (string | undefined | null | false)[])\n{\n\treturn names.filter(v => !!v).join(\" \");\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"styles_root__Zvl9c\",\"home\":\"styles_home__o+-s7\",\"block\":\"styles_block__a1SM7\"};","export default function fetchPost(input: RequestInfo | URL, body?: any)\n{\n\treturn fetch(input, {\n\t\tmethod: \"POST\",\n\t\theaders: {\n\t\t\t\"Content-Type\": \"application/json\"\n\t\t},\n\t\tbody: body === undefined ? null : JSON.stringify(body),\n\t});\n}\n","import { useMutation, useQueryClient } from \"react-query\";\nimport fetchPost from \"../utils/fetchPost\"\nimport ApiError from \"./apiError\";\nimport { ResponseMsg, User } from \"./dataTypes\";\n\nexport function useMutationAuth(onError?: (msg: string) => void)\n{\n\tconst queryClient = useQueryClient();\n\tconst mutation = useMutation({\n\t\tmutationFn: postAuth,\n\t\tonSuccess: (data) =>\n\t\t{\n\t\t\tqueryClient.setQueryData(\"user\", () => data);\n\t\t},\n\t\tonError: (error) =>\n\t\t{\n\t\t\tonError?.(error instanceof ApiError ? error.message : \"Произошла ошибка, попробуйте ещё раз\");\n\t\t}\n\t});\n\treturn mutation;\n}\n\nasync function postAuth(authData: AuthData)\n{\n\tconst res = await fetchPost(\"/api/auth\", authData);\n\tconst data = await res.json();\n\tif (!res.ok) throw new ApiError((data as ResponseMsg).msg);\n\n\tconst user = data as User;\n\tuser.auth = true;\n\treturn user;\n}\n\nexport async function postLogout()\n{\n\tawait fetchPost(\"/api/logout\");\n}\n\ninterface AuthData\n{\n\tlogin: string,\n\tpassword: string,\n}\n\nexport function useMutationLogout()\n{\n\tconst queryClient = useQueryClient();\n\tconst mutation = useMutation({\n\t\tmutationFn: postLogout,\n\t\tonSuccess: () =>\n\t\t{\n\t\t\tqueryClient.invalidateQueries(\"user\");\n\t\t}\n\t});\n\treturn mutation;\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"styles_root__BdzzK\",\"spinner\":\"styles_spinner__rlI86\",\"lds-ring\":\"styles_lds-ring__jnLuB\"};","import styles from \"./styles.module.css\"\n\nexport default function Spinner({ color, zIndex }: SpinnerProps)\n{\n\treturn (\n\t\t<div className={styles.root}>\n\t\t\t<div className={styles.spinner} style={{ \"--color\": color, zIndex } as React.CSSProperties}><div></div><div></div><div></div><div></div></div>\n\t\t</div>\n\t);\n}\n\ninterface SpinnerProps\n{\n\tcolor?: string,\n\tzIndex?: number,\n}","import { Link, useLocation, useNavigate } from \"react-router-dom\";\nimport styles from \"./styles.module.css\"\nimport logo from \"./logo64.png\"\nimport { useMutationLogout } from \"../../api/auth\";\nimport useUser from \"../../api/user\";\nimport Spinner from \"../Spinner\";\n\nexport default function Header()\n{\n\tconst location = useLocation();\n\tconst navigate = useNavigate();\n\tconst mutation = useMutationLogout();\n\tconst user = useUser();\n\n\treturn (\n\t\t<div className={styles.root}>\n\t\t\t<span className={styles.block}>\n\t\t\t\t<Link to=\"/\" className={styles.home}>\n\t\t\t\t\t<img src={logo} alt=\"На главную\" />\n\t\t\t\t</Link>\n\t\t\t\t{location.pathname != \"/\" && <button onClick={() => navigate(-1)}>Назад</button>}\n\t\t\t</span>\n\t\t\t<span className={styles.block}>\n\t\t\t\t<span>{user.data?.name}</span>\n\t\t\t\t<button onClick={() => mutation.mutate()} disabled={mutation.status != \"idle\"}>\n\t\t\t\t\tВыйти\n\t\t\t\t</button>\n\t\t\t</span>\n\t\t\t{mutation.status != \"idle\" && <Spinner />}\n\t\t</div>\n\t);\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"styles_root__xvR2N\",\"body\":\"styles_body__S-p4X\",\"body_centered\":\"styles_body_centered__NzRPU\",\"body_centeredPage\":\"styles_body_centeredPage__R-EzO\"};","import classNames from \"../../utils/classNames\";\nimport Header from \"../Header\";\nimport styles from \"./styles.module.css\"\n\nexport default function Layout({ children, className, centered = false, centeredPage = false, height100 = false, gap = 0, header = <Header /> }: LayoutProps)\n{\n\treturn (\n\t\t<div className={styles.root} style={{ maxHeight: height100 ? \"100dvh\" : \"\" }}>\n\t\t\t{header || <div></div>}\n\t\t\t<div\n\t\t\t\tclassName={classNames(\n\t\t\t\t\tstyles.body, className,\n\t\t\t\t\tcentered && styles.body_centered,\n\t\t\t\t\tcenteredPage && styles.body_centeredPage,\n\t\t\t\t)}\n\t\t\t\tstyle={{ gap, maxHeight: height100 ? \"100%\" : \"\" }}\n\t\t\t>\n\t\t\t\t{children}\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\ninterface LayoutProps extends React.PropsWithChildren\n{\n\tcenteredPage?: boolean,\n\tcentered?: boolean,\n\theight100?: boolean,\n\tgap?: number | string,\n\tclassName?: string,\n\theader?: React.ReactNode,\n}\n","import HeaderBack from \"../../components/HeaderBack\";\nimport Layout from \"../../components/Layout\";\n\nexport default function NotFoundPage()\n{\n\treturn (\n\t\t<Layout centered header={<HeaderBack />}>\n\t\t\tТакой страницы нет\n\t\t</Layout>\n\t);\n}\n","import HeaderBack from \"../../components/HeaderBack\";\nimport Layout from \"../../components/Layout\";\n\nexport default function NoPermissionPage()\n{\n\treturn (\n\t\t<Layout centered header={<HeaderBack />}>\n\t\t\tУ вас недостатточно прав на просмотр этой страницы\n\t\t</Layout>\n\t);\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"form\":\"styles_form__n7Rcu\"};","import { useEffect } from \"react\"\n\nexport function useTitle(title: string | (string | undefined | null | false)[], prefis = \"Билетная система\")\n{\n\tuseEffect(() =>\n\t{\n\t\tconst prevTitle = document.title;\n\t\tconst t = typeof title != \"object\" ? [title] : title;\n\t\tdocument.title = [prefis, ...t].filter(v => !!v).join(\" | \");\n\t\treturn () => { document.title = prevTitle; }\n\t}, [title, prefis]);\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"form\":\"styles_form__cFFCH\",\"field\":\"styles_field__5rpBk\"};","import classNames from \"../../utils/classNames\";\nimport styles from \"./styles.module.css\"\n\nexport function Form({ className, style, onSubmit, children }: FormProps)\n{\n\treturn (\n\t\t<form\n\t\t\tclassName={classNames(styles.form, className)}\n\t\t\tstyle={style}\n\t\t\tonSubmit={e =>\n\t\t\t{\n\t\t\t\te.preventDefault();\n\t\t\t\tonSubmit();\n\t\t\t}}\n\t\t>\n\t\t\t{children}\n\t\t</form>\n\t);\n}\n\ninterface FormProps extends React.PropsWithChildren\n{\n\tonSubmit: () => void,\n\tclassName?: string,\n\tstyle?: React.StyleHTMLAttributes<HTMLFormElement>,\n}\n\n\nexport function FormField({ label, className, style, children }: FormFieldProps)\n{\n\treturn (\n\t\t<label className={classNames(styles.field, className)} style={style}>\n\t\t\t<span>{label}</span>\n\t\t\t{children}\n\t\t</label>\n\t);\n}\n\ninterface FormFieldProps extends React.PropsWithChildren\n{\n\tlabel?: string,\n\tclassName?: string,\n\tstyle?: React.StyleHTMLAttributes<HTMLLabelElement>,\n}\n","import { useRef, useState } from \"react\";\nimport styles from \"./styles.module.css\"\nimport { useMutationAuth } from \"../../api/auth\";\nimport Layout from \"../../components/Layout\";\nimport { useTitle } from \"../../utils/useTtile\";\nimport { Form, FormField } from \"../../components/Form\";\nimport Spinner from \"../../components/Spinner\";\n\nexport default function AuthPage()\n{\n\tuseTitle(\"Авторизация\");\n\tconst [error, setError] = useState(\"\");\n\tconst inp_login = useRef<HTMLInputElement>(null);\n\tconst inp_password = useRef<HTMLInputElement>(null);\n\tconst mutation = useMutationAuth(setError);\n\n\tfunction onSubmit()\n\t{\n\t\tconst login = inp_login.current?.value || \"\";\n\t\tconst password = inp_password.current?.value || \"\";\n\t\tmutation.mutate({ login, password });\n\t}\n\n\treturn (\n\t\t<Layout header={null} centered gap=\"2em\">\n\t\t\t<h1>Билетная Система</h1>\n\t\t\t{error && <h3>{error}</h3>}\n\t\t\t{mutation.isLoading && <Spinner />}\n\t\t\t<Form className={styles.form} onSubmit={onSubmit}>\n\t\t\t\t<FormField label=\"Логин\">\n\t\t\t\t\t<input ref={inp_login} type=\"text\" name=\"login\" required />\n\t\t\t\t</FormField>\n\t\t\t\t<FormField label=\"Пароль\">\n\t\t\t\t\t<input ref={inp_password} type=\"password\" name=\"password\" required />\n\t\t\t\t</FormField>\n\t\t\t\t<button type=\"submit\" disabled={mutation.status == \"loading\"}>Войти</button>\n\t\t\t</Form>\n\t\t\t<div>\n\t\t\t\t<div>Для сканирования билетов получите ссылку у управляющего.</div>\n\t\t\t\t<div>Если вы попали сюда, перейдите по полученной ссылке ещё раз.</div>\n\t\t\t</div>\n\t\t</Layout>\n\t);\n}\n","import { Link } from \"react-router-dom\";\nimport hasPermission from \"../../api/operations\";\nimport useUser from \"../../api/user\";\nimport Layout from \"../../components/Layout\";\n\nexport default function IndexPage()\n{\n\tconst user = useUser();\n\n\treturn (\n\t\t<Layout centered gap=\"1em\">\n\t\t\t{hasPermission(user, \"page_events\") && <Link to=\"/events\" className=\"button button_large\">Мероприятия</Link>}\n\t\t\t{/* {hasPermission(user, \"page_staff\") && <Link to=\"/staff\" className=\"button button_large\">Сотрудники</Link>} */}\n\t\t</Layout>\n\t);\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"scanner\":\"styles_scanner__+xzXT\",\"scanner_scanned\":\"styles_scanner_scanned__lX+Yf\",\"scanned_anim\":\"styles_scanned_anim__UmXGC\",\"scanResult\":\"styles_scanResult__35K03\",\"big\":\"styles_big__bcOVH\",\"success\":\"styles_success__dlqOt\",\"result_desc\":\"styles_result_desc__oS+OA\",\"error\":\"styles_error__0ctGO\"};","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"styles_root__QdJnV\"};","import { useEffect, useRef, useState } from \"react\";\nimport styles from \"./styles.module.css\"\nimport QrScanner from \"qr-scanner\";\n\n\nexport default function Scanner({ active = true, onScan }: ScannerProps)\n{\n\tconst [qrScanner, setQrScanner] = useState<QrScanner>();\n\tconst videoRef = useRef<HTMLVideoElement | null>(null)\n\n\tuseEffect(() =>\n\t{\n\t\tif (!videoRef.current) return;\n\t\tconst scanner = new QrScanner(\n\t\t\tvideoRef.current,\n\t\t\tresult => onScan(result.data),\n\t\t\t{\n\t\t\t\thighlightScanRegion: true,\n\t\t\t\tmaxScansPerSecond: 10,\n\n\t\t\t},\n\t\t)\n\t\tsetQrScanner((old: QrScanner | undefined) =>\n\t\t{\n\t\t\told?.stop();\n\t\t\told?.destroy();\n\t\t\treturn scanner;\n\t\t});\n\t\tscanner.start()\n\n\t\treturn () =>\n\t\t{\n\t\t\tscanner.stop();\n\t\t\tscanner.destroy();\n\t\t}\n\t}, [videoRef, onScan]);\n\n\tuseEffect(() =>\n\t{\n\t\tif (!qrScanner) return;\n\t\tif (active) qrScanner.start();\n\t\telse qrScanner.pause(false);\n\t}, [active, qrScanner])\n\n\treturn (\n\t\t<video className={styles.root} ref={videoRef}></video>\n\t);\n}\n\ninterface ScannerProps\n{\n\tactive?: boolean,\n\tonScan: (result: string) => void,\n}","export function padNum(num: number, len: number)\n{\n\treturn `${num}`.padStart(len, \"0\");\n}\n\nexport function countWord(num: number, one: string, two: string, five: string)\n{\n\tconst numS = `${num}`;\n\tif (numS.at(-1) == \"1\" && numS.at(-2) != \"1\")\n\t\treturn one;\n\tif ([\"2\", \"3\", \"4\"].includes(numS.at(-1) || \"\") && numS.at(-2) != \"1\")\n\t\treturn two;\n\treturn five;\n}\n","import { padNum, countWord } from \"./nums\";\n\nexport function dateToString(date: Date | null | undefined)\n{\n\tif (!date) return \"\";\n\treturn `${padNum(date.getDate(), 2)}.${padNum(date.getMonth() + 1, 2)}.${date.getFullYear()}`;\n}\n\nexport function timeToString(date: Date, seconds = false)\n{\n\tlet dateStr = `${padNum(date.getHours(), 2)}:${padNum(date.getMinutes(), 2)}`;\n\tif (seconds) return dateStr + `:${padNum(date.getSeconds(), 2)}`;\n\treturn dateStr;\n}\n\nexport function datetimeToString(date: Date, seconds = false)\n{\n\treturn dateToString(date) + \" \" + timeToString(date, seconds);\n}\n\nexport function relativeDate(date: Date, nowBreak: \"second\" | \"minute\" | \"hour\" | \"day\" = \"second\")\n{\n\tconst now = new Date();\n\n\tconst delta = date.getTime() - now.getTime();\n\tlet d = Math.floor(Math.abs(delta) / 1000);\n\n\tconst dY = Math.floor(d / (60 * 60 * 24 * 30 * 12)); d -= dY * 60 * 60 * 24 * 30 * 12;\n\tconst dM = Math.floor(d / (60 * 60 * 24 * 30)); d -= dM * 60 * 60 * 24 * 30;\n\tconst dD = Math.floor(d / (60 * 60 * 24)); d -= dD * 60 * 60 * 24;\n\tconst dh = Math.floor(d / (60 * 60)) % 24; d -= dh * 60 * 60;\n\tconst dm = Math.floor(d / 60) % 60; d -= dm * 60;\n\tconst ds = d % 60;\n\n\tfunction getChange(): [string | number, [string, string, string]]\n\t{\n\t\tconst sv = (v: string) => [v, [\"\", \"\", \"\"]] as [string, [string, string, string]];\n\t\tif (dY != 0) return [dY, [\"год\", \"года\", \"лет\"]];\n\t\tif (dM != 0) return [dM, [\"месяц\", \"месяца\", \"месяцов\"]];\n\t\tif (dD != 0) return [dD, [\"день\", \"дня\", \"дней\"]];\n\t\tif (nowBreak == \"day\") return sv(\"Сегодня\");\n\t\tif (dh != 0) return [dh, [\"час\", \"часа\", \"часов\"]];\n\t\tif (nowBreak == \"hour\") return sv(\"Сейчас\");\n\t\tif (dm != 0) return [dm, [\"минута\", \"минуты\", \"минут\"]];\n\t\tif (nowBreak == \"minute\") return sv(\"Сейчас\");\n\t\tif (ds != 0) return [ds, [\"секунда\", \"секунды\", \"секунд\"]];\n\t\treturn sv(\"Только что\");\n\t}\n\tlet [vChange, vNames] = getChange();\n\n\tif (typeof vChange == \"string\")\n\t\treturn vChange;\n\n\tlet relative = `${countWord(vChange, ...vNames)}`\n\tif (Math.abs(vChange) > 1) relative = Math.abs(vChange) + \" \" + relative;\n\tif (delta > 0) relative = \"Через \" + relative;\n\telse relative += \" назад\";\n\n\treturn relative;\n}\n\nexport function secondsPast(date: Date)\n{\n\tconst now = new Date();\n\treturn (now.getTime() - date.getTime()) / 1000;\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"styles_root__E-Z+Q\",\"top\":\"styles_top__r6L7-\",\"bottom\":\"styles_bottom__GMtUi\"};","import { EventData } from \"../../../api/dataTypes\";\nimport { dateToString } from \"../../../utils/dates\";\nimport styles from \"./styles.module.css\"\n\nexport default function ScannerHeader({ event, onInputBtn }: ScannerHeaderProps)\n{\n\treturn (\n\t\t<div className={styles.root}>\n\t\t\t<div className={styles.top}>\n\t\t\t\t<button onClick={onInputBtn}>Ручной ввод</button>\n\t\t\t</div>\n\t\t\t<div className={styles.bottom}>\n\t\t\t\t<span>{event.name}</span>\n\t\t\t\t<span>|</span>\n\t\t\t\t<span>{dateToString(event.date)}</span>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\ninterface ScannerHeaderProps\n{\n\tevent: EventData,\n\tonInputBtn: () => void,\n}\n","import { useMutation, useQuery, useQueryClient } from \"react-query\";\nimport { EventData, ResponseEvent, ResponseMsg } from \"./dataTypes\";\nimport ApiError from \"./apiError\";\nimport fetchPost from \"../utils/fetchPost\";\n\nexport function useEvents()\n{\n\tconst queryClient = useQueryClient();\n\tconst query = useQuery(\"events\", getEvents, {\n\t\tonSuccess: data =>\n\t\t{\n\t\t\tdata.forEach(v => queryClient.setQueryData([\"event\", `${v.id}`], v));\n\t\t}\n\t});\n\treturn query;\n}\n\nasync function getEvents(): Promise<EventData[]>\n{\n\tconst res = await fetch(\"/api/events\");\n\tconst data = await res.json();\n\tif (!res.ok) throw new ApiError((data as ResponseMsg).msg);\n\tconst events = data as ResponseEvent[];\n\treturn events.map(parseEventResponse);\n}\n\nexport function useEvent(eventId: number | string)\n{\n\treturn useQuery([\"event\", `${eventId}`], () => getEvent(eventId));\n}\n\nasync function getEvent(eventId: number | string): Promise<EventData>\n{\n\tconst res = await fetch(\"/api/events/\" + eventId);\n\tconst data = await res.json();\n\tif (!res.ok) throw new ApiError((data as ResponseMsg).msg);\n\treturn parseEventResponse(data as ResponseEvent);\n}\n\nexport function useScannerEvent(eventId: number | string)\n{\n\treturn useQuery([\"event\", `${eventId}`], () => getScannerEvent(eventId));\n}\n\nasync function getScannerEvent(eventId: number | string): Promise<EventData | typeof NaN>\n{\n\tconst res = await fetch(\"/api/scanner_event/\" + eventId);\n\tconst data = await res.json();\n\tif (!res.ok) return NaN;\n\treturn parseEventResponse(data as ResponseEvent);\n}\n\nexport function parseEventResponse(responseEvent: ResponseEvent)\n{\n\tconst event = responseEvent as unknown as EventData;\n\tevent.date = new Date(responseEvent.date);\n\treturn event;\n}\n\nexport function useMutationNewEvent(onSuccess?: () => void)\n{\n\tconst queryClient = useQueryClient();\n\tconst mutation = useMutation({\n\t\tmutationFn: postNewEvent,\n\t\tonSuccess: (data) =>\n\t\t{\n\t\t\tqueryClient.setQueryData([\"event\", data.id], () => data);\n\t\t\tif (queryClient.getQueryState(\"events\")?.status == \"success\")\n\t\t\t\tqueryClient.setQueryData(\"events\", (events?: EventData[]) => events ? [...events, data] : [data]);\n\t\t\tonSuccess?.();\n\t\t},\n\t});\n\treturn mutation;\n}\n\nasync function postNewEvent(eventData: NewEventData)\n{\n\tconst res = await fetchPost(\"/api/event\", eventData);\n\tconst data = await res.json();\n\tif (!res.ok) throw new ApiError((data as ResponseMsg).msg);\n\treturn parseEventResponse(data as ResponseEvent);\n}\n\ninterface NewEventData\n{\n\tname: string,\n\tdate: Date | string,\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"styles_root__O0923\",\"open\":\"styles_open__35Vcu\",\"popup\":\"styles_popup__L-0H0\",\"header\":\"styles_header__o87wG\",\"close\":\"styles_close__w0Yhz\",\"body\":\"styles_body__t75Nd\"};","import classNames from \"../../utils/classNames\";\nimport styles from \"./styles.module.css\"\n\nexport default function Popup({ children, open = false, close, title = \"\" }: CustomPopupProps)\n{\n\treturn (\n\t\t<div className={classNames(styles.root, open && styles.open)}>\n\t\t\t<div className={styles.popup}>\n\t\t\t\t<div className={styles.header}>\n\t\t\t\t\t<h3>{title}</h3>\n\t\t\t\t\t<button className={styles.close} onClick={close}>✖</button>\n\t\t\t\t</div>\n\t\t\t\t<div className={styles.body}>\n\t\t\t\t\t{children}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport interface PopupProps\n{\n\topen?: boolean,\n\tclose?: () => void,\n}\n\ninterface CustomPopupProps extends PopupProps, React.PropsWithChildren\n{\n\ttitle?: string,\n}","import { useQuery } from \"react-query\";\nimport { ResponseMsg, ResponseTicket, Ticket } from \"./dataTypes\";\nimport ApiError from \"./apiError\";\n\nexport default function useTickets(eventId: number | string)\n{\n\treturn useQuery([\"tickets\", eventId], () => getTickets(eventId));\n}\n\nasync function getTickets(eventId: number | string): Promise<Ticket[]>\n{\n\tconst res = await fetch(\"/api/tickets/\" + eventId);\n\tconst data = await res.json();\n\tif (!res.ok) throw new ApiError((data as ResponseMsg).msg);\n\n\treturn (data as ResponseTicket[]).map(parseTicketResponse);\n}\n\nexport function parseTicketResponse(responseTicket: ResponseTicket)\n{\n\tconst ticket = responseTicket as unknown as Ticket;\n\tif (responseTicket.scannedDate)\n\t\tticket.scannedDate = new Date(responseTicket.scannedDate);\n\tif (responseTicket.createdDate)\n\t\tticket.createdDate = new Date(responseTicket.createdDate);\n\treturn ticket;\n}","import { useMutation } from \"react-query\";\nimport fetchPost from \"../utils/fetchPost\"\nimport ApiError from \"./apiError\";\nimport { CheckTicketResult, ResponseCheckTicket, ResponseMsg } from \"./dataTypes\";\nimport { parseEventResponse } from \"./events\";\nimport { parseTicketResponse } from \"./tickets\";\n\n\nexport default function useMutationCheckTicket(onSuccess?: (res: CheckTicketResult) => void, onError?: (msg: string) => void)\n{\n\tconst mutation = useMutation({\n\t\tmutationFn: postCheckTicket,\n\t\tonSuccess: (data) =>\n\t\t{\n\t\t\tonSuccess?.(data);\n\t\t},\n\t\tonError: (error) =>\n\t\t{\n\t\t\tonError?.(error instanceof ApiError ? error.message : \"Произошла ошибка\")\n\t\t\tmutation.reset();\n\t\t}\n\t});\n\treturn mutation;\n}\n\n\nasync function postCheckTicket(ticketData: TicketData): Promise<CheckTicketResult>\n{\n\tconst res = await fetchPost(\"/api/check_ticket\", ticketData);\n\tconst data = await res.json();\n\tif (!res.ok) throw new ApiError((data as ResponseMsg).msg);\n\n\tconst apiResult = data as ResponseCheckTicket;\n\tconst result = data as CheckTicketResult;\n\tif (apiResult.ticket)\n\t\tresult.ticket = parseTicketResponse(apiResult.ticket)\n\tif (apiResult.event)\n\t\tresult.event = parseEventResponse(apiResult.event)\n\treturn result\n}\n\ninterface TicketData\n{\n\tcode: string,\n\teventId: number,\n}\n","import { useCallback, useEffect, useRef, useState } from \"react\";\nimport Layout from \"../../components/Layout\";\nimport styles from \"./styles.module.css\"\nimport { CheckTicketResult } from \"../../api/dataTypes\";\nimport Scanner from \"../../components/Scanner\";\nimport ScannerHeader from \"./ScannerHeader\";\nimport classNames from \"../../utils/classNames\";\nimport { useScannerEvent } from \"../../api/events\";\nimport { dateToString, relativeDate, secondsPast, timeToString } from \"../../utils/dates\";\nimport Popup from \"../../components/Popup\";\nimport { padNum } from \"../../utils/nums\";\nimport { useParams } from \"react-router-dom\";\nimport { useTitle } from \"../../utils/useTtile\";\nimport useMutationCheckTicket from \"../../api/checkTicket\";\nimport Spinner from \"../../components/Spinner\";\n\nexport default function ScannerPage()\n{\n\tuseTitle(\"Сканер\");\n\tconst urlParams = useParams();\n\tconst [qrScanResult, setQrScanResult] = useState<string | null>(null);\n\tconst [ticketCode, setTicketCode] = useState<string | null>(null);\n\tconst [error, setError] = useState<string | null>(null);\n\tconst [checkTicketResult, setCheckTicketResult] = useState<CheckTicketResult | null>(null);\n\tconst [inputOpen, setInputOpen] = useState(false);\n\tconst inputRef = useRef<HTMLInputElement>(null);\n\tconst event = useScannerEvent(urlParams[\"eventId\"]!);\n\n\tconst handleScan = useCallback((res: string) => setQrScanResult(res), []);\n\tconst handleOpenInput = useCallback(() =>\n\t{\n\t\tsetInputOpen(true);\n\t\tif (inputRef.current && event.data && typeof event.data != \"number\")\n\t\t\tinputRef.current.value = `${padNum(event.data.id, 3)}-${event.data.date.getFullYear().toString().at(-1)}${padNum(event.data.date.getMonth() + 1, 2)}${padNum(event.data.date.getDate(), 2)}-`;\n\t}, [inputRef, event.data]);\n\tconst handleCloseInput = useCallback(() => setInputOpen(false), []);\n\n\tconst mutation = useMutationCheckTicket(\n\t\tsetCheckTicketResult,\n\t\terror => { setCheckTicketResult(null); setError(error); }\n\t);\n\n\tuseEffect(() =>\n\t{\n\t\tif (qrScanResult && event.data && mutation.status == \"idle\" && typeof event.data != \"number\")\n\t\t{\n\t\t\tsetTicketCode(qrScanResult);\n\t\t\tsetError(null);\n\t\t\tsetQrScanResult(null);\n\t\t\tsetCheckTicketResult(null);\n\t\t\tmutation.mutate({ code: qrScanResult, eventId: event.data.id });\n\t\t}\n\t}, [qrScanResult, event.data, mutation]);\n\n\tuseEffect(() =>\n\t{\n\t\tif (mutation.isSuccess)\n\t\t{\n\t\t\tconst timeout = setTimeout(() =>\n\t\t\t{\n\t\t\t\tsetQrScanResult(null);\n\t\t\t\tmutation.reset();\n\t\t\t}, 1000);\n\t\t\treturn () => clearTimeout(timeout);\n\t\t}\n\t}, [mutation]);\n\n\treturn (\n\t\t<>\n\t\t\t{event.isLoading && <Spinner/>}\n\t\t\t{event.error && <Layout centered gap=\"1em\" header={null}>Произошла ошибка</Layout>}\n\t\t\t{typeof event.data == \"number\" && <Layout centered centeredPage gap=\"1em\" header={null}>\n\t\t\t\t<div>Это событие ещё не началось или уже кончилось</div>\n\t\t\t\t<div>Если это не так, управляющий должен включить приём билетов</div>\n\t\t\t</Layout>}\n\t\t\t{typeof event.data != \"number\" && event.data &&\n\t\t\t\t<Layout height100 header={<ScannerHeader event={event.data} onInputBtn={handleOpenInput} />}>\n\t\t\t\t\t<div className={classNames(styles.scanner, !mutation.isIdle && styles.scanner_scanned)}>\n\t\t\t\t\t\t<Scanner onScan={handleScan} />\n\t\t\t\t\t\t{/* <button onClick={() => handleScan(\"001-30809-03-0008\")}>Scan!</button> */}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className={styles.scanResult}>\n\t\t\t\t\t\t{ticketCode && <div>Код билета: {ticketCode}</div>}\n\t\t\t\t\t\t{error && <div>{error}</div>}\n\t\t\t\t\t\t{checkTicketResult?.success && <>\n\t\t\t\t\t\t\t<div className={classNames(styles.success, styles.big)}>Действителен</div>\n\t\t\t\t\t\t\t<div className={styles.result_desc}>\n\t\t\t\t\t\t\t\t<div>Посетитель: {checkTicketResult.ticket.personName}</div>\n\t\t\t\t\t\t\t\t<div>Тип билета: {checkTicketResult.ticket.type}</div>\n\t\t\t\t\t\t\t\t<div>Промокод: {checkTicketResult.ticket.promocode}</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</>}\n\t\t\t\t\t\t{checkTicketResult?.errorCode == \"notExist\" && <div className={classNames(styles.error, styles.big)}>Не найден</div>}\n\t\t\t\t\t\t{checkTicketResult?.errorCode == \"event\" && <>\n\t\t\t\t\t\t\t<div className={classNames(styles.error, styles.big)}>Другое мероприятие</div>\n\t\t\t\t\t\t\t<div className={styles.result_desc}>\n\t\t\t\t\t\t\t\t{(() =>\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\treturn <>\n\t\t\t\t\t\t\t\t\t\t<div>Мероприятие: {checkTicketResult.event.name}</div>\n\t\t\t\t\t\t\t\t\t\t<div>Его дата: {dateToString(checkTicketResult.event.date)} ({relativeDate(checkTicketResult.event.date, \"day\")})</div>\n\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t})()}\n\t\t\t\t\t\t\t\t<div>Посетитель: {checkTicketResult.ticket.personName}</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</>}\n\t\t\t\t\t\t{checkTicketResult?.errorCode == \"scanned\" && <>\n\t\t\t\t\t\t\t<div className={classNames(styles.error, styles.big)}>Использованный</div>\n\t\t\t\t\t\t\t<div className={styles.result_desc}>\n\t\t\t\t\t\t\t\t{/* <div>\n\t\t\t\t\t\t\t\t\t<span>Кем: </span>\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tcheckTicketResult.ticket.scannedById == user.data?.id ?\n\t\t\t\t\t\t\t\t\t\t<span>Вами</span> : <>\n\t\t\t\t\t\t\t\t\t\t\t<span>{checkTicketResult.ticket.scannedBy} </span>\n\t\t\t\t\t\t\t\t\t\t\t<span className={styles.error}>(Не вами)</span>\n\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t</div> */}\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<span>Когда: </span>\n\t\t\t\t\t\t\t\t\t<span>{timeToString(checkTicketResult.ticket.scannedDate, true)} </span>\n\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\t\tclassName={classNames(secondsPast(checkTicketResult.ticket.scannedDate) > 30 && styles.error)}\n\t\t\t\t\t\t\t\t\t>({relativeDate(checkTicketResult.ticket.scannedDate)})</span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div style={{ marginTop: \"0.5rem\" }}>Посетитель: {checkTicketResult.ticket.personName}</div>\n\t\t\t\t\t\t\t\t<div>Тип билета: {checkTicketResult.ticket.type}</div>\n\t\t\t\t\t\t\t\t<div>Промокод: {checkTicketResult.ticket.promocode}</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</>}\n\t\t\t\t\t</div>\n\t\t\t\t\t<Popup title=\"Введите код билета\" open={inputOpen} close={handleCloseInput}>\n\t\t\t\t\t\t<input type=\"text\" ref={inputRef} />\n\t\t\t\t\t\t<button disabled={mutation.status != \"idle\"} onClick={() =>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tif (inputRef.current)\n\t\t\t\t\t\t\t\tsetQrScanResult(inputRef.current?.value);\n\t\t\t\t\t\t\thandleCloseInput();\n\t\t\t\t\t\t}}>Сканировать</button>\n\t\t\t\t\t</Popup>\n\t\t\t\t</Layout>\n\t\t\t}\n\t\t</>\n\t);\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"space_between\":\"styles_space_between__AD+M6\"};","import { useRef } from \"react\";\nimport { Form, FormField } from \"../Form\";\nimport Popup, { PopupProps } from \"../Popup\";\nimport { useMutationNewEvent } from \"../../api/events\";\nimport Spinner from \"../Spinner\";\n\nexport default function CreateEventForm({ open, close }: PopupProps)\n{\n\tconst inp_title = useRef<HTMLInputElement>(null);\n\tconst inp_date = useRef<HTMLInputElement>(null);\n\tconst mutation = useMutationNewEvent(close);\n\n\treturn (\n\t\t<Popup open={open} close={close} title=\"Добавление меропрятия\">\n\t\t\t{mutation.isError && <h3 style={{ color: \"tomato\", textAlign: \"center\" }}>Ошибка</h3>}\n\t\t\t<Form onSubmit={() =>\n\t\t\t{\n\t\t\t\tconst title = inp_title.current?.value;\n\t\t\t\tconst date = inp_date.current?.value;\n\t\t\t\tif (title && date)\n\t\t\t\t\tmutation.mutate({ date: date, name: title });\n\t\t\t}}>\n\t\t\t\t<FormField label=\"Название\">\n\t\t\t\t\t<input ref={inp_title} type=\"text\" required />\n\t\t\t\t</FormField>\n\t\t\t\t<FormField label=\"Дата\">\n\t\t\t\t\t<input ref={inp_date} type=\"datetime-local\" required />\n\t\t\t\t</FormField>\n\t\t\t\t<button type=\"submit\">Создать</button>\n\t\t\t</Form>\n\t\t\t{mutation.isLoading && <Spinner />}\n\t\t</Popup>\n\t);\n}\n","import { Link } from \"react-router-dom\";\nimport { useEvents } from \"../../api/events\";\nimport Layout from \"../../components/Layout\";\nimport styles from \"./styles.module.css\"\nimport classNames from \"../../utils/classNames\";\nimport { dateToString } from \"../../utils/dates\";\nimport { useTitle } from \"../../utils/useTtile\";\nimport CreateEventForm from \"../../components/create/CreateEventForm\";\nimport { useState } from \"react\";\nimport { useHasPermission } from \"../../api/operations\";\nimport Spinner from \"../../components/Spinner\";\n\nexport default function EventsPage()\n{\n\tuseTitle(\"Мероприятия\");\n\tconst [createFormOpen, setCreateFormOpen] = useState(false);\n\tconst events = useEvents();\n\n\treturn (\n\t\t<Layout centeredPage gap=\"1rem\">\n\t\t\t<h1>Мероприятия</h1>\n\t\t\t{events.isLoading && <Spinner/>}\n\t\t\t{events.isError && <div>Ошибка</div>}\n\t\t\t{events.data?.map(e =>\n\t\t\t\t<Link\n\t\t\t\t\tto={`/events/${e.id}`}\n\t\t\t\t\tclassName={classNames(\"button button_large\", styles.space_between)}\n\t\t\t\t\tkey={e.id}\n\t\t\t\t>\n\t\t\t\t\t<span>{e.name}</span>\n\t\t\t\t\t<span>{dateToString(e.date)}</span>\n\t\t\t\t</Link>\n\t\t\t)}\n\t\t\t{useHasPermission(\"add_event\") &&\n\t\t\t\t<div className={styles.space_between}>\n\t\t\t\t\t<span></span>\n\t\t\t\t\t<button className=\"button\" onClick={() => setCreateFormOpen(true)}>Добавить</button>\n\t\t\t\t</div>\n\t\t\t}\n\t\t\t<CreateEventForm open={createFormOpen} close={() => setCreateFormOpen(false)} />\n\t\t</Layout>\n\t);\n}\n","import Layout from \"../../components/Layout\";\nimport { useTitle } from \"../../utils/useTtile\";\n// import styles from \"./styles.module.css\"\n\nexport default function StaffPage()\n{\n\tuseTitle(\"Сотрудники\");\n\n\treturn (\n\t\t<Layout centered>\n\t\t\tТут будет страница настройки сотрудников\n\t\t</Layout>\n\t);\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"card\":\"styles_card__1zOYj\",\"card__header\":\"styles_card__header__o4cfX\",\"card__body\":\"styles_card__body__KU56x\",\"gap\":\"styles_gap__Z5dnR\",\"right\":\"styles_right__fxm89\"};","import { useQuery } from \"react-query\";\nimport { ResponseMsg, TicketType } from \"./dataTypes\";\nimport ApiError from \"./apiError\";\n\nexport default function useTicketTypes(eventId: number | string)\n{\n\treturn useQuery([\"ticket_types\", eventId], () => getTicketTypes(eventId));\n}\n\nasync function getTicketTypes(eventId: number | string): Promise<TicketType[]>\n{\n\tconst res = await fetch(\"/api/ticket_types/\" + eventId);\n\tconst data = await res.json();\n\tif (!res.ok) throw new ApiError((data as ResponseMsg).msg);\n\treturn data as TicketType[];\n}\n","import { Link, useParams } from \"react-router-dom\";\nimport Layout from \"../../components/Layout\";\nimport styles from \"./styles.module.css\"\nimport { useEvent } from \"../../api/events\";\nimport { dateToString } from \"../../utils/dates\";\nimport useTicketTypes from \"../../api/ticketTypes\";\nimport { useTitle } from \"../../utils/useTtile\";\nimport Spinner from \"../../components/Spinner\";\n\nexport default function EventPage()\n{\n\tconst urlParams = useParams();\n\tconst eventId = urlParams[\"eventId\"]!;\n\tconst event = useEvent(eventId);\n\tconst ticketTypes = useTicketTypes(eventId);\n\tuseTitle(event.data?.name || \"Мероприятие\");\n\n\treturn (\n\t\t<>\n\t\t\t{event.isLoading && <Layout><Spinner/></Layout>}\n\t\t\t{event.isError && <Layout centered>Ошибка</Layout>}\n\t\t\t{event.data &&\n\t\t\t\t<Layout centeredPage gap=\"1rem\">\n\t\t\t\t\t<h1>Мероприятие: {event.data.name}</h1>\n\t\t\t\t\t<div className={styles.card}>\n\t\t\t\t\t\t<div className={styles.card__header}>\n\t\t\t\t\t\t\t<h2>Мероприятие</h2>\n\t\t\t\t\t\t\t<button className=\"button\" onClick={() => alert(\"Пока не работает\")}>Редактировать</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className={styles.card__body}>\n\t\t\t\t\t\t\t<div>Название: {event.data.name}</div>\n\t\t\t\t\t\t\t<div>Дата проведения: {dateToString(event.data.date)}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className={styles.card}>\n\t\t\t\t\t\t<div className={styles.card__header}>\n\t\t\t\t\t\t\t<h2>Виды билетов</h2>\n\t\t\t\t\t\t\t<button className=\"button\" onClick={() => alert(\"Пока не работает\")}>Редактировать</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className={styles.card__body}>\n\t\t\t\t\t\t\t{ticketTypes.isLoading && <div>Загрузка</div>}\n\t\t\t\t\t\t\t{ticketTypes.isError && <div>Ошибка</div>}\n\t\t\t\t\t\t\t{ticketTypes.data?.map(v => <div key={v.id}>{v.name}</div>)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<Link to={`/scanner/${eventId}`} className=\"button\">Ссылка на сканер</Link>\n\t\t\t\t\t<button className=\"button\" onClick={() => alert(\"Пока не работает\")}>Добавить билет</button>\n\t\t\t\t\t<Link to={`/events/${eventId}/tickets`} className=\"button\">Список билетов</Link>\n\t\t\t\t\t<div className={styles.gap}></div>\n\t\t\t\t\t<div className={styles.right}>\n\t\t\t\t\t\t<button className=\"button\" onClick={() => alert(\"Пока не работает\")}>Удалить</button>\n\t\t\t\t\t</div>\n\t\t\t\t</Layout>\n\t\t\t}\n\t\t</>\n\t);\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"center\":\"styles_center__9dZ9p\",\"right\":\"styles_right__Zz+YX\"};","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"styles_root__L6Gyd\",\"visible\":\"styles_visible__nfYo0\",\"center\":\"styles_center__LDcBX\"};","import { useEffect, useRef, useState } from \"react\";\nimport { EventData, Ticket } from \"../../../api/dataTypes\";\nimport classNames from \"../../../utils/classNames\";\nimport styles from \"./styles.module.css\"\nimport QRCode from \"qrcode\"\nimport { dateToString } from \"../../../utils/dates\";\nimport html2canvas from \"html2canvas\";\n\nexport default function ViewTicket({ event, ticket }: ViewTicketProps)\n{\n\tconst [res, setRes] = useState<HTMLCanvasElement | null>(null);\n\tconst [qrcode, setQrcode] = useState(\"\");\n\tconst ticketRef = useRef<HTMLDivElement>(null);\n\tuseEffect(() =>\n\t{\n\t\tif (!ticket) return;\n\t\tsetRes(null);\n\t\tQRCode.toDataURL(ticket.code, { errorCorrectionLevel: \"H\", scale: 8 }, (e, url) => setQrcode(url));\n\t}, [ticket]);\n\n\tuseEffect(() =>\n\t{\n\t\tif (!qrcode || !ticketRef.current) return;\n\t\tconst timeout = setTimeout(() =>\n\t\t{\n\t\t\tif (!qrcode || !ticketRef.current) return;\n\t\t\thtml2canvas(ticketRef.current).then(canvas => setRes(canvas));\n\t\t}, 10)\n\t\treturn () => clearTimeout(timeout);\n\t}, [qrcode, ticketRef])\n\n\treturn (\n\t\t<>\n\t\t\t<div ref={ticketRef} className={classNames(styles.root, !res && styles.visible)}>\n\t\t\t\t<h1>Билет</h1>\n\t\t\t\t<div className={styles.center} style={{ marginTop: \"1rem\" }}>\n\t\t\t\t\t<img src={qrcode} alt={ticket?.code} />\n\t\t\t\t</div>\n\t\t\t\t<div className={styles.center} style={{ marginBottom: \"1rem\" }}>{ticket?.code}</div>\n\t\t\t\t<div>\n\t\t\t\t\t<div>Мероприятие: {event?.name}</div>\n\t\t\t\t\t<div>Дата: {dateToString(event?.date)}</div>\n\t\t\t\t\t<div>Тип билета: {ticket?.type}</div>\n\t\t\t\t\t<div>Посетитель: {ticket?.personName}</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t{res && <div ref={ref =>\n\t\t\t{\n\t\t\t\tif (!ref) return;\n\t\t\t\tref.innerHTML = \"\";\n\t\t\t\tref.appendChild(res);\n\t\t\t}}></div>}\n\t\t</>\n\t);\n}\n\ninterface ViewTicketProps\n{\n\tevent: EventData | undefined,\n\tticket: Ticket | null,\n}","import { useParams } from \"react-router-dom\";\nimport Layout from \"../../components/Layout\";\nimport styles from \"./styles.module.css\"\nimport { useEvent } from \"../../api/events\";\nimport useTickets from \"../../api/tickets\";\nimport Popup from \"../../components/Popup\";\nimport ViewTicket from \"./ViewTicket\";\nimport { useState } from \"react\";\nimport { Ticket } from \"../../api/dataTypes\";\nimport { useTitle } from \"../../utils/useTtile\";\nimport Spinner from \"../../components/Spinner\";\n\nexport default function TicketsPage()\n{\n\tconst [ticketOpen, setTicketOpen] = useState<Ticket | null>(null);\n\tconst urlParams = useParams();\n\tconst eventId = urlParams[\"eventId\"]!;\n\tconst event = useEvent(eventId);\n\tconst tickets = useTickets(eventId);\n\tuseTitle([event.data?.name, \"Билеты\"]);\n\n\treturn (\n\t\t<>\n\t\t\t{(event.isLoading || tickets.isLoading) && <Layout><Spinner/></Layout>}\n\t\t\t{(event.isError || tickets.isError) && <Layout centered>Ошибка</Layout>}\n\t\t\t{event.data && tickets.isSuccess &&\n\t\t\t\t<Layout centeredPage gap=\"1rem\">\n\t\t\t\t\t<h1>Билеты: {event.data.name}</h1>\n\t\t\t\t\t<div className={styles.right}>\n\t\t\t\t\t\t<button className=\"button\" onClick={() => alert(\"Пока не работает\")}>Распечатать</button>\n\t\t\t\t\t\t<button className=\"button\" onClick={() => alert(\"Пока не работает\")}>Добавить</button>\n\t\t\t\t\t</div>\n\t\t\t\t\t<table>\n\t\t\t\t\t\t<thead>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<th style={{ width: \"11em\" }}>Код</th>\n\t\t\t\t\t\t\t\t<th>Посетитель</th>\n\t\t\t\t\t\t\t\t<th>Тип билета</th>\n\t\t\t\t\t\t\t\t<th>Промокод</th>\n\t\t\t\t\t\t\t\t<th><div>Исполь</div><div>зован</div></th>\n\t\t\t\t\t\t\t\t<th>Билет</th>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t</thead>\n\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t{tickets.data?.map(v => <tr key={v.id}>\n\t\t\t\t\t\t\t\t<td>{v.code}</td>\n\t\t\t\t\t\t\t\t<td>{v.personName}</td>\n\t\t\t\t\t\t\t\t<td>{v.type}</td>\n\t\t\t\t\t\t\t\t<td>{v.promocode}</td>\n\t\t\t\t\t\t\t\t<td className={styles.center}>{v.scanned ? \"✓\" : \"✖\"}</td>\n\t\t\t\t\t\t\t\t<td className={styles.center}>\n\t\t\t\t\t\t\t\t\t<button onClick={() => setTicketOpen(v)}>Билет</button>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>)}\n\t\t\t\t\t\t</tbody>\n\t\t\t\t\t</table>\n\t\t\t\t\t<Popup open={!!ticketOpen} close={() => setTicketOpen(null)} title=\"Просмотр билета\">\n\t\t\t\t\t\t<ViewTicket ticket={ticketOpen} event={event.data} />\n\t\t\t\t\t</Popup>\n\t\t\t\t</Layout>\n\t\t\t}\n\t\t</>\n\t);\n}\n","import { Navigate, Route, Routes } from \"react-router-dom\";\nimport useUser from \"./api/user\";\nimport hasPermission, { Operation } from \"./api/operations\";\nimport Preloader from \"./components/Preloader\";\nimport ScrollToTop from \"./utils/scrollToTop\";\n\nimport NotFoundPage from \"./pages/NotFoundPage\";\nimport NoPermissionPage from \"./pages/NoPermissionPage\";\nimport AuthPage from \"./pages/AuthPage\";\nimport IndexPage from \"./pages/IndexPage\";\nimport ScannerPage from \"./pages/ScannerPage\";\nimport EventsPage from \"./pages/EventsPage\";\nimport StaffPage from \"./pages/StaffPage\";\nimport EventPage from \"./pages/EventPage\";\nimport TicketsPage from \"./pages/TicketsPage\";\n\n\nexport default function App()\n{\n\tconst user = useUser();\n\n\tfunction ProtectedRoute(permission: Operation | null, path: string, element: JSX.Element)\n\t{\n\t\treturn <Route path={path} element={\n\t\t\t!user.data?.auth ? <Navigate to=\"/auth\" /> : (\n\t\t\t\tpermission == null || hasPermission(user, permission) ? element : <NoPermissionPage />\n\t\t\t)\n\t\t} />\n\t}\n\n\treturn <div className=\"root\">\n\t\t<ScrollToTop />\n\n\t\t{user.isLoading && <Preloader />}\n\t\t{user.isError && \"Ошибка\"}\n\t\t{user.isSuccess &&\n\t\t\t<Routes>\n\t\t\t\t<Route path=\"/auth\" element={!user.data?.auth ? <AuthPage /> : <Navigate to=\"/\" />} />\n\t\t\t\t<Route path=\"/scanner/:eventId\" element={<ScannerPage />} />\n\t\t\t\t{ProtectedRoute(null, \"/\", <IndexPage />)}\n\t\t\t\t{ProtectedRoute(\"page_events\", \"/events\", <EventsPage />)}\n\t\t\t\t{ProtectedRoute(\"page_events\", \"/events/:eventId\", <EventPage />)}\n\t\t\t\t{ProtectedRoute(\"page_events\", \"/events/:eventId/tickets\", <TicketsPage />)}\n\t\t\t\t{ProtectedRoute(\"page_staff\", \"/staff\", <StaffPage />)}\n\t\t\t\t{ProtectedRoute(null, \"*\", <NotFoundPage />)}\n\t\t\t</Routes>\n\t\t}\n\t</div>\n}\n"],"names":["ApiError","_Error","_inherits","_super","_createSuper","_classCallCheck","apply","arguments","_createClass","_wrapNativeSuper","Error","useUser","useQuery","getUser","_getUser","_asyncToGenerator","_regeneratorRuntime","mark","_callee","res","data","user","wrap","_context","prev","next","fetch","sent","json","status","abrupt","auth","id","login","name","operations","ok","msg","stop","hasPermission","operation","_user$data","_user$data2","includes","useHasPermission","_user$data3","_user$data4","ScrollToTop","pathname","useLocation","useEffect","window","scrollTo","HeaderBack","navigate","useNavigate","_jsx","className","styles","root","children","onClick","classNames","_len","length","names","Array","_key","filter","v","join","fetchPost","input","body","method","headers","undefined","JSON","stringify","postAuth","_x","_postAuth","authData","postLogout","_postLogout","_callee2","_context2","Spinner","_ref","color","zIndex","_jsxs","spinner","style","Header","location","mutation","queryClient","useQueryClient","useMutation","mutationFn","onSuccess","invalidateQueries","useMutationLogout","block","Link","to","home","src","logo","alt","mutate","disabled","Layout","_ref$centered","centered","_ref$centeredPage","centeredPage","_ref$height","height100","_ref$gap","gap","_ref$header","header","maxHeight","body_centered","body_centeredPage","NotFoundPage","NoPermissionPage","useTitle","title","prefis","prevTitle","document","t","concat","_toConsumableArray","Form","onSubmit","form","e","preventDefault","FormField","_ref2","label","field","AuthPage","_useState","useState","_useState2","_slicedToArray","error","setError","inp_login","useRef","inp_password","onError","setQueryData","message","useMutationAuth","isLoading","_inp_login$current","_inp_password$current","current","value","password","ref","type","required","IndexPage","Scanner","_ref$active","active","onScan","qrScanner","setQrScanner","videoRef","scanner","QrScanner","result","highlightScanRegion","maxScansPerSecond","old","destroy","start","pause","padNum","num","len","padStart","countWord","one","two","five","numS","at","dateToString","date","getDate","getMonth","getFullYear","timeToString","seconds","dateStr","getHours","getMinutes","getSeconds","relativeDate","nowBreak","now","Date","delta","getTime","d","Math","floor","abs","dY","dM","dD","dh","dm","ds","_getChange","sv","getChange","_getChange2","vChange","vNames","relative","ScannerHeader","event","onInputBtn","top","bottom","getEvents","_getEvents","events","map","parseEventResponse","useEvent","eventId","_getEvent","getEvent","useScannerEvent","_x2","_getScannerEvent","getScannerEvent","_callee3","_context3","NaN","responseEvent","postNewEvent","_x3","_postNewEvent","_callee4","eventData","_context4","Popup","_ref$open","open","close","_ref$title","popup","useTickets","_getTickets","getTickets","parseTicketResponse","responseTicket","ticket","scannedDate","createdDate","postCheckTicket","_postCheckTicket","ticketData","apiResult","ScannerPage","urlParams","useParams","qrScanResult","setQrScanResult","_useState3","_useState4","ticketCode","setTicketCode","_useState5","_useState6","_useState7","_useState8","checkTicketResult","setCheckTicketResult","_useState9","_useState10","inputOpen","setInputOpen","inputRef","handleScan","useCallback","handleOpenInput","toString","handleCloseInput","reset","useMutationCheckTicket","code","isSuccess","timeout","setTimeout","clearTimeout","_Fragment","isIdle","scanner_scanned","scanResult","success","big","result_desc","personName","promocode","errorCode","marginTop","_inputRef$current","CreateEventForm","inp_title","inp_date","_queryClient$getQuery","getQueryState","useMutationNewEvent","isError","textAlign","_inp_title$current","_inp_date$current","EventsPage","_events$data","createFormOpen","setCreateFormOpen","forEach","useEvents","space_between","StaffPage","useTicketTypes","_getTicketTypes","getTicketTypes","EventPage","_event$data","_ticketTypes$data","ticketTypes","card","card__header","alert","card__body","right","ViewTicket","setRes","qrcode","setQrcode","ticketRef","QRCode","errorCorrectionLevel","scale","url","html2canvas","then","canvas","visible","center","marginBottom","innerHTML","appendChild","TicketsPage","_tickets$data","ticketOpen","setTicketOpen","tickets","width","scanned","App","ProtectedRoute","permission","path","element","Route","Navigate","Preloader","Routes"],"sourceRoot":""}